<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="a_data_002/styles.css">
		<!-- base href="https://flourish-user-templates.com/91620/ssmx-tR8lLtYkQqXc_QGAQGadYHkZ2fnAdo9vPNmR-kPFc-O_jxzbLHgkR7KdOqu/?environment=editor&auto=1" -->
	<title>Flourish template: Projection map</title><style type="text/css">body.fl-cursor-custom,body.fl-cursor-custom *{cursor:none!important}body.fl-cursor-pointer,body.fl-cursor-pointer *{cursor:pointer!important}body.fl-cursor-default .fl-annotations .fl-annotations-cursor,body.fl-cursor-pointer .fl-annotations .fl-annotations-cursor{visibility:hidden}.fl-annotations{position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,0);cursor:pointer;-webkit-user-select:none!important;user-select:none!important;transition:opacity .25s}.fl-annotations,.fl-annotations.is-dragging,.fl-annotations.is-dragging *{pointer-events:none}.flourish-popup{z-index:100000}.fl-project-editor{font-family:Canva Sans Variable,sans-serif;color:#333;margin:0;font-size:16px;height:100%;-webkit-font-smoothing:antialiased}.fl-project-editor *{box-sizing:border-box}.fl-project-editor .no-select{-webkit-user-select:none;user-select:none}.fl-project-editor h1,.fl-project-editor h2,.fl-project-editor h3,.fl-project-editor h4,.fl-project-editor p{margin:0;font-weight:400}.fl-project-editor input,.fl-project-editor select,.fl-project-editor textarea{font-family:Canva Sans Variable,sans-serif}.fl-project-editor a:link,.fl-project-editor a:visited{color:inherit;text-decoration:none}.fl-project-editor a:active,.fl-project-editor a:hover{opacity:.75}.fl-project-editor header{display:block;position:absolute;top:0;left:0;width:100%}.fl-project-editor main{display:block;position:absolute;top:80px;left:0;width:100%;height:calc(100vh - 80px);overflow-y:auto;transition:height .5s ease,top .5s ease}@media (min-width:420px){.fl-project-editor main{top:92px;height:calc(100vh - 92px)}}.fl-project-editor .hide-editor-bar main{top:50px;height:calc(100vh - 50px)}@media (min-width:420px){.fl-project-editor .hide-editor-bar main{top:62px;height:calc(100vh - 62px)}}.fl-project-editor .user-nav{float:right;padding-top:0;display:none}@media (min-width:820px){.fl-project-editor .user-nav{display:block;margin-top:13px;height:36px}.fl-project-editor .user-nav .dropdown-head #current-picture{height:36px;width:36px;border-radius:9999px;margin-left:10px}.fl-project-editor .user-nav .dropdown-list{left:auto;right:-5px;margin-top:-5px}}.fl-project-editor .visualisation-editor{overflow-x:hidden}.fl-project-editor .visualisation-editor .template-chooser.visible+.tab-panes{display:none}.fl-project-editor .visualisation-editor .tab-panes{height:100%;width:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation,.fl-project-editor .visualisation-editor .tab-panes .row-inner,.fl-project-editor .visualisation-editor .tab-panes .row.editor,.fl-project-editor .visualisation-editor .tab-panes .tab-pane{height:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{position:relative}@media (min-width:820px){.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{min-height:100%;padding-bottom:40px}}.fl-project-editor .visualisation-editor .tab-panes .tab-pane .side-panel{display:none}.fl-project-editor .visualisation-editor .tab-panes .tab-pane.active .side-panel{display:block}.fl-project-editor .visualisation-editor .tab-panes .tab-pane:not(.active) #spreadsheet-container input{display:none}.fl-project-editor .story-editor,.fl-project-editor .visualisation-editor{background:#f9f9f9}.fl-project-editor .row.editor{padding:0}.no-template .fl-project-editor .row.editor{display:none}.fl-project-editor .row.editor .row-inner{max-width:none;padding:0 10px}.fl-project-editor .row.editor #visibility-status .label,.fl-project-editor .row.editor .blueprint-tag{display:inline-block;margin-left:2px}.fl-project-editor .row.editor #story,.fl-project-editor .row.editor #visualisation{height:100%;width:100%;transition:height .5s ease;position:relative}.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{width:100%;height:auto;overflow:visible;transition:width .5s ease;position:relative;text-align:center}.fl-project-editor .row.editor #story .editor-core .preview-holder,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder{width:100%;height:100%;padding-right:4px;min-width:100px;min-height:100px;transition:margin-left .5s ease,width .5s ease,opacity 1s;position:relative;background:#fff;display:inline-block;box-shadow:0 0 2px rgba(0,0,0,.2)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview{text-align:right;border:none;background:#fff;display:block;width:100%}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{width:100vw;border:none;position:relative}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview{height:100%;max-height:100%;overflow-y:auto;min-width:100px}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{height:100%;width:100%;min-width:100px;border:none;flex:1}.fl-project-editor .row.editor #story .editor-core .preview-holder .loading-spinner,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .loading-spinner{position:absolute;left:50%;top:50%;width:27px;height:27px;opacity:0;pointer-events:none;z-index:5;margin-top:-13.5px;margin-left:-13.5px}.fl-project-editor .row.editor #story .editor-core .preview-holder .unsupported-notice,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .unsupported-notice{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#f9f9f9;padding:20px;z-index:10}.fl-project-editor .row.editor #story .editor-core #resize-overlay,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:none}.fl-project-editor .row.editor #story .editor-core #resize-overlay.dragging,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay.dragging{display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{position:absolute;width:4px;bottom:0;top:0;right:0;margin-bottom:0;display:none;z-index:100;transition:width .2s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle{cursor:ew-resize;position:absolute;width:4px;bottom:0;top:0;right:0;background:#eee;transition:width .1s,background .1s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle:after{display:block;content:"";position:absolute;top:0;bottom:0;left:-4px;background:transparent;right:0;width:auto}.fl-project-editor .row.editor #story .editor-core #resize-handle-container .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container .resize-handle-icon{position:absolute;right:3px;top:50%;margin-top:-15px;opacity:.8;pointer-events:none;transition:right .1s;display:none}.fl-project-editor .row.editor #story .editor-core #resize-handle-container>i,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container>i{position:absolute;top:5px;left:5px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover{width:6px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle{width:6px;background:#ddd}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle:after{left:-10px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover .resize-handle-icon{right:2px;display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container.dragging #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container.dragging #resize-handle:after{left:-200px;right:0}@media (min-width:770px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{display:block}}@media (min-width:820px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0 10px 0 0}}.fl-project-editor .row.editor #visualisation{padding:10px 0 0}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{transform-origin:left top}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview.mini-preview{z-index:1000;opacity:1;box-shadow:none;animation:fadeIn .5s;overflow:hidden;pointer-events:none}@keyframes fadeIn{0%{opacity:0}1%{opacity:0}to{opacity:1}}@media (min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{width:100%}}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe{height:calc(100% - 64px)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview.nav-style-none iframe{height:100%}@media (min-width:820px){.fl-project-editor .row.editor #story .editor-core{max-width:calc(100% - 220px);margin-left:220px;min-height:calc(100vh - 94px)}}.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder iframe{width:320px}.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder iframe{width:500px}.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder iframe{width:768px}.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder iframe{width:1024px}@media (min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core{max-width:calc(100% - 350px)}}.fl-project-editor .project-header{padding:0 10px;position:absolute;top:2px;left:48px;right:0;width:auto}@media (min-width:420px){.fl-project-editor .project-header{left:60px}.fl-project-editor .project-header:after{clear:both;display:block;content:""}}@media (min-width:620px){.fl-project-editor .project-header{height:60px;z-index:110}}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{text-align:left;margin:-1px 0 0 3px;height:auto;line-height:1em;display:inline-block;border-radius:3px;vertical-align:top}@media (min-width:420px){.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{font-size:11px;padding:2px 3px 1px}}.fl-project-editor .project-header #visibility-status{cursor:pointer}.fl-project-editor .project-header #visibility-status:hover{color:#333}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .read-only{color:#aaa;font-weight:400;padding:1px 3px 2px;background:#eee}.fl-project-editor .project-header #visibility-status.public,.fl-project-editor .project-header .read-only.public{background:#ffdc98;color:#000}.fl-project-editor .project-header #visibility-status.public:hover,.fl-project-editor .project-header .read-only.public:hover{background:#eec26d;color:#000}.fl-project-editor .project-header .blueprint-tag{font-size:9px;font-weight:700;background:#2886b2;color:#fff;text-transform:uppercase;padding:1px 5px 2px;cursor:default}.fl-project-editor .project-header .project-settings{margin-left:10px;font-size:14px;font-weight:400;line-height:0;vertical-align:top;margin-bottom:-3px;display:inline-block;margin-top:-2px;z-index:110;height:auto}.fl-project-editor .project-header .project-settings .dropdown-head{padding-right:5px;padding-left:5px;padding-bottom:10px;font-size:16px}.fl-project-editor .project-header .project-settings .dropdown-list{margin-right:0}@media (min-width:420px){.fl-project-editor .project-header .project-settings{top:0;margin-top:-4px;padding-top:19px}}@media (min-width:620px){.fl-project-editor .project-header .project-settings{padding-top:18px}}.fl-project-editor .project-header .has-name+.project-settings{margin-left:0}.fl-project-editor .project-header .name{position:relative;vertical-align:top;font-weight:400;font-style:italic;height:23px;margin-left:0;width:auto;display:inline-block;font-size:16px;z-index:110;margin-top:3px}@media (min-width:420px){.fl-project-editor .project-header .name{margin-top:5px;height:26px}}@media (min-width:620px){.fl-project-editor .project-header .name{font-size:18px}}@media (min-width:820px){.fl-project-editor .project-header .name{font-size:18px}}.fl-project-editor .project-header .name input{font-size:1em;font-size:inherit;border:none;border-bottom:1px solid #ccc;border-radius:0;background:#fff;font-style:italic;padding:0;display:inline-block;color:#aaa;position:absolute;left:0;top:0;box-sizing:initial;outline:none;height:23px}@media (min-width:420px){.fl-project-editor .project-header .name input{height:26px}}.fl-project-editor .project-header .name .name-width-setter{font-size:inherit;padding:0;display:inline-block;opacity:0;pointer-events:none;max-width:140px;min-width:40px;white-space:pre}@media (min-width:420px){.fl-project-editor .project-header .name .name-width-setter{max-width:240px}}@media (min-width:620px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}@media (min-width:820px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}.fl-project-editor .project-header .name.not-editable input{border-color:transparent;color:#333;top:0;background:transparent;font-style:normal}.fl-project-editor .project-header .name.has-name .name-width-setter,.fl-project-editor .project-header .name.has-name input{font-style:normal;background:none}.fl-project-editor .project-header .name.has-name input{color:#333;border-color:#ccc;top:0;font-style:normal}.fl-project-editor .project-header .name.has-name .name-overlay{display:block;top:0}.fl-project-editor .project-header .name .name-overlay{display:none;content:"";position:absolute;left:125px;top:0;width:20px;height:100%;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff 80%)}@media (min-width:420px){.fl-project-editor .project-header .name .name-overlay{left:225px}}@media (min-width:620px){.fl-project-editor .project-header .name .name-overlay{left:325px}}@media (min-width:820px){.fl-project-editor .project-header .name .name-overlay{left:325px}}.fl-project-editor .project-header .project-author{color:#aaa;font-weight:400;top:30px;font-size:11px;line-height:1em;position:absolute}@media (min-width:420px){.fl-project-editor .project-header .project-author{top:38px;font-size:12px}}@media (min-width:820px){.fl-project-editor .project-header .project-author{font-size:12px}}.fl-project-editor .project-header .project-author+.dropdown .dropdown-head{display:inline-block}.fl-project-editor .project-header .project-author+.dropdown .badge{top:-14px}.fl-project-editor .project-header .project-author+.dropdown .dropdown-list .badge{position:absolute;right:10px;top:12px;pointer-events:none}.fl-project-editor .project-header #export-btn-group{float:right;margin-bottom:0;margin-right:0;margin-top:9px}.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px;padding:0;text-align:center}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:none}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:0}@media (min-width:420px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px}}@media (min-width:820px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{padding:0 8px;height:36px;width:auto}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:inline}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:3px}}.fl-project-editor .project-header #export-btn-group #create-btn{height:36px;line-height:34px}.visualisation-editor.no-template .fl-project-editor .project-header #export-btn-group{display:none}.fl-project-editor .project-header #export-btn-group #story-btn-form{display:inline-block}.fl-project-editor .project-header #export-btn-group #story-btn{border:1px solid #ddd;background-color:#eee;color:#333;font-family:Canva Sans Variable;margin-right:8px;overflow:visible}@media (min-width:420px){.fl-project-editor .project-header #export-btn-group{margin-top:15px}}@media (min-width:820px){.fl-project-editor .project-header #export-btn-group{margin-top:12px}}.fl-project-editor .row.editor-bar{background:#e3e3e3;height:30px;font-size:12px;padding:0 10px}.fl-project-editor .row.editor-bar #visualisation-tabs{z-index:110;width:calc(100% - 120px);margin-left:60px;text-align:center}.fl-project-editor .row.editor-bar #visualisation-tabs button{font-size:12px;line-height:1em}.fl-project-editor .row.editor-bar #visualisation-tabs button i{margin-right:3px;font-size:11px}.fl-project-editor .row.editor-bar #visibility-status,.fl-project-editor .row.editor-bar .read-only{display:inline-block;float:left;font-weight:700;color:#aaa;margin-top:7px}.fl-project-editor .row.editor-bar .confirm-saved{float:right;margin-top:8px;margin-left:0;width:60px}@media (min-width:820px){.fl-project-editor .row.editor-bar #visualisation-tabs{width:calc(100% - 380px);margin-left:0}}.fl-project-editor .tab-data .tab-preview{position:fixed;z-index:2}.fl-project-editor .tab-data #preview-menu{opacity:0;pointer-events:none}.fl-project-editor .side-panel{text-align:left;position:relative;background:#f9f9f9;line-height:1.1;margin-left:0;padding:10px 0 1px;width:100%}.fl-project-editor .side-panel.closed{margin-left:-300px}.fl-project-editor .side-panel .side-panel-inner{margin-bottom:87px;background:#fff}@media (min-width:820px){.fl-project-editor .side-panel .side-panel-inner{border:none;background:transparent}}.fl-project-editor .side-panel .side-panel-close{position:absolute;top:15px;right:10px;font-size:1.25em;width:1.5em;height:1.5em;padding:.1em;text-align:center;border:1px solid rgba(0,0,0,.4);border-radius:3px;background:#eaeaea;transition:right .5s ease;z-index:1}.fl-project-editor .side-panel .side-panel-close.opener{right:calc(-1.5em + 1px);border-bottom-left-radius:0;border-top-left-radius:0}.fl-project-editor .side-panel .side-panel-close:hover{opacity:1}.fl-project-editor .side-panel .side-panel-close:hover i{opacity:.7}.fl-project-editor .side-panel#slides-panel{height:100%;padding:0;background:#fff;margin-top:20px}.fl-project-editor .side-panel#slides-panel .side-panel-scrollbox{padding:0 15px 10px}@media (min-width:820px){.fl-project-editor .side-panel#slides-panel{max-width:200px;right:auto;position:absolute;top:0;margin-top:0;border-right:1px solid #ddd}}.fl-project-editor .side-panel .side-panel-scrollbox{width:100%;height:100%;padding:10px 10px 20px;overflow-y:scroll}.fl-project-editor .side-panel .side-panel-scrollbox .side-panel-inner{width:100%}@media (min-width:1220px){.fl-project-editor .side-panel .side-panel-scrollbox{padding:20px}}.fl-project-editor .side-panel h1{margin:1em 0 .5em;font-size:.9em;opacity:.5;cursor:default}.fl-project-editor .side-panel h2{font-size:13px;letter-spacing:0;font-weight:500;margin:0 0 .6em;position:relative;color:#333;word-wrap:break-word}.fl-project-editor .side-panel .toplevel-settings-block{padding:0 5px 20px}.fl-project-editor .side-panel .toplevel-settings-block .settings-option{display:inline-block}.fl-project-editor .side-panel .toplevel-settings-block .settings-option:first-child{margin-top:9px}.fl-project-editor .side-panel .settings-divider{margin:1rem -10px 0;clear:both;width:calc(100% + 20px);height:1px;background:#eee}.fl-project-editor .side-panel .settings-subhead{text-transform:uppercase;font-size:.7rem;font-weight:700;color:#999;padding:.5rem 5px .25rem;margin:0;width:100%}.fl-project-editor .side-panel .settings-block{margin:0;display:inline-block;width:100%;background-color:#fff;padding:0 10px;min-height:24px}.fl-project-editor .side-panel .settings-block h2{margin:0 -10px;font-size:.8rem;padding:.75em 30px;font-weight:700;background-color:#f5f5f5;border-top:1px solid #ddd;cursor:pointer;color:#535e65}.fl-project-editor .side-panel .settings-block h2:focus{outline:none}.fl-project-editor .side-panel .settings-block h2:focus,.fl-project-editor .side-panel .settings-block h2:hover{background:#e8e8e8}.fl-project-editor .side-panel .settings-block h2:after{content:"";width:.6rem;height:.8rem;position:absolute;left:15px;background-repeat:no-repeat;background-position:50%;background-image:url(data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJjYXJldC1yaWdodCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTkyIDUxMiIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWNhcmV0LXJpZ2h0IGZhLXctNiBmYS0zeCI+PHBhdGggZmlsbD0iIzUzNWU2NSIgZD0iTTAgMzg0LjY2MlYxMjcuMzM4YzAtMTcuODE4IDIxLjU0My0yNi43NDEgMzQuMTQyLTE0LjE0MmwxMjguNjYyIDEyOC42NjJjNy44MSA3LjgxIDcuODEgMjAuNDc0IDAgMjguMjg0TDM0LjE0MiAzOTguODA0QzIxLjU0MyA0MTEuNDA0IDAgNDAyLjQ4IDAgMzg0LjY2MnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .settings-block .settings-divider,.fl-project-editor .side-panel .settings-block .settings-option,.fl-project-editor .side-panel .settings-block .settings-subhead{display:none}.fl-project-editor .side-panel .settings-block input::-webkit-contacts-auto-fill-button{visibility:hidden;display:none!important;pointer-events:none;position:absolute;right:0}.fl-project-editor .side-panel .settings-block.open{padding-bottom:1rem}.fl-project-editor .side-panel .settings-block.open h2:after{transform:rotate(90deg)}.fl-project-editor .side-panel .settings-block.open .settings-option{display:inline-block}.fl-project-editor .side-panel .settings-block.open .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker{vertical-align:top;line-height:0;position:relative}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker:hover:not(.is-null) .cancel-setting{transform:translateX(27px)}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker.is-null .color-wrapper input{opacity:0}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting{width:30px;border:1px solid #ddd;background:#fff;position:absolute;padding:0;height:30px;vertical-align:top;left:0;transition:transform .2s}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting svg{margin-left:2px;width:8px;height:8px;pointer-events:none;transition:opacity .2s}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting:focus{border:1px solid #ddd}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting:hover svg{opacity:.4}.fl-project-editor .side-panel .settings-block.open .settings-divider,.fl-project-editor .side-panel .settings-block.open .settings-subhead{display:block}.fl-project-editor .side-panel .settings-block.open h2+.settings-divider{background:transparent;margin-top:.25rem}.fl-project-editor .side-panel .settings-block.hidden{display:none}.fl-project-editor .side-panel h3{font-size:.8rem;line-height:1.2em;font-weight:400;margin-top:0;margin-bottom:3px;color:#333;display:inline-block;cursor:default;overflow:hidden;vertical-align:top;background:#fff;text-overflow:ellipsis}.fl-project-editor .side-panel p{font-size:12px;margin-top:0;font-weight:300}.fl-project-editor .side-panel .settings-option{position:relative;margin-top:.75rem;display:none;vertical-align:bottom;width:100%;padding:0 5px}.fl-project-editor .side-panel .settings-option label{font-size:13px;display:inline-block;vertical-align:top;width:100%}.fl-project-editor .side-panel .settings-option label .help-tip{margin-left:3px;color:#d0d0d0;font-style:normal}.fl-project-editor .side-panel .settings-option label .help-tip:hover{color:#aaa}.fl-project-editor .side-panel .settings-option label:hover{z-index:2;position:relative}.fl-project-editor .side-panel .settings-option button,.fl-project-editor .side-panel .settings-option input,.fl-project-editor .side-panel .settings-option select,.fl-project-editor .side-panel .settings-option textarea{border-radius:3px;border:1px solid #ddd;padding:.2em .1em .2em .3em;min-height:30px;font-size:13px;display:block;outline:none;transition:border .2s linear;max-width:100%}.fl-project-editor .side-panel .settings-option button:focus,.fl-project-editor .side-panel .settings-option input:focus,.fl-project-editor .side-panel .settings-option select:focus,.fl-project-editor .side-panel .settings-option textarea:focus{border:1px solid #777}.fl-project-editor .side-panel .settings-option ::-webkit-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option :-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option ::-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option .autocomplete .dropdown-list .dropdown-item{font-size:13px;padding:10px 10px 10px 6px}.fl-project-editor .side-panel .settings-option .color-wrapper{width:30px;height:30px;overflow:hidden;border-radius:3px;position:relative;display:inline-block;background-color:#fff}.fl-project-editor .side-panel .settings-option .color-wrapper input{transform:scale(10);position:absolute}.fl-project-editor .side-panel .settings-option .color-wrapper:before{display:block;position:absolute;content:"";top:0;bottom:-10px;left:0;width:1px;pointer-events:none;background:rgba(0,0,0,.1);transform-origin:top;transform:rotate(-45deg)}.fl-project-editor .side-panel .settings-option .color-wrapper:after{display:block;position:absolute;content:"";border:1px solid rgba(0,0,0,.1);left:0;right:0;top:0;bottom:0;pointer-events:none}.fl-project-editor .side-panel .settings-option .color-wrapper:invalid{box-shadow:none}.fl-project-editor .side-panel .settings-option .single-button{background:#eee;color:#333;width:100%;border:none;padding:0;cursor:pointer;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .single-button:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .single-button:focus{border:none}.fl-project-editor .side-panel .settings-option .buttons-container{display:flex}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]{width:0;height:0;opacity:0;margin:0;display:inline-block;display:none}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label{font-size:13px;background:#eee;color:#333;display:inline-block;height:30px;cursor:pointer;text-align:center;padding-top:8px;border-right:1px solid #fff;border-bottom:1px solid #fff;background-size:cover;background-position:50% 50%;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label i{color:#555}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label img{margin-top:-8px}.fl-project-editor .side-panel .settings-option .buttons-container.large input[type=radio]+label{height:60px}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:not([disabled])+label:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:disabled+label{cursor:default}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label{background-color:#ccdee6;cursor:default;position:relative}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:hover{background-color:#ccdee6}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:after{width:100%;height:2px;background:#2886b2;bottom:0;position:absolute;content:"";left:0}.fl-project-editor .side-panel .settings-option input[data-autocomplete]+.fa{position:absolute;right:10px;margin-top:-21px;font-size:12px;pointer-events:none}.fl-project-editor .side-panel .settings-option select{width:100%;height:30px}.fl-project-editor .side-panel .settings-option.option-type-color input{padding:0;background:#fff}.fl-project-editor .side-panel .settings-option.option-type-color,.fl-project-editor .side-panel .settings-option.option-type-number,.fl-project-editor .side-panel .settings-option.option-type-rows{width:50%}.fl-project-editor .side-panel .settings-option.option-type-color.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-number.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-rows.width-quarter input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-color input,.fl-project-editor .side-panel .settings-option.option-type-number input,.fl-project-editor .side-panel .settings-option.option-type-rows input{width:calc(50% - 5px);min-width:40px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons).settings-buttons>label{height:auto}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input{display:none}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons)>label:first-child{position:absolute;padding-left:37px;padding-top:7px;width:auto;right:5px;left:5px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider{position:relative;cursor:pointer;width:33px;height:30px;background:transparent;padding-left:0;padding-top:0}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:hover:after{border-color:#bbb}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:before{position:absolute;content:"";height:12px;width:33px;top:9px;left:0;border-radius:6px;background-color:#ddd;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:after{position:absolute;content:"";height:24px;width:24px;left:0;bottom:3px;border-radius:50%;background-color:#fff;border:1px solid #ddd;box-sizing:border-box;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:before{background:#ccdee6}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:after{left:9px;background:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:hover:after{background-color:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-code textarea,.fl-project-editor .side-panel .settings-option.option-type-string input,.fl-project-editor .side-panel .settings-option.option-type-text textarea,.fl-project-editor .side-panel .settings-option.option-type-url input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-code textarea.size-large,.fl-project-editor .side-panel .settings-option.option-type-text textarea.size-large{height:50vh}.fl-project-editor .side-panel .settings-option.option-type-code label{width:calc(100% - 18px)}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control{font-size:.7em;color:#999;transform:scaleY(-1);margin-bottom:.3em;display:inline-block;vertical-align:bottom}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control.selected{transform:scale(-1);cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control{transition:transform .1s ease}.fl-project-editor .side-panel .settings-option.option-type-code textarea{font-family:monospace;font-size:13px}.fl-project-editor .side-panel .settings-option.option-type-font input.font-menu{width:100%;outline:none}.fl-project-editor .side-panel .settings-option.option-type-colors input{width:100%;margin:0;z-index:1;cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{display:flex;align-items:stretch;min-height:30px;overflow:hidden}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches em,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item em{font-style:normal;color:#777;display:block;padding:8px;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{display:inline-block;height:30px;flex:1}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span:nth-child(n+13):nth-child(-n+99),.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span:nth-child(n+13):nth-child(-n+99){display:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches{padding:0;position:absolute;left:4px;right:26px;z-index:0;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{padding:2px 0!important;width:100%}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item label{position:absolute;top:6px;left:8px;color:hsla(0,0%,98%,.9);pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors.custom input{opacity:0}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches{align-items:flex-start}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span{max-width:28px;pointer-events:auto;transition:transform .1s;transform-origin:center center}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span:hover{transform:scale(1.2)}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa{font-size:24px;color:#ccc;margin-left:4px}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa:before{position:relative;top:2px}.fl-project-editor .side-panel .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-option.width-full{width:100%!important}.fl-project-editor .side-panel .settings-option.width-half{width:50%!important}.fl-project-editor .side-panel .settings-option.width-quarter{width:25%!important}.fl-project-editor .side-panel .settings-option.width-three-quarters{width:75%!important}.fl-project-editor .side-panel .settings-option .description-link{cursor:pointer;color:#dd4141}.fl-project-editor .side-panel .detailed-settings h2{margin-bottom:.75rem}.fl-project-editor .side-panel .detailed-settings h2:after{content:"ï "}.fl-project-editor .side-panel .palette{max-height:calc(100vh - 210px);overflow-y:auto;padding:1px}.fl-project-editor .side-panel .palette .swatch-color,.fl-project-editor .side-panel .palette button,.fl-project-editor .side-panel .palette input[type=color]{-webkit-appearance:none;appearance:none;display:inline-block;width:28px;height:28px;padding:0;margin:1px;border:none;outline:none;background:transparent}.fl-project-editor .side-panel .palette .swatch-color.fa-plus-square:before,.fl-project-editor .side-panel .palette button.fa-plus-square:before,.fl-project-editor .side-panel .palette input[type=color].fa-plus-square:before{font-size:32px;color:#ddd;margin-left:1px}.fl-project-editor .side-panel .palette .swatch-color.fa-times,.fl-project-editor .side-panel .palette button.fa-times,.fl-project-editor .side-panel .palette input[type=color].fa-times{position:absolute;right:0;opacity:0;color:#aaa}.fl-project-editor .side-panel .palette .swatch-color.fa-times:hover,.fl-project-editor .side-panel .palette button.fa-times:hover,.fl-project-editor .side-panel .palette input[type=color].fa-times:hover{color:#888}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette button::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch-wrapper{padding:0}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch,.fl-project-editor .side-panel .palette button::-webkit-color-swatch,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch{border:none}.fl-project-editor .side-panel .palette [draggable]{cursor:move;cursor:grab;cursor:-webkit-grab}.fl-project-editor .side-panel .palette [draggable]:active{cursor:grabbing;cursor:-webkit-grabbing}.fl-project-editor .side-panel .palette .swatch-handle{display:block;width:15px;height:28px;color:#ddd;position:absolute;left:1px;top:7px;text-align:center;font-size:18px;font-weight:700;line-height:5.5px;pointer-events:none}.fl-project-editor .side-panel .palette input[type=text]{width:120px;width:calc(100% - 52px);background:transparent;padding:5px 8px;border-width:0;margin:0}.fl-project-editor .side-panel .palette p{position:relative;display:flex;align-items:center;margin:0;padding:5px 5px 5px 20px;border-bottom:1px solid #eee}.fl-project-editor .side-panel .palette p:first-child{border-top:1px solid #eee}.fl-project-editor .side-panel .palette p:hover button.fa-times{opacity:.5}.fl-project-editor .side-panel .palette p:hover [draggable]:before{opacity:1}.fl-project-editor .side-panel .side-panel-top{border-top:none;border-bottom:1px solid rgba(0,0,0,.1);margin-top:0;padding:17px 10px 20px;font-size:1em}.fl-project-editor .side-panel .side-panel-top.shadow{box-shadow:3px 3px 5px rgba(0,0,0,.1)}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .side-panel-icon-btn{color:#fff;background:#9a9a9a;padding:7px 0 0;border-radius:9999px;width:30px;height:30px;text-align:center;margin:0}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .4em}#story .fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .25em}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{height:1em;border-left:1px solid rgba(0,0,0,.25);display:inline-block;vertical-align:middle}.fl-project-editor .side-panel .current-template{margin:0;opacity:0;transition:opacity .2s;position:relative;padding:10px 10px 0;min-height:56px;border-bottom:1px solid #ddd}.fl-project-editor .side-panel .current-template h1{padding-right:76px;opacity:1;font-size:12px;font-weight:400;min-height:36px;margin:0;padding-top:3px}.fl-project-editor .side-panel .current-template h1>span{display:block;font-weight:700;font-size:16px}.fl-project-editor .side-panel .current-template h3{margin-top:.7em}.fl-project-editor .side-panel .current-template h3 i{margin-left:.2em;color:rgba(0,0,0,.5)}.fl-project-editor .side-panel .current-template .current-template-title{position:relative}.fl-project-editor .side-panel .current-template .current-template-title .current-template-version{margin-left:4px;font-size:12px}.fl-project-editor .side-panel .current-template .current-template-thumbnail{position:absolute;right:-10px;top:-10px;width:76px;height:calc(100% + 19px);background-size:cover;background-position:50%;background-repeat:no-repeat}.fl-project-editor .side-panel .current-template .current-template-thumbnail:after{width:20px;height:100%;position:absolute;left:0;right:0;background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0));content:"";display:block}.fl-project-editor .side-panel .template-theme button#reset-to-theme:disabled{color:#d3d3d3}@media (min-width:620px) and (max-width:819px){.fl-project-editor .side-panel .side-panel-inner{max-width:500px;margin:20px auto}}@media (min-width:820px){.fl-project-editor .side-panel{max-width:size(3.5);position:fixed;right:0;top:93px;background:#fff;overflow-y:auto;height:calc(100vh - 93px);border-left:1px solid #ddd}.fl-project-editor .side-panel .current-template{padding-top:0;min-height:46px}}.fl-project-editor .tab-preview #visualisation .editor-core{overflow:visible!important}.fl-project-editor .tab-preview.active #visualisation .editor-core{overflow:auto!important}.fl-project-editor body.full-screen .row.editor #story,.fl-project-editor body.full-screen .row.editor #visualisation{position:fixed!important;top:0!important;left:0!important;width:100%!important;height:100%!important}.fl-project-editor body.full-screen .row.editor #story .editor-core #preview,.fl-project-editor body.full-screen .row.editor #visualisation .editor-core #preview{width:100%!important}.fl-project-editor body.full-screen .row.editor #story #exit-full-screen,.fl-project-editor body.full-screen .row.editor #visualisation #exit-full-screen{display:block}.fl-project-editor body.loading .loading-spinner{opacity:1!important;animation-name:spin;animation-duration:1.2s;animation-iteration-count:infinite;animation-timing-function:linear;transform-origin:center center}.fl-project-editor body.loading .content{min-height:100vh}.fl-project-editor body.loading .preview-holder{pointer-events:none;background-color:#f3f3f3}.fl-project-editor body.loading .preview-holder #preview{background:transparent!important}.fl-project-editor body.loading .preview-holder iframe{opacity:.1}.fl-project-editor body.loading #blank-slide,.fl-project-editor body.loading .row.data{opacity:0;pointer-events:none}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.fl-project-editor #private-publishing{display:inline-block;padding-right:15px;margin-top:10px;width:100%}.fl-project-editor #private-publishing+input{width:100%;padding:5px}.fl-project-editor #private-publishing+input.hidden{display:none}.fl-project-editor #private-publishing+input.error{border-color:#dd4141}.fl-project-editor #private-publishing.upgrade-btn{width:auto;color:#999}.fl-project-editor #private-publishing.upgrade-btn:after{top:4px}.fl-annotations-source-element{position:absolute;left:-3rem;width:3rem;height:3rem;z-index:9999;background:#333;background-position:50%;background-size:40%;background-repeat:no-repeat;border:none;border-radius:100% 0 0 100%;top:.25rem;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg data-prefix='fas' data-icon='pencil-alt' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath fill='%23fff' d='M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z'/%3E%3C/svg%3E")}.fl-annotations-add-element,.fl-annotations-source-element{cursor:pointer;-webkit-appearance:none;appearance:none;pointer-events:all}.fl-annotations-add-element{display:block;border:none;margin:1rem;border-radius:2rem;color:#fff;font-weight:700;text-align:center;padding-left:1.5rem;padding-right:0;font-size:1rem;height:2.5rem;line-height:2.5rem;background:#333;background-position:.5rem;background-size:1.5rem;background-repeat:no-repeat;-webkit-user-select:none;user-select:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36'%3E%3Cstyle%3E.fl-annotations-cursor rect{fill:%23fff}%3C/style%3E%3Cg xmlns='http://www.w3.org/2000/svg' class='fl-annotations-cursor' transform='translate(18 18)'%3E%3Ccircle r='16' style='transition:stroke .25s' fill='none' stroke='%23fff' stroke-width='2' stroke-dasharray='4,4'/%3E%3Cpath fill='%23FFF' d='M-1-6h2V6h-2z'/%3E%3Cpath fill='%23FFF' d='M-6-1H6v2H-6z'/%3E%3C/g%3E%3C/svg%3E")}.fl-annotations .fl-annotations-node{pointer-events:none}.fl-annotations .fl-annotations-node.fl-connector-popup,.fl-annotations.is-editing .fl-annotations-node{pointer-events:all}.fl-annotations .fl-annotations-node.fl-marker text,.fl-annotations .fl-annotations-node.fl-point text{fill:#fff;text-anchor:middle;dominant-baseline:middle;alignment-baseline:middle;font-size:.8rem;font-weight:800}.fl-annotations .fl-annotations-node.fl-marker.selected circle{fill:#333}.fl-annotations .fl-notch{fill:none;stroke-dasharray:4,4;pointer-events:none}.fl-annotations.is-editing .fl-notch{pointer-events:all}.fl-annotations .fl-annotations-node .fl-connector,.fl-annotations .fl-annotations-node text,.fl-annotations.is-editing.is-dragging .fl-notch{pointer-events:none}.fl-annotations .fl-annotations-inline a,.fl-annotations.is-editing .fl-annotations-inline{pointer-events:all}.fl-annotations .fl-annotations-cursor,.fl-annotations.is-hiding .fl-annotations-inline,.fl-annotations.is-hiding .fl-annotations-node,.fl-annotations.is-hiding .fl-annotations-node .main-circle,.fl-annotations.is-hiding .fl-connector,.fl-annotations.is-hiding .fl-label-bg,.fl-annotations.is-hiding .fl-label-fg{pointer-events:none;visibility:hidden}.fl-annotations.is-edit-add .fl-annotations-cursor{visibility:visible}.fl-annotations.is-hiding .fl-annotations-cursor{visibility:hidden}.fl-annotations .fl-annotations-cursor circle{fill:none;stroke:#eee;stroke-width:2px;stroke-dasharray:4,4;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid circle{stroke:#333;animation:cursorRotate 5s linear 0s infinite normal}.fl-annotations .fl-annotations-cursor line{stroke:#eee;stroke-width:2px;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid line{stroke:#333}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle{stroke-dasharray:6,2;stroke-dashoffset:1}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.inner-outline line,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline line{stroke:#fff;stroke-width:4px}@keyframes cursorRotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.fl-project-editor .fl-annotation-list{list-style-type:none;margin:0;padding:1rem;border-bottom:1px solid #eee}.fl-project-editor .fl-annotation-list:empty{padding:0}.fl-annotation-list-wrap{background:#fff;margin:0;font-size:.8rem;max-height:10rem;overflow:auto;position:relative;box-shadow:inset 0 -10px 10px -10px rgba(0,0,0,.25);transition:box-shadow .5s}.fl-annotation-list-wrap.scroll-end{box-shadow:inset 0 -10px 10px -10px transparent}.fl-project-editor .fl-annotation-list>li{display:flex;position:relative;flex-direction:row;align-items:center;justify-content:space-between;list-style-type:none;line-height:1.35rem;color:#b1b1b1;cursor:pointer}.fl-project-editor .fl-annotation-list .drop-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;flex-direction:column;display:none}.fl-project-editor .fl-annotation-list.dragging .drop-overlay{display:flex}.fl-project-editor .fl-annotation-list .drop-above,.fl-project-editor .fl-annotation-list .drop-below{flex-grow:1}.fl-project-editor .fl-annotation-list .drop-above{border-top:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-below{border-bottom:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-above.dropping{border-top:1px solid #666}.fl-project-editor .fl-annotation-list .drop-below.dropping{border-bottom:1px solid #666}.fl-project-editor .fl-annotation-list>li .text{display:block;overflow:hidden;text-overflow:ellipsis;flex-grow:1;white-space:nowrap}.fl-project-editor .fl-annotation-list>li .icon{display:none;margin-left:.5rem;color:#333;opacity:0;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected .icon,.fl-project-editor .fl-annotation-list>li:hover .icon{display:inline-block;margin-left:.5rem;opacity:.5}.fl-project-editor .fl-annotation-list>li .icon:hover{opacity:1}.fl-project-editor .fl-annotation-list>li:hover{color:#000}.fl-project-editor .fl-annotation-list>li:before{content:"";width:.75rem;height:.75rem;display:inline-block;background:#b1b1b1;vertical-align:middle;margin-right:.5rem;border-radius:100%;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected{cursor:default}.fl-project-editor .fl-annotation-list>li.selected:before{background:#333}.fl-project-editor .fl-annotation-list>li.selected .text{color:#333}.fl-annotation-list li.drag-over{background:red}.icon-pencil{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguNjYgNC4wODZMOS43NTYgMi45OUEuODA5LjgwOSAwIDAwMTAgMi4zOTZhLjg0NS44NDUgMCAwMC0uMjQ0LS42TDguMjA1LjI1QS44Mi44MiAwIDAwNy42MDQgMGEuNzg0Ljc4NCAwIDAwLS41OTQuMjVMNS45MTQgMS4zNCA4LjY2IDQuMDg2ek0yLjc0NiAxMGw1LjQ5Mi01LjQ5Mi0yLjc0Ni0yLjc0NkwwIDcuMjU0VjEwaDIuNzQ2em0tLjYzNC0zLjIzNGMtLjA5NyAwLS4xNDUtLjA0OS0uMTQ1LS4xNDYgMC0uMDQ0LjAxNS0uMDguMDQ2LS4xMTJsMy41NzgtMy41NzdhLjE1My4xNTMgMCAwMS4xMTItLjA0N2MuMDk3IDAgLjE0NS4wNDkuMTQ1LjE0NmEuMTUzLjE1MyAwIDAxLS4wNDYuMTEyTDIuMjI0IDYuNzE5YS4xNTMuMTUzIDAgMDEtLjExMi4wNDd6bS4yODQgMi4zOUgxLjY5VjguMzFILjg0NXYtLjcwNmwuNi0uNiAxLjU1MiAxLjU1LS42MDEuNjAxeiIgZmlsbD0iIzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+")}.icon-clone{width:10px;height:10px;background-image:url('data:image/svg+xml;charset=utf-8,<svg aria-hidden="true" data-prefix="fas" data-icon="clone" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-clone fa-w-16 fa-3x"><path fill="currentColor" d="M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"/></svg>')}.icon-trash{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEiIGhlaWdodD0iMTEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMjg2IDEwLjg1N2MuMjk0IDAgLjU0Ny0uMTM1Ljc1Ni0uNDA1LjIxLS4yNy4zMTUtLjU5LjMxNS0uOTZ2LTYuMzVIMTBjLjA2MyAwIC4xMTQtLjAyLjE1NC0uMDYuMDQtLjA0LjA2LS4wOS4wNi0uMTUzVjIuNWEuMjA5LjIwOSAwIDAwLS4wNi0uMTU0LjIwOS4yMDkgMCAwMC0uMTU0LS4wNkg3LjkzbC0uNDY4LTEuMTE5QS45MjguOTI4IDAgMDA3LjEuNzQ2Ljk0NS45NDUgMCAwMDYuNTcxLjU3SDQuNDNhLjk0NS45NDUgMCAwMC0uNTMuMTc1LjkyOC45MjggMCAwMC0uMzYxLjQyMWwtLjQ2OSAxLjExOUgxYS4yMDkuMjA5IDAgMDAtLjE1NC4wNi4yMDkuMjA5IDAgMDAtLjA2LjE1NHYuNDI5YzAgLjA2Mi4wMi4xMTMuMDYuMTU0LjA0LjA0LjA5Mi4wNi4xNTQuMDZoLjY0M3Y2LjM3NWMwIC4zNy4xMDUuNjg2LjMxNS45NDcuMjEuMjYyLjQ2Mi4zOTIuNzU2LjM5Mmg1LjU3MnpNNyAyLjI4Nkg0bC4zMjgtLjc4NGEuMTg5LjE4OSAwIDAxLjExNC0uMDczaDIuMTIzYS4xODkuMTg5IDAgMDEuMTE0LjA3M0w3IDIuMjg2ek00IDkuMTQzaC0uNDI5YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5Mi0uMDYuMTU0LS4wNkg0Yy4wNjMgMCAuMTE0LjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6bTEuNzE0IDBoLS40MjhhLjIwOS4yMDkgMCAwMS0uMTU0LS4wNi4yMDkuMjA5IDAgMDEtLjA2LS4xNTRWNC4yMTRjMC0uMDYyLjAyLS4xMTQuMDYtLjE1NC4wNC0uMDQuMDkxLS4wNi4xNTQtLjA2aC40MjhjLjA2MyAwIC4xMTQuMDIuMTU0LjA2LjA0LjA0LjA2LjA5Mi4wNi4xNTRWOC45M2MwIC4wNjItLjAyLjExMy0uMDYuMTU0YS4yMDkuMjA5IDAgMDEtLjE1NC4wNnptMS43MTUgMEg3YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5MS0uMDYuMTU0LS4wNmguNDI5Yy4wNjIgMCAuMTEzLjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6IiBmaWxsPSIjMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=")}.fl-project-editor .side-panel .help-tip{display:inline-block;position:relative;width:.7rem;height:.7rem;transform:translateY(1px);opacity:.6;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtcXVlc3Rpb24tY2lyY2xlIGZhLXctMTYgZmEtM3giPjxwYXRoIGZpbGw9IiNhYWEiIGQ9Ik01MDQgMjU2YzAgMTM2Ljk5Ny0xMTEuMDQzIDI0OC0yNDggMjQ4UzggMzkyLjk5NyA4IDI1NkM4IDExOS4wODMgMTE5LjA0MyA4IDI1NiA4czI0OCAxMTEuMDgzIDI0OCAyNDh6TTI2Mi42NTUgOTBjLTU0LjQ5NyAwLTg5LjI1NSAyMi45NTctMTE2LjU0OSA2My43NTgtMy41MzYgNS4yODYtMi4zNTMgMTIuNDE1IDIuNzE1IDE2LjI1OGwzNC42OTkgMjYuMzFjNS4yMDUgMy45NDcgMTIuNjIxIDMuMDA4IDE2LjY2NS0yLjEyMiAxNy44NjQtMjIuNjU4IDMwLjExMy0zNS43OTcgNTcuMzAzLTM1Ljc5NyAyMC40MjkgMCA0NS42OTggMTMuMTQ4IDQ1LjY5OCAzMi45NTggMCAxNC45NzYtMTIuMzYzIDIyLjY2Ny0zMi41MzQgMzMuOTc2QzI0Ny4xMjggMjM4LjUyOCAyMTYgMjU0Ljk0MSAyMTYgMjk2djRjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg1NmM2LjYyNyAwIDEyLTUuMzczIDEyLTEydi0xLjMzM2MwLTI4LjQ2MiA4My4xODYtMjkuNjQ3IDgzLjE4Ni0xMDYuNjY3IDAtNTguMDAyLTYwLjE2NS0xMDItMTE2LjUzMS0xMDJ6TTI1NiAzMzhjLTI1LjM2NSAwLTQ2IDIwLjYzNS00NiA0NiAwIDI1LjM2NCAyMC42MzUgNDYgNDYgNDZzNDYtMjAuNjM2IDQ2LTQ2YzAtMjUuMzY1LTIwLjYzNS00Ni00Ni00NnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .help-tip:hover{opacity:1}.fl-project-editor .side-panel .help-tip:after{content:attr(data-popup-body);position:absolute;bottom:100%;left:50%;transform:translate(-50%)}.fl-annotations-tip{font-family:Canva Sans Variable,sans-serif;max-width:15rem;background:#fff;color:#333;box-shadow:0 0 8px rgba(0,0,0,.2);border-radius:.5rem;padding:.625rem;font-size:.72rem;line-height:1.25em;position:absolute;z-index:999999;pointer-events:none}.fl-annotations-tip:after{content:"";position:absolute;bottom:-8px;left:50%;margin-left:-8px;width:0;height:0;border-color:#fff transparent transparent;border-style:solid;border-width:8px 8px 0}.fl-annotations-tip.hidden{display:none}.fl-disable-selection,.fl-disable-selection *{-webkit-user-select:none!important;user-select:none!important}.fl-project-editor{z-index:100000;overflow-y:auto;width:18rem;background:#fff;box-shadow:0 -2px 5px 0 rgba(0,0,0,.2);height:100vh;overflow:auto}.fl-project-editor .side-panel .side-panel-inner{margin:0;max-width:none}.fl-project-editor .side-panel{padding:0;background:transparent;height:auto;position:static;overflow:none}.fl-annotation-settings{border-top:1px solid #eee}.fl-annotation-contents :first-child{margin-top:0}.fl-annotation-contents :last-child{margin-bottom:0}.fl-annotation-contents a{color:inherit;-webkit-text-stroke-color:inherit}.fl-annotation-contents img{-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;pointer-events:none}.empty-annotation-message{padding:1rem;font-size:1rem;text-align:center;color:#aaa}.fl-project-editor .fl-annotation-settings .settings-block,.fl-project-editor .fl-annotation-settings .toplevel-settings-block{display:none}.fl-project-editor.active-annotation .fl-annotation-settings .settings-block,.fl-project-editor.active-annotation .fl-annotation-settings .toplevel-settings-block{display:block}.fl-project-editor.active-annotation .fl-annotation-settings .empty-annotation-message{display:none}@media screen and (min-width:521px){.fl-annotations-add-element{display:none}}@media screen and (max-width:520px){.fl-project-editor{right:0;position:absolute}.is-edit-settings .fl-annotations-add-element,.is-edit-settings.is-editing .fl-annotations-source-element{left:-21rem}}</style><style id="flourish-page-styles" type="text/css">html { 
 font-size:62.5%; 
 -webkit-font-smoothing: antialiased; 
 -moz-osx-font-smoothing: auto; } 


@media(min-width: 380px) {
html { font-size:75%; }
}

@media(min-width: 580px) {
html { font-size:87.5%; }
}

@media(min-width: 1080px) {
html { font-size:100%; }
}

@media(min-width: 1280px) {
html { font-size:120%; }
}

</style><style type="text/css">.flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }</style><style type="text/css" class="flourish-controls">.fl-controls-container {
	display: inline-block;
	line-height: 1em;
}

.fl-controls-title {
	display: inline-block;
	margin-inline-end: 0.5rem;
}

.fl-controls-container, .fl-controls-container * {
	box-sizing: border-box;
}

.slider-holder {
	margin-bottom: 20px;
}

.fl-controls-slider, .slider-play {
	pointer-events: all;
	display: inline-block;
	vertical-align: middle;
}

.slider-play svg {
	height: 100%;
	width: 100%;
	display: block;
	cursor:  pointer;
}

.fl-controls-slider svg {
	display: block;
}

.slider-play:hover {
	opacity: 0.6;
}

.fl-control-slider {
	width: 100%;
	bottom: 0;
	align-items: center;
}

.fl-control {
	position: relative;
}

.fl-control.hidden {
	display: none;
}

.fl-control .button {
	display: inline-flex;
	align-items: center;
	background: #eee;
	padding: 0 0.5em;
	margin-right: 0.25em;
	margin-bottom: 0.25em;
	line-height: 1em;
	box-sizing: border-box;
}

.fl-control.grouped:not(.hidden) {
	display: inline-table;
	table-layout: fixed;
}

.fl-control.grouped:not(.hidden) .button {
	display: table-cell;
	vertical-align: middle;
	margin: 0;
	text-align: center;
}

.fl-control .button.selected {
	background: #ddd;
}

.fl-control-dropdown {
	line-height: 1em;
	position: relative;
}

.fl-control-dropdown::after {
	display: block;
	content: '';
	width: 10px;
	height: 10px;
	background: transparent;
	position: absolute;
	right: 5px;
	left: auto;
	top: 50%;
	pointer-events: none;
	transform: translateY(calc(-50% + 3px));
	border-left: 5px solid transparent;
	border-right: 5px solid transparent;
	border-top: 5px solid;
	box-sizing: border-box;
}

.is-rtl .fl-control-dropdown::after {
	left: 5px;
	right: auto;
}

.fl-control-dropdown select {
	-webkit-appearance: none;
	width: 100%;
}

</style><style class="fl-ui-styles-controls">.fl-control.hidden {
	display: none;
}

.fl-control {
	vertical-align: middle;
	position: relative;
	font-size: 1rem;
	font-weight: bold;
}

.fl-controls-title {
	font-size: 1rem;
	font-weight: bold;
	vertical-align: middle;
}

.fl-control.fl-control .button {
	height: 2rem;
	padding: 0 0.5em;
}

.fl-control-dropdown select {
	height: 2rem;
	font-size: 1rem;
	font-weight: bold;
	padding: 0 0.2rem;
}

.fl-control-slider .slider-end-labels {
	font-size: 1rem;
	font-weight: bold;
}

.fl-control-slider {
	height: 2rem;
}

</style><style class="fl-ui-styles-button">.fl-control-buttons.fl-control.hidden {
	display: none;
}

.fl-control-buttons.fl-control .button {
	overflow: hidden;
	white-space: nowrap;
	margin: 0 2px 0 0 !important;
	background-color: #ffffff;
	color: #333333;
	border: 1px solid rgba(51, 51, 51, 0.25);
	border-radius: 3px;
}

.fl-control-buttons.fl-control .button:hover {
	background-color: #ffffff;
	color: #333333;
}

.fl-control-buttons.fl-control .button.selected {
	background-color: #3f334d;
	color: #ffffff;
}

.fl-control-buttons.grouped.fl-control .button {
	border-right: none;
	border-radius: 0;
	margin: 0;
}

.fl-control-buttons.grouped.fl-control .button:first-child {
	border-radius: 3px 0 0 3px;
}

.fl-control-buttons.grouped.fl-control .button:last-child {
	border-radius: 0 3px 3px 0;
	border-right: 1px solid rgba(51, 51, 51, 0.25);
}

.fl-control-buttons.grouped.fl-control.fixed-width:not(.hidden) {
	width: undefined%;
}

</style><style class="fl-ui-styles-dropdown">.fl-control-dropdown .heading {
	margin-bottom: 0.4em;
}

.fl-control-dropdown {
	pointer-events: all;
}

.fl-control-dropdown select {
	display: inline-block;
	cursor: pointer;
	overflow: hidden;
	white-space: nowrap;
	position: relative;
	font-family: inherit;
	background-color: transparent;
	color: inherit;
	border: 1px solid transparent;
	border-bottom: 1px solid currentColor;
}

.fl-control-dropdown:after {
	color: inherit;
}

.fl-control-dropdown .main .current {
	line-height: 1em;
	height: 100%;
	max-width: 88%;
	display: inline-block;
	overflow: hidden;
	vertical-align: top;
}

.fl-control-dropdown .list {
	top: 2px;
	min-width: 100%;
	padding: 2px;
	display: none;
	max-height: 200px;
	overflow-y: auto;
	box-shadow: 0 1px 4px rgba(0, 0, 0, .1);
	margin-top: 2px;
}

.fl-control-dropdown .list .list-item {
	line-height: 1em;
	cursor: pointer;
	font-weight: normal;
	color: inherit;
}

.fl-control-dropdown.open .list {
	display: block;
	border: 1px solid currentColor;
	background-color: transparent;
	z-index: 1;
	animation: dropdown-out 200ms;
}

.fl-control-dropdown .list-item:hover {
	opacity: 0.6;
}

.fl-control-dropdown .list-item.selected, .fl-control-dropdown .list-item.selected:hover {
	opacity: 1;
	cursor: default;
}

.fl-control-dropdown .main {
	padding-left: 0;
	padding-right: 0.1rem;
}

</style><style class="fl-ui-styles-slider">.fl-control-slider .fl-controls-slider {
	height: 28px;
}

.fl-control-slider .slider-play {
	fill: currentColor;
	width: 14px;
	height: 14px;
}

.fl-control-slider .slider-label {
	padding-inline-start: 0.3rem;
	box-sizing: content-box;
	color: currentColor;
}

.fl-control-slider input[type=range] {
	-webkit-appearance: none;
	color: currentColor;
	background-color: transparent;
}

.fl-control-slider input[type=range]::-webkit-slider-runnable-track {
	-webkit-appearance: none;
	background: #dddddd;
	border-radius: 100px;
	height: 2.8000000000000003px;
}

.fl-control-slider input[type=range]::-webkit-slider-thumb {
	-webkit-appearance: none;
	width: 14px;
	height: 14px;
	border-radius: 100px;
	background: currentColor;
	margin-top: -5.6px;
}

.fl-control-slider input[type=range]::-moz-range-track {
	-webkit-appearance: none;
	background: #dddddd;
	border-radius: 100px;
	height: 2.8000000000000003px;
}

.fl-control-slider input[type=range]::-moz-range-thumb {
	-webkit-appearance: none;
	width: 14px;
	height: 14px;
	border-radius: 100px;
	border: none;
	background: currentColor;
}

</style><style id="legend-styles" type="text/css">.fl-legend-container.interactive .fl-legend-item {
	cursor: pointer;
}

.fl-legend-container.interactive .fl-legend-item:hover {
	opacity: 0.75;
}

.fl-legend-container.interactive .fl-legend-item:focus-visible {
	border-radius: 4px;
	outline: 2.5px solid #4d90fe;
	outline-offset: -2.25px;
}

.fl-legend-sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

</style><style id="popup-styles" type="text/css">.flourish-panel .flourish-panel-shadow {
	pointer-events: none;
	position: absolute;
	display: none;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: -1;
	overflow: hidden;
}

.flourish-panel .flourish-panel-shadow:before {
	content: '';
	display: block;
	position: absolute;
	width: 100%;
	height: 100%;
	border-radius: 50%;
	background: rgba(0,0,0,0.3);
	bottom: 0;
	left: 0;
	top: 0;
	right: 0;
	filter: blur(15px);
}

.flourish-panel-inner:focus-visible {
	outline: none !important;
}

.flourish-panel:focus-visible {
	outline: none !important;
}

.flourish-panel-close:focus {
	outline: none;
}

.flourish-panel-close:focus-visible {
	outline: -webkit-focus-ring-color auto 5px;
}

.flourish-popup {
	pointer-events: none;
}

.flourish-popup .flourish-popup-content {
	pointer-events: auto;
	max-width: 15rem !important;
}

.flourish-popup header, .flourish-panel header {
	margin: 0;
}

.flourish-popup header {
	font-weight: bold;
	padding: 0.5rem;
	border-radius: 0.2rem 0.2rem 0 0;
}

.flourish-popup header:not(:last-child) {
	padding-bottom: 0;
}

.flourish-popup header:not(:last-child) {
	padding-bottom: 0;
}

.flourish-panel .flourish-panel-content-inner {
	overflow: auto;
}

.flourish-panel header {
	font-weight: bold;
	margin-bottom: 0.5em;
	padding-right: 1rem;
}

.flourish-popup .main-content {
	padding: 0.5rem;
}

.flourish-popup header + .main-content {
	padding: 0.5rem;
	padding-top: 0;
}

.flourish-popup h3, .flourish-panel h3 {
	font-size: 1em;
	margin: 0;
}

.flourish-popup h3, .flourish-popup h4, .flourish-popup ul li {
	text-align: start;
}

.flourish-panel h3, .flourish-panel h4, .flourish-panel ul li {
	text-align: start;
}

.flourish-popup h4, .flourish-panel h4 {
	font-size: 1em;
	margin: 0 0 0.25em;
	opacity: 0.6;
	font-weight: normal;
}

.flourish-popup h4:empty, .flourish-panel h4:empty, .flourish-popup h3:empty, .flourish-panel h3:empty, .flourish-popup p:empty, .flourish-panel p:empty {
	display: none;
}

.flourish-popup p, .flourish-panel p {
	margin: 0;
	font-size: inherit;
	font-weight: normal;
}

.flourish-popup table, .flourish-panel table {
	margin: 0;
	width: 100%;
	border-collapse: collapse;
	table-layout: auto;
}

.flourish-popup table tr, .flourish-panel table tr {
	border-top: 1px solid #eee;
}

.flourish-popup table tr:first-child, .flourish-panel table tr:first-child {
	border-top: none;
}

.flourish-popup table tr td, .flourish-panel table tr td {
	padding: 0.25em 0 0.25em 0;
	padding-inline-end: 0.25em;
	vertical-align: top;
	font-size: inherit;
	text-align: start;
	font-weight: normal;
	overflow: hidden;
	text-overflow: ellipsis;
}

.flourish-popup table tr:last-child td, .flourish-panel table tr:last-child td {
	padding-bottom: 0;
}

.flourish-popup .data-heading {
	font-weight: normal;
	display: inline-block;
}

.flourish-panel .data-heading {
	font-weight: normal;
	display: inline-block;
}

.flourish-popup table tr td.table-col-value, .flourish-panel table tr td.table-col-value {
	text-align: end;
	padding: 0.25em 0 0.25em 0;
	padding-inline-end: 0.25em;
}

.flourish-popup table tr:last-child td.table-col-value, .flourish-panel table tr:last-child td.table-col-value {
	padding-bottom: 0;
}

.flourish-popup ul, .flourish-panel ul {
	padding: 0;
	margin: 0;
}

.flourish-popup ul li, .flourish-panel ul li {
	font-size: inherit;
	list-style-type: none;
}

</style><link rel="stylesheet" href="a_data_002/css.css" class="layout-font"></head>
	<body data-new-gr-c-s-check-loaded="8.934.0" data-gr-ext-installed="" style="font-family: Barlow; background-color: rgb(245, 245, 245); background-size: cover; background-repeat: no-repeat; background-position: center center;" class="fl-fonts-loaded" dir="ltr">

<script>window.Flourish = {"static_prefix":"static","environment":"editor","is_read_only":false};</script><script>var template=function(t){"use strict";var e={projection:"Eckert IV",fit:"world",centering:"center",longitude:0,latitude:0,roll:0,padding_top:0,padding_bottom:0,padding_left:0,padding_right:0,min_area:0,include_lines:!1,zoom:1,aspect:null,point_show:!0,point_symbol_type:"circle",point_sort:!1,point_circle_min_radius:0,point_circle_max_radius:10,point_circle_default_radius:2,point_spike_max_height:30,point_spike_default_height:8,point_spike_base_width:5,point_max_value:null,point_arrow_angle:60,point_arrow_min_length:3,point_arrow_max_length:50,point_arrow_flip_mode:"vertically",point_arrow_positive_color:"#1D6996",point_arrow_negative_color:"#EDAD08",point_fill:"#000000",point_opacity:.5,point_stroke_opacity:1,point_stroke_custom:!1,point_stroke_color:"#000000",point_overlap_stroke_color:"#ffffff",point_stroke_width:.75,point_colors:{},point_scale_per_column:!1,legend_categorical_points_show:!0,legend_categorical_points_interaction:!0,legend_container:{orientation:"vertical"},legend_categorical_points:{show_legend:!0,max_width:100},legend_size_show:!0,legend_size:{show_legend:!0},legend_arrow_show:!0,legend_arrow:{show_legend:!0,icon_height:2},legend_arrow_negative_label:"Negative",legend_arrow_positive_label:"Positive",point_popup:{panel_side_fixed:!1,popup_header_type:"inline",popup_list_type:"ul",popup_width:15,panel_vertical_position:"center"},point_search:!0,point_highlight_fill:"#cccccc",point_highlight_stroke_inner:"#000000",point_highlight_stroke_outer:"#ffffff",point_highlight_stroke_width:3,point_highlight_fill_opacity:.5,point_highlight_fill_custom:!1,point_show_labels:!0,point_label_size:.8,point_label_opacity:1,point_label_color:"#000000",point_label_outline_color:"#ffffff",point_label_upper_case:!1,point_label_bold:!1,point_label_priority_list:"",point_hide_non_prioritized_labels:!1,point_label_hide_list:"",point_label_hide_overlapping:!0,map_show:!0,map_include_all_region_geometry:!1,map_fill:"#E8F0EC",map_fill_opacity:1,map_show_stroke:!0,map_highlight_stroke_inner:"#000000",map_highlight_stroke_outer:"#ffffff",map_highlight_stroke_width:3,map_stroke:"#ffffff",map_stroke_width:.5,map_stroke_opacity:1,map_colors:{},map_show_labels:!0,map_label_opacity:.2,map_label_color:"#333333",map_label_outline_color:"#ffffff",map_label_size:.6,map_label_priority_list:"",map_hide_non_prioritized_labels:!1,map_label_hide_list:"",map_label_upper_case:!0,map_label_bold:!0,line_above_highlights:!1,line_stroke_color:"#000000",line_stroke_width:.5,line_stroke_opacity:1,line_stroke_dash:"long",line_stroke_color_overrides:"",line_stroke_width_overrides:"",line_stroke_opacity_overrides:"",line_stroke_dash_overrides:"",group_quantization_precision:4,group_above_highlights:!1,group_stroke_color:null,group_stroke_width:1.5,group_stroke_opacity:1,legend_map_show:!0,legend_categorical_map:{max_width:100},legend_continuous_map:{},choropleth_continuous_legend:{},choropleth_scale_per_column:!1,choropleth_missing_values:"pattern",missing_pattern_size:5,missing_pattern_opacity:1,missing_pattern_color_1:"#dddddd",missing_pattern_color_2:"#eeeeee",map_search:!0,choropleth_popup:{popup_pointer:!1,popup_header_type:"inline",popup_list_type:"ul",popup_width:15,panel_vertical_position:"center"},map_shadow:!1,map_shadow_offset_x:-5,map_shadow_offset_y:5,map_shadow_blur:10,map_shadow_color:"#605E5E",map_shadow_opacity:.7,annotations:{},search_box_size:2,search_box_width:12,search_box_radius:4,search_box_stroke:.1,search_bg_color:null,search_bg_opacity:.8,search_icon_color:null,search_text_color:null,search_dropdown:!1,search_expanded:!1,search_placeholder:"Search..",graticule_show:!1,graticule_color:"#aaaaaa",graticule_opacity:1,graticule_width:.5,graticule_separation_longitude:20,graticule_separation_latitude:20,globe_show:!1,globe_color:"#CDD6D6",zoom_on:!0,zoom_animation_duration:2,zoom_scaling_mode:"sqrt",zoom_message_key:"Hold down {{KEY}} + scroll to zoom",zoom_message_touch:"Use two fingers to zoom and pan",zoom_message_stroke:"#FFFFFF",zoom_message_fill:"#333333",layout:{},controls_container:{},region_controls:{},point_controls:{button_group_width_fixed:26,control_title:""},map_formatting:{},point_formatting:{},hovered_feature:null,sticky_hover:!1,filter:{},reloader:{},focus:null,controls_style:{},button_style:{},dropdown_style:{},slider_style:{},url_state:{}};function n(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function r(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function i(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,p=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),d=new RegExp(`^rgb\\(${c},${c},${c}\\)$`),f=new RegExp(`^rgba\\(${s},${s},${s},${l}\\)$`),h=new RegExp(`^rgba\\(${c},${c},${c},${l}\\)$`),g=new RegExp(`^hsl\\(${l},${c},${c}\\)$`),_=new RegExp(`^hsla\\(${l},${c},${c},${l}\\)$`),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function v(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=u.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?w(e):3===n?new j(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?x(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?x(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=p.exec(t))?new j(e[1],e[2],e[3],1):(e=d.exec(t))?new j(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=f.exec(t))?x(e[1],e[2],e[3],e[4]):(e=h.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=g.exec(t))?D(e[1],e[2]/100,e[3]/100,1):(e=_.exec(t))?D(e[1],e[2]/100,e[3]/100,e[4]):b.hasOwnProperty(t)?w(b[t]):"transparent"===t?new j(NaN,NaN,NaN,0):null}function w(t){return new j(t>>16&255,t>>8&255,255&t,1)}function x(t,e,n,r){return r<=0&&(t=e=n=NaN),new j(t,e,n,r)}function M(t){return t instanceof i||(t=v(t)),t?new j((t=t.rgb()).r,t.g,t.b,t.opacity):new j}function k(t,e,n,r){return 1===arguments.length?M(t):new j(t,e,n,null==r?1:r)}function j(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function z(){return`#${C(this.r)}${C(this.g)}${C(this.b)}`}function N(){const t=A(this.opacity);return`${1===t?"rgb(":"rgba("}${I(this.r)}, ${I(this.g)}, ${I(this.b)}${1===t?")":`, ${t})`}`}function A(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function I(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function C(t){return((t=I(t))<16?"0":"")+t.toString(16)}function D(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new S(t,e,n,r)}function T(t){if(t instanceof S)return new S(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=v(t)),!t)return new S;if(t instanceof S)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-o,c=(a+o)/2;return l?(s=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=c<.5?a+o:2-a-o,s*=60):l=c>0&&c<1?0:s,new S(s,l,c,t.opacity)}function E(t,e,n,r){return 1===arguments.length?T(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function L(t){return(t=(t||0)%360)<0?t+360:t}function O(t){return Math.max(0,Math.min(1,t||0))}function P(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}n(i,v,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:m,formatHex:m,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return T(this).formatHsl()},formatRgb:y,toString:y}),n(j,k,r(i,{brighter(t){return t=null==t?a:Math.pow(a,t),new j(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?o:Math.pow(o,t),new j(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new j(I(this.r),I(this.g),I(this.b),A(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z,formatHex:z,formatHex8:function(){return`#${C(this.r)}${C(this.g)}${C(this.b)}${C(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:N,toString:N})),n(S,E,r(i,{brighter(t){return t=null==t?a:Math.pow(a,t),new S(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?o:Math.pow(o,t),new S(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new j(P(t>=240?t-240:t+120,i,r),P(t,i,r),P(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new S(L(this.h),O(this.s),O(this.l),A(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=A(this.opacity);return`${1===t?"hsl(":"hsla("}${L(this.h)}, ${100*O(this.s)}%, ${100*O(this.l)}%${1===t?")":`, ${t})`}`}}));const Y=Math.PI/180,F=180/Math.PI,U=.96422,B=.82521,R=4/29,Z=6/29,G=3*Z*Z,H=Z*Z*Z;function Q(t){if(t instanceof $)return new $(t.l,t.a,t.b,t.opacity);if(t instanceof K)return tt(t);t instanceof j||(t=M(t));var e,n,r=X(t.r),i=X(t.g),o=X(t.b),a=W((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=W((.4360747*r+.3850649*i+.1430804*o)/U),n=W((.0139322*r+.0971045*i+.7141733*o)/B)),new $(116*a-16,500*(e-a),200*(a-n),t.opacity)}function $(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function W(t){return t>H?Math.pow(t,1/3):t/G+R}function q(t){return t>Z?t*t*t:G*(t-R)}function V(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function X(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function J(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof K)return new K(t.h,t.c,t.l,t.opacity);if(t instanceof $||(t=Q(t)),0===t.a&&0===t.b)return new K(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*F;return new K(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new K(t,e,n,null==r?1:r)}function K(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function tt(t){if(isNaN(t.h))return new $(t.l,0,0,t.opacity);var e=t.h*Y;return new $(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}n($,(function(t,e,n,r){return 1===arguments.length?Q(t):new $(t,e,n,null==r?1:r)}),r(i,{brighter(t){return new $(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new $(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new j(V(3.1338561*(e=U*q(e))-1.6168667*(t=1*q(t))-.4906146*(n=B*q(n))),V(-.9787684*e+1.9161415*t+.033454*n),V(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),n(K,J,r(i,{brighter(t){return new K(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new K(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return tt(this).rgb()}}));var et="$";function nt(){}function rt(t,e){var n=new nt;if(t instanceof nt)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function it(){}nt.prototype=rt.prototype={constructor:nt,has:function(t){return et+t in this},get:function(t){return this[et+t]},set:function(t,e){return this[et+t]=e,this},remove:function(t){var e=et+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===et&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===et&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===et&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===et&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===et&&++t;return t},empty:function(){for(var t in this)if(t[0]===et)return!1;return!0},each:function(t){for(var e in this)e[0]===et&&t(this[e],e.slice(1),this)}};var ot=rt.prototype;function at(t,e){var n=new it;if(t instanceof it)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function st(t,e){if("string"==typeof t&&(t=document.querySelector(t)),!t)return console.error("No valid target in createScreenshotSVG"),null;const{width:n,height:r,x:i,y:o}=t.getBoundingClientRect(),a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.id=e,a.classList.add("flourish-screenshot-svg-container"),a.style.left=i+"px",a.style.top=o+"px",a.style.width=n+"px",a.style.height=r+"px",a.style.position="absolute",t.appendChild(a),{addTextElements:function(e){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addTextElements"),null;for(const t of e){const{x:e,y:n,width:r}=t.getBoundingClientRect(),i=document.createElementNS("http://www.w3.org/2000/svg","text"),{color:o,"font-family":s,"font-size":l,"font-weight":c,"line-height":u,"padding-left":p,"padding-top":d}=window.getComputedStyle(t),f=`${c} ${l} ${s}`,h=_t(t.innerText,f,null,Math.ceil(r)),g=isNaN(parseFloat(u))?1.2*parseFloat(l)+"px":u,_=window.getComputedStyle(t.closest("[style*='opacity']")||t).opacity;h.forEach(((t,n)=>{const r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.innerHTML=t,r.setAttribute("dy",0===n?parseFloat(d):g),r.setAttribute("dx",parseFloat(p)),r.setAttribute("x",e),r.setAttribute("opacity",_),i.appendChild(r)})),i.style.dominantBaseline="text-before-edge",i.setAttribute("x",e+"px"),i.setAttribute("y",n+"px"),i.setAttribute("font-family",s),i.setAttribute("font-size",l),i.setAttribute("font-weight",c),i.setAttribute("fill",o),a.appendChild(i)}return this},addCircleElements:function(e){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addCircleElements"),null;for(const t of e){const e=document.createElementNS("http://www.w3.org/2000/svg","circle"),{x:n,y:r,width:i}=t.getBoundingClientRect(),o=window.getComputedStyle(t)["background-color"],s=window.getComputedStyle(t.closest("[style*='opacity']")||t).opacity,l=i/2;e.setAttribute("cx",n+l+"px"),e.setAttribute("cy",r+l+"px"),e.setAttribute("r",l+"px"),e.setAttribute("opacity",s),e.setAttribute("fill",o),"rgba(0, 0, 0, 0)"===o&&e.setAttribute("stroke","#CCC"),a.appendChild(e)}return this},addSwatchElements:function(e,n){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addSwatchElements"),null;"string"==typeof n&&(n=t.querySelectorAll(n));for(const[t,r]of e.entries()){const e=document.createElementNS("http://www.w3.org/2000/svg","rect"),{x:i,y:o,width:s,height:l}=r.getBoundingClientRect(),c=n[t]?.getBoundingClientRect()?.y,u=window.getComputedStyle(r)["background-color"],p=window.getComputedStyle(r).border,[,d,f,h,g]=p.replace(/\s/g,"").match(/rgba?\((\d+(?:\.\d+)?),(\d+(?:\.\d+)?),(\d+(?:\.\d+)?)(?:,(\d+(?:\.\d+)?))?\)/i),_=g?`rgba(${d},${f},${h},${g})`:`rgb(${d},${f},${h})`||"#000",b=p.split(" ")[0]||0;let m=window.getComputedStyle(r)["border-radius"]||0;m=parseFloat(m);const y=window.getComputedStyle(r.closest("[style*='opacity']")||r).opacity;e.setAttribute("x",i),e.setAttribute("y",c||o),e.setAttribute("width",`${s}px`),e.setAttribute("height",`${l}px`),e.setAttribute("rx",m),e.setAttribute("ry",m),e.setAttribute("opacity",y),e.setAttribute("fill",u),e.setAttribute("stroke",_),e.setAttribute("stroke-width",b),"rgba(0, 0, 0, 0)"===u&&e.setAttribute("stroke","#CCC"),a.appendChild(e)}return this},addGradient:function(e,n,r){if("string"==typeof e&&(e=t.querySelector(e)),!e)return console.error("No valid els inside addCircleElements"),null;const i=document.createElementNS("http://www.w3.org/2000/svg","g"),{x:o,y:s,width:l,height:c}=e.getBoundingClientRect(),{max:u,min:p}=r,d=u-p;for(let t=0;t<=l;t++){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("stroke",n(p+t*d/l)),e.setAttribute("x1",t+o),e.setAttribute("y1",s),e.setAttribute("x2",t+o),e.setAttribute("y2",c+s),i.appendChild(e)}return a.appendChild(i),this},remove:function(){a.remove()}}}function lt(t){return"string"==typeof t&&null!=t.match(/^(https?:\/\/|data:)/i)}it.prototype=at.prototype={constructor:it,has:ot.has,add:function(t){return this[et+(t+="")]=t,this},remove:ot.remove,clear:ot.clear,values:ot.keys,size:ot.size,empty:ot.empty,each:ot.each};const ct="undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement&&"function"==typeof document.body?.appendChild&&"undefined"!=typeof HTMLElement,ut=document.createElement("canvas"),pt=ut.getContext("2d"),dt=document.createElementNS("http://www.w3.org/2000/svg","svg"),ft=document.createElementNS("http://www.w3.org/2000/svg","text");dt.appendChild(ft),ct&&(ut.style.position="fixed",ut.style.left="1000vw",dt.style.position="fixed",dt.style.left="1000vw",document.body.appendChild(ut),document.body.appendChild(dt));let ht=null;function gt(t,e){var n=function(t,e){if("string"!=typeof t)return!1;var n=v(t);return n.opacity=void 0!==e?e:1,n}(t,e);return!!n&&n.toString()}function _t(t,e,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"string"!=typeof t&&(t=String(t));const o=t=>pt.measureTextWithTnums(t).width>r,a=(t,e)=>{let n=pt.measureText(t).width;if(n<=e)return t;let r=1,i=t;do{i=t.substring(0,t.length-r)+"â€¦",n=pt.measureTextWithTnums(i).width}while(n>e&&++r<t.length);return i.length<1&&(i=t.substring(0,1)+"â€¦"),i};pt.font=e;let s=[];if(Object.defineProperty(s,"widest_line",{value:0,enumerable:!0,writable:!0}),Object.defineProperty(s,"has_truncated",{value:!1,enumerable:!0,writable:!0}),void 0===t||Number.isInteger(n)&&n<=0)return s;if(0===t.length)return s.push(""),s;if(r<=0)return t.length>0&&(s.push(t.slice(0,1)+"â€¦"),s.widest_line=pt.measureTextWithTnums(s[0]).width),s;if(!t||0===t.length||0===n||r<=0)return s;const l=t.split(/\s+/g);if(!o(t))return s.push(t),s.widest_line=pt.measureTextWithTnums(t).width,s.has_truncated=!1,s;let c=new String(l[0]);if(c&&o(c))return i?c=a(c,r):l.length>1&&(c+="â€¦"),s.push(c),s.widest_line=pt.measureTextWithTnums(c).width,s.has_truncated=!0,s;let u="",p=!1;if(l.forEach((t=>{if(!p)if(o(u+(u?" ":"")+t)){if(u){pt.measureTextWithTnums(u).width>r&&(u=a(u,r),p=!0),s.push(u),u=""}u=t}else u+=(u?" ":"")+t})),u&&!p&&s.push(a(u,r)),s.length>n){if(s.length>n&&Number.isInteger(n)){s.splice(n,s.length-n);let t=s[s.length-1];o(t+"â€¦")&&(t=a(t,r-pt.measureTextWithTnums("â€¦").width)),"â€¦"!==t.slice(-1)&&(t+="â€¦"),s[s.length-1]=t,p=!0}}return s.widest_line=Math.max(...s.map((t=>pt.measureTextWithTnums(t).width))),s.has_truncated=p,s}var bt,mt,yt;function vt(t){try{return new URL(t,document.baseURI).href}catch{return t}}function wt(){document.body.querySelector(".font-samples").innerHTML=""}function xt(t){yt||(yt=t||["normal","bold"]);var e="";["mobile_big","tablet","desktop","big_screen"].forEach((function(t){var n="@media(min-width: "+Ga["breakpoint_"+t]+"px) {\n",r="html { font-size:"+Ga["font_size_"+t]+"%; }";e+=n+r+"\n}\n\n"}));var n="html { \n font-size:"+Ga.font_size_mobile_small+"%; \n -webkit-font-smoothing: antialiased; \n -moz-osx-font-smoothing: auto; } \n\n\n";bt.innerHTML=n+e;var r=[Ga.body_font,Ga.title_font,Ga.subtitle_font,Ga.footer_font];r.forEach((function(t){if(t){for(var e=!1,n=vt(t.url),r=document.head.querySelectorAll("link.layout-font"),i=0;i<r.length;i++){r[i].href===n&&(e=!0)}if(!e){var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("href",t.url),o.className="layout-font",document.head.appendChild(o),function(t){document.body.querySelector(".font-samples")||((mt=document.createElement("div")).className="font-samples",mt.style.visibility="hidden",mt.style.overflow="hidden",mt.style.height=0,document.body.appendChild(mt)),yt.forEach((function(e){var n=document.createElement("div");n.className="font-sample-el",n.innerText=t.name,n.style.fontFamily=t.name,n.style.fontWeight=e,mt.appendChild(n)}))}(t)}}}));for(var i=document.head.querySelectorAll("link.layout-font"),o=0;o<i.length;o++){var a=i[o],s=!1;r.forEach((function(t){t&&vt(t.url)===a.href&&(s=!0)})),s||a.parentElement.removeChild(a)}document.body.style.fontFamily=Ga.body_font.name}pt.measureTextWithTnums=function(t){if(!ct)return pt.measureText(t);const e=window.getComputedStyle(this.canvas);if(!((e.fontFeatureSettings||"").includes("tnum")||(e.fontVariantNumeric||"").includes("tabular-nums")))return this.measureText(t);if(null===ht&&function(){const t="0123456789.,Â£",e=document.createElement("canvas"),n=document.createElement("canvas"),r=e.getContext("2d"),i=n.getContext("2d");e.setAttribute("style","font-feature-settings: normal; font-variant-numeric: normal; position: fixed; left: 1000vw;"),n.setAttribute("style",'font-feature-settings: "tnum" 1; font-variant-numeric: tabular-nums; position: fixed; left: 1000vw;'),r.font=i.font=pt.font,document.body.appendChild(e),document.body.appendChild(n);const o=r.measureText(t).width,a=i.measureText(t).width;ht=o!==a,document.body.removeChild(e),document.body.removeChild(n)}(),ht)return this.measureText(t);ft.textContent=t,ft.setAttribute("style",`font: ${pt.font}; font-feature-settings: 'tnum' 1; font-variant-numeric: tabular-nums; position: fixed; left: 1000vw;`);let n=ft.getBBox().width;return{...this.measureText(t),width:n}};var Mt,kt,jt,zt,Nt,At,It,Ct,Dt,Tt,Et=Object.freeze({"stack-default":["header","controls","legend","primary","footer"],"stack-2":["primary","header","controls","legend","footer"],"stack-3":["header","primary","controls","legend","footer"],"stack-4":["controls","primary","header","legend","footer"],"stack-5":["header","controls","primary","legend","footer"],"stack-6":["header","legend","primary","controls","footer"],"grid-1":{wrapper:{display:"grid","grid-template-rows":"min-content min-content minmax(min-content,auto) min-content","grid-template-columns":"1fr 2fr"},header:{"grid-column-start":1},legend:{"grid-column-start":1},controls:{"grid-column-start":1},primary:{"grid-column-start":2,"grid-row":"1 / -1"},footer:{"grid-column-start":"1","grid-row-start":4}}});function St(t){return window.innerWidth!==Mt&&(Mt=window.innerWidth,kt=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*kt}function Lt(t){return"justify"==t?"":"left"==t?"start":"right"==t?"end":"center"==t?"center":void 0}function Ot(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function Pt(){return Ga.header_logo_enabled&&Ga.header_logo_src}function Yt(){var t="top"==Ga.header_border||"top_and_bottom"==Ga.header_border,e="bottom"==Ga.header_border||"top_and_bottom"==Ga.header_border;jt.style.textAlign=Lt(Ga.header_align),jt.style.margin=0,jt.style.borderTop=t?Ga.header_border_width+"px "+Ga.header_border_style+" "+Ga.header_border_color:null,jt.style.borderBottom=e?Ga.header_border_width+"px "+Ga.header_border_style+" "+Ga.header_border_color:null,jt.style.paddingTop=t?Ga.header_border_space+"rem":"",jt.style.paddingBottom=e?Ga.header_border_space+"rem":"",zt.innerHTML=Ga.title?Ga.title:"",zt.setAttribute("id","flourish-header-title"),zt.style.fontFamily=Ga.title_font?Ga.title_font.name:"inherit",zt.style.fontSize=("custom"!=Ga.title_size?Ga.title_size:Ga.title_size_custom)+"rem",zt.style.lineHeight=Ga.title_line_height,zt.style.fontWeight=Ga.title_weight,zt.style.color=Ga.title_color||Ga.font_color,zt.style.margin=0,zt.style.paddingTop=Ga.title?("custom"==Ga.title_space_above?Ga.title_space_above_custom:Ga.title_space_above)+"rem":0,Nt.innerHTML=Ga.subtitle?Ga.subtitle:"",Nt.setAttribute("id","flourish-header-subtitle"),Nt.style.fontFamily=Ga.subtitle_font?Ga.subtitle_font.name:"inherit",Nt.style.fontSize=("custom"!=Ga.subtitle_size?Ga.subtitle_size:Ga.subtitle_size_custom)+"rem",Nt.style.lineHeight=Ga.subtitle_line_height,Nt.style.fontWeight=Ga.subtitle_weight,Nt.style.color=Ga.subtitle_color||Ga.font_color,Nt.style.margin=0,Nt.style.paddingTop=Ga.subtitle?("custom"==Ga.subtitle_space_above?Ga.subtitle_space_above_custom:Ga.subtitle_space_above)+"rem":0,At.innerHTML=Ga.header_text?Ga.header_text:"",At.setAttribute("id","flourish-header-text"),At.style.fontSize=("custom"!=Ga.header_text_size?Ga.header_text_size:Ga.header_text_size_custom)+"rem",At.style.lineHeight=Ga.header_text_line_height,At.style.fontWeight=Ga.header_text_weight,At.style.margin=0,At.style.color=Ga.header_text_color||Ga.font_color,At.style.paddingTop=Ga.header_text?("custom"==Ga.header_text_space_above?Ga.header_text_space_above_custom:Ga.header_text_space_above)+"rem":0,It.style.clear="both",Ct.innerHTML="",Pt()&&((Dt=Dt||document.createElement("img")).className="flourish-header-logo",Dt.src=Ot(Ga.header_logo_src),Dt.alt=Ga.header_logo_alt,Dt.style.position="inside"==Ga.header_logo_align?"":"fixed",Dt.style.height=Ga.header_logo_height+"rem",Dt.style.top="outside"==Ga.header_logo_align?0:"",Dt.style.left="outside"==Ga.header_logo_align&&"left"==Ga.header_logo_position_outside?0:"",Dt.style.right="outside"==Ga.header_logo_align&&"right"==Ga.header_logo_position_outside?0:"",Dt.style.marginTop=Ga.header_logo_margin_top+"rem",Dt.style.marginBottom=Ga.header_logo_margin_bottom+"rem",Dt.style.marginLeft=Ga.header_logo_margin_left+"rem",Dt.style.marginRight=Ga.header_logo_margin_right+"rem",Dt.style.float="top"==Ga.header_logo_position_inside||"outside"==Ga.header_logo_align?"":Ga.header_logo_position_inside,Dt.style.width="auto",Ga.header_logo_link_url?((Tt=document.createElement("a")).target="_blank",Tt.appendChild(Dt),Ct.appendChild(Tt),Dt.style.cursor="pointer",Tt.href=Ot(Ga.header_logo_link_url)):Ct.appendChild(Dt))}
/** @preserve
	/////    SAPC APCA - Advanced Perceptual Contrast Algorithm
	/////           Beta 0.1.9 W3 â€¢ contrast function only
	/////           DIST: W3 â€¢ Revision date: July 3, 2022
	/////    Function to parse color values and determine Lc contrast
	/////    Copyright Â© 2019-2022 by Andrew Somers. All Rights Reserved.
	/////    LICENSE: W3 LICENSE
	/////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
	/////    https://github.com/Myndex/SAPC-APCA/
	/////
	///////////////////////////////////////////////////////////////////////////////
	/////
	/////    MINIMAL IMPORTS:
	/////      import { APCAcontrast, sRGBtoY, displayP3toY,
	/////               calcAPCA, fontLookupAPCA } from 'apca-w3';
	/////      import { colorParsley } from 'colorparsley';
	/////
	/////    FORWARD CONTRAST USAGE:
	/////      Lc = APCAcontrast( sRGBtoY( TEXTcolor ) , sRGBtoY( BACKGNDcolor ) );
	/////    Where the colors are sent as an rgba array [255,255,255,1]
	/////
	/////    Retrieving an array of font sizes for the contrast:
	/////      fontArray = fontLookupAPCA(Lc);
	/////
	/////    Live Demonstrator at https://www.myndex.com/APCA/
	// */
const Ft={mainTRC:2.4,get mainTRCencode(){return 1/this.mainTRC},sRco:.2126729,sGco:.7151522,sBco:.072175,normBG:.56,normTXT:.57,revTXT:.62,revBG:.65,blkThrs:.022,blkClmp:1.414,scaleBoW:1.14,scaleWoB:1.14,loBoWoffset:.027,loWoBoffset:.027,deltaYmin:5e-4,loClip:.1,mFactor:1.9468554433171,get mFactInv(){return 1/this.mFactor},mOffsetIn:.0387393816571401,mExpAdj:.283343396420869,get mExp(){return this.mExpAdj/this.blkClmp},mOffsetOut:.312865795870758};function Ut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];function e(t){return Math.pow(t/255,Ft.mainTRC)}return Ft.sRco*e(t[0])+Ft.sGco*e(t[1])+Ft.sBco*e(t[2])}function Bt(t,e){if("string"!=typeof t)return!1;var n=v(t);return n.opacity=1,n}function Rt(t,e){if(!t||!e)return void console.warn("No valid color",t,e);const n=Ut(Object.values(Bt(t))),r=Ut(Object.values(Bt(e)));return Math.abs(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;const r=[0,1.1];if(isNaN(t)||isNaN(e)||Math.min(t,e)<r[0]||Math.max(t,e)>r[1])return 0;let i=0,o=0,a="BoW";return t=t>Ft.blkThrs?t:t+Math.pow(Ft.blkThrs-t,Ft.blkClmp),e=e>Ft.blkThrs?e:e+Math.pow(Ft.blkThrs-e,Ft.blkClmp),Math.abs(e-t)<Ft.deltaYmin?0:(e>t?(i=(Math.pow(e,Ft.normBG)-Math.pow(t,Ft.normTXT))*Ft.scaleBoW,o=i<Ft.loClip?0:i-Ft.loBoWoffset):(a="WoB",i=(Math.pow(e,Ft.revBG)-Math.pow(t,Ft.revTXT))*Ft.scaleWoB,o=i>-Ft.loClip?0:i+Ft.loWoBoffset),n<0?100*o:0==n?Math.round(100*Math.abs(o))+"<sub>"+a+"</sub>":Number.isInteger(n)?(100*o).toFixed(n):0)}(n,r))}function Zt(t){if(!t)return void console.warn("No valid color",t);const e=Rt("#000000",t);return Rt("#ffffff",t)<e}const Gt=new Date,Ht=new Date;function Qt(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>Qt((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(Gt.setTime(+e),Ht.setTime(+r),t(Gt),t(Ht),Math.floor(n(Gt,Ht))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const $t=6e4,Wt=864e5,qt=6048e5,Vt=Qt((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$t)/Wt),(t=>t.getDate()-1));Vt.range;const Xt=Qt((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Wt),(t=>t.getUTCDate()-1));Xt.range;const Jt=Qt((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Wt),(t=>Math.floor(t/Wt)));function Kt(t){return Qt((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$t)/qt))}Jt.range;const te=Kt(0),ee=Kt(1),ne=Kt(2),re=Kt(3),ie=Kt(4),oe=Kt(5),ae=Kt(6);function se(t){return Qt((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/qt))}te.range,ee.range,ne.range,re.range,ie.range,oe.range,ae.range;const le=se(0),ce=se(1),ue=se(2),pe=se(3),de=se(4),fe=se(5),he=se(6);le.range,ce.range,ue.range,pe.range,de.range,fe.range,he.range;const ge=Qt((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));ge.every=t=>isFinite(t=Math.floor(t))&&t>0?Qt((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,ge.range;const _e=Qt((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function be(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function me(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ye(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}_e.every=t=>isFinite(t=Math.floor(t))&&t>0?Qt((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,_e.range;var ve,we,xe={"-":"",_:" ",0:"0"},Me=/^\s*\d+/,ke=/^%/,je=/[\\^$*+?|[\]().{}]/g;function ze(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ne(t){return t.replace(je,"\\$&")}function Ae(t){return new RegExp("^(?:"+t.map(Ne).join("|")+")","i")}function Ie(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Ce(t,e,n){var r=Me.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function De(t,e,n){var r=Me.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Te(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ee(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Se(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Le(t,e,n){var r=Me.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Oe(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ye(t,e,n){var r=Me.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Fe(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ue(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Be(t,e,n){var r=Me.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Re(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ze(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ge(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function He(t,e,n){var r=Me.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Qe(t,e,n){var r=Me.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $e(t,e,n){var r=ke.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function We(t,e,n){var r=Me.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function qe(t,e,n){var r=Me.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ve(t,e){return ze(t.getDate(),e,2)}function Xe(t,e){return ze(t.getHours(),e,2)}function Je(t,e){return ze(t.getHours()%12||12,e,2)}function Ke(t,e){return ze(1+Vt.count(ge(t),t),e,3)}function tn(t,e){return ze(t.getMilliseconds(),e,3)}function en(t,e){return tn(t,e)+"000"}function nn(t,e){return ze(t.getMonth()+1,e,2)}function rn(t,e){return ze(t.getMinutes(),e,2)}function on(t,e){return ze(t.getSeconds(),e,2)}function an(t){var e=t.getDay();return 0===e?7:e}function sn(t,e){return ze(te.count(ge(t)-1,t),e,2)}function ln(t){var e=t.getDay();return e>=4||0===e?ie(t):ie.ceil(t)}function cn(t,e){return t=ln(t),ze(ie.count(ge(t),t)+(4===ge(t).getDay()),e,2)}function un(t){return t.getDay()}function pn(t,e){return ze(ee.count(ge(t)-1,t),e,2)}function dn(t,e){return ze(t.getFullYear()%100,e,2)}function fn(t,e){return ze((t=ln(t)).getFullYear()%100,e,2)}function hn(t,e){return ze(t.getFullYear()%1e4,e,4)}function gn(t,e){var n=t.getDay();return ze((t=n>=4||0===n?ie(t):ie.ceil(t)).getFullYear()%1e4,e,4)}function _n(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function bn(t,e){return ze(t.getUTCDate(),e,2)}function mn(t,e){return ze(t.getUTCHours(),e,2)}function yn(t,e){return ze(t.getUTCHours()%12||12,e,2)}function vn(t,e){return ze(1+Xt.count(_e(t),t),e,3)}function wn(t,e){return ze(t.getUTCMilliseconds(),e,3)}function xn(t,e){return wn(t,e)+"000"}function Mn(t,e){return ze(t.getUTCMonth()+1,e,2)}function kn(t,e){return ze(t.getUTCMinutes(),e,2)}function jn(t,e){return ze(t.getUTCSeconds(),e,2)}function zn(t){var e=t.getUTCDay();return 0===e?7:e}function Nn(t,e){return ze(le.count(_e(t)-1,t),e,2)}function An(t){var e=t.getUTCDay();return e>=4||0===e?de(t):de.ceil(t)}function In(t,e){return t=An(t),ze(de.count(_e(t),t)+(4===_e(t).getUTCDay()),e,2)}function Cn(t){return t.getUTCDay()}function Dn(t,e){return ze(ce.count(_e(t)-1,t),e,2)}function Tn(t,e){return ze(t.getUTCFullYear()%100,e,2)}function En(t,e){return ze((t=An(t)).getUTCFullYear()%100,e,2)}function Sn(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function Ln(t,e){var n=t.getUTCDay();return ze((t=n>=4||0===n?de(t):de.ceil(t)).getUTCFullYear()%1e4,e,4)}function On(){return"+0000"}function Pn(){return"%"}function Yn(t){return+t}function Fn(t){return Math.floor(+t/1e3)}ve=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Ae(i),u=Ie(i),p=Ae(o),d=Ie(o),f=Ae(a),h=Ie(a),g=Ae(s),_=Ie(s),b=Ae(l),m=Ie(l),y={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Ve,e:Ve,f:en,g:fn,G:gn,H:Xe,I:Je,j:Ke,L:tn,m:nn,M:rn,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Yn,s:Fn,S:on,u:an,U:sn,V:cn,w:un,W:pn,x:null,X:null,y:dn,Y:hn,Z:_n,"%":Pn},v={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:bn,e:bn,f:xn,g:En,G:Ln,H:mn,I:yn,j:vn,L:wn,m:Mn,M:kn,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Yn,s:Fn,S:jn,u:zn,U:Nn,V:In,w:Cn,W:Dn,x:null,X:null,y:Tn,Y:Sn,Z:On,"%":Pn},w={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:Ue,e:Ue,f:Qe,g:Oe,G:Le,H:Re,I:Re,j:Be,L:He,m:Fe,M:Ze,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Ye,Q:We,s:qe,S:Ge,u:De,U:Te,V:Ee,w:Ce,W:Se,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:Oe,Y:Le,Z:Pe,"%":$e};function x(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=xe[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function M(t,e){return function(n){var r,i,o=ye(1900,void 0,1);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=me(ye(o.y,0,1))).getUTCDay(),r=i>4||0===i?ce.ceil(r):ce(r),r=Xt.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=be(ye(o.y,0,1))).getDay(),r=i>4||0===i?ee.ceil(r):ee(r),r=Vt.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?me(ye(o.y,0,1)).getUTCDay():be(ye(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,me(o)):be(o)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in xe?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=x(n,y),y.X=x(r,y),y.c=x(e,y),v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),we=ve.format,ve.parse,ve.utcFormat,ve.utcParse;var Un=Uint8Array,Bn=Uint16Array,Rn=Int32Array,Zn=new Un([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gn=new Un([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hn=new Un([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qn=function(t,e){for(var n=new Bn(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new Rn(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},$n=Qn(Zn,2),Wn=$n.b,qn=$n.r;Wn[28]=258,qn[258]=28;for(var Vn=Qn(Gn,0).r,Xn=new Bn(32768),Jn=0;Jn<32768;++Jn){var Kn=(43690&Jn)>>1|(21845&Jn)<<1;Kn=(61680&(Kn=(52428&Kn)>>2|(13107&Kn)<<2))>>4|(3855&Kn)<<4,Xn[Jn]=((65280&Kn)>>8|(255&Kn)<<8)>>1}var tr=function(t,e,n){for(var r=t.length,i=0,o=new Bn(e);i<r;++i)t[i]&&++o[t[i]-1];var a,s=new Bn(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;if(n){a=new Bn(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],p=s[t[i]-1]++<<u,d=p|(1<<u)-1;p<=d;++p)a[Xn[p]>>l]=c}else for(a=new Bn(r),i=0;i<r;++i)t[i]&&(a[i]=Xn[s[t[i]-1]++]>>15-t[i]);return a},er=new Un(288);for(Jn=0;Jn<144;++Jn)er[Jn]=8;for(Jn=144;Jn<256;++Jn)er[Jn]=9;for(Jn=256;Jn<280;++Jn)er[Jn]=7;for(Jn=280;Jn<288;++Jn)er[Jn]=8;var nr=new Un(32);for(Jn=0;Jn<32;++Jn)nr[Jn]=5;var rr=tr(er,9,0),ir=tr(nr,5,0),or=function(t){return(t+7)/8|0},ar=function(t,e,n){return(null==n||n>t.length)&&(n=t.length),new Un(t.subarray(e,n))},sr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],lr=function(t,e,n){var r=new Error(e||sr[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,lr),!n)throw r;return r},cr=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},ur=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},pr=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:mr,l:0};if(1==i){var a=new Un(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort((function(t,e){return t.f-e.f})),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,u=1,p=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=n[n[c].f<n[p].f?c++:p++],l=n[c!=u&&n[c].f<n[p].f?c++:p++],n[u++]={s:-1,f:s.f+l.f,l:s,r:l};var d=o[0].s;for(r=1;r<i;++r)o[r].s>d&&(d=o[r].s);var f=new Bn(d+1),h=dr(n[u-1],f,0);if(h>e){r=0;var g=0,_=h-e,b=1<<_;for(o.sort((function(t,e){return f[e.s]-f[t.s]||t.f-e.f}));r<i;++r){var m=o[r].s;if(!(f[m]>e))break;g+=b-(1<<h-f[m]),f[m]=e}for(g>>=_;g>0;){var y=o[r].s;f[y]<e?g-=1<<e-f[y]++-1:++r}for(;r>=0&&g;--r){var v=o[r].s;f[v]==e&&(--f[v],++g)}h=e}return{t:new Un(f),l:h}},dr=function(t,e,n){return-1==t.s?Math.max(dr(t.l,e,n+1),dr(t.r,e,n+1)):e[t.s]=n},fr=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Bn(++e),r=0,i=t[0],o=1,a=function(t){n[r++]=t},s=1;s<=e;++s)if(t[s]==i&&s!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=t[s]}return{c:n.subarray(0,r),n:e}},hr=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},gr=function(t,e,n){var r=n.length,i=or(e+2);t[i]=255&r,t[i+1]=r>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var o=0;o<r;++o)t[i+o+4]=n[o];return 8*(i+4+r)},_r=function(t,e,n,r,i,o,a,s,l,c,u){cr(e,u++,n),++i[256];for(var p=pr(i,15),d=p.t,f=p.l,h=pr(o,15),g=h.t,_=h.l,b=fr(d),m=b.c,y=b.n,v=fr(g),w=v.c,x=v.n,M=new Bn(19),k=0;k<m.length;++k)++M[31&m[k]];for(k=0;k<w.length;++k)++M[31&w[k]];for(var j=pr(M,7),z=j.t,N=j.l,A=19;A>4&&!z[Hn[A-1]];--A);var I,C,D,T,E=c+5<<3,S=hr(i,er)+hr(o,nr)+a,L=hr(i,d)+hr(o,g)+a+14+3*A+hr(M,z)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&E<=S&&E<=L)return gr(e,u,t.subarray(l,l+c));if(cr(e,u,1+(L<S)),u+=2,L<S){I=tr(d,f,0),C=d,D=tr(g,_,0),T=g;var O=tr(z,N,0);cr(e,u,y-257),cr(e,u+5,x-1),cr(e,u+10,A-4),u+=14;for(k=0;k<A;++k)cr(e,u+3*k,z[Hn[k]]);u+=3*A;for(var P=[m,w],Y=0;Y<2;++Y){var F=P[Y];for(k=0;k<F.length;++k){var U=31&F[k];cr(e,u,O[U]),u+=z[U],U>15&&(cr(e,u,F[k]>>5&127),u+=F[k]>>12)}}}else I=rr,C=er,D=ir,T=nr;for(k=0;k<s;++k){var B=r[k];if(B>255){ur(e,u,I[(U=B>>18&31)+257]),u+=C[U+257],U>7&&(cr(e,u,B>>23&31),u+=Zn[U]);var R=31&B;ur(e,u,D[R]),u+=T[R],R>3&&(ur(e,u,B>>5&8191),u+=Gn[R])}else ur(e,u,I[B]),u+=C[B]}return ur(e,u,I[256]),u+C[256]},br=new Rn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mr=new Un(0),yr=function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(1&n&&-306674912)^n>>>1;t[e]=n}return t}(),vr=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=yr[255&n^e[r]]^n>>>8;t=n},d:function(){return~t}}},wr=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),a=new Un(o.length+t.length);a.set(o),a.set(t,o.length),t=a,i.w=o.length}return function(t,e,n,r,i,o){var a=o.z||t.length,s=new Un(r+a+5*(1+Math.ceil(a/7e3))+i),l=s.subarray(r,s.length-i),c=o.l,u=7&(o.r||0);if(e){u&&(l[0]=o.r>>3);for(var p=br[e-1],d=p>>13,f=8191&p,h=(1<<n)-1,g=o.p||new Bn(32768),_=o.h||new Bn(h+1),b=Math.ceil(n/3),m=2*b,y=function(e){return(t[e]^t[e+1]<<b^t[e+2]<<m)&h},v=new Rn(25e3),w=new Bn(288),x=new Bn(32),M=0,k=0,j=o.i||0,z=0,N=o.w||0,A=0;j+2<a;++j){var I=y(j),C=32767&j,D=_[I];if(g[C]=D,_[I]=C,N<=j){var T=a-j;if((M>7e3||z>24576)&&(T>423||!c)){u=_r(t,l,0,v,w,x,k,z,A,j-A,u),z=M=k=0,A=j;for(var E=0;E<286;++E)w[E]=0;for(E=0;E<30;++E)x[E]=0}var S=2,L=0,O=f,P=C-D&32767;if(T>2&&I==y(j-P))for(var Y=Math.min(d,T)-1,F=Math.min(32767,j),U=Math.min(258,T);P<=F&&--O&&C!=D;){if(t[j+S]==t[j+S-P]){for(var B=0;B<U&&t[j+B]==t[j+B-P];++B);if(B>S){if(S=B,L=P,B>Y)break;var R=Math.min(P,B-2),Z=0;for(E=0;E<R;++E){var G=j-P+E&32767,H=G-g[G]&32767;H>Z&&(Z=H,D=G)}}}P+=(C=D)-(D=g[C])&32767}if(L){v[z++]=268435456|qn[S]<<18|Vn[L];var Q=31&qn[S],$=31&Vn[L];k+=Zn[Q]+Gn[$],++w[257+Q],++x[$],N=j+S,++M}else v[z++]=t[j],++w[t[j]]}}for(j=Math.max(j,N);j<a;++j)v[z++]=t[j],++w[t[j]];u=_r(t,l,c,v,w,x,k,z,A,j-A,u),c||(o.r=7&u|l[u/8|0]<<3,u-=7,o.h=_,o.p=g,o.i=j,o.w=N)}else{for(j=o.w||0;j<a+c;j+=65535){var W=j+65535;W>=a&&(l[u/8|0]=c,W=a),u=gr(l,u+1,t.subarray(j,W))}o.i=a}return ar(s,0,r+or(u)+i)}(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,i)},xr=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},Mr=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function kr(t,e){return wr(t,e||{},0,0)}var jr=function(t,e,n,r){for(var i in t){var o=t[i],a=e+i,s=r;Array.isArray(o)&&(s=xr(r,o[1]),o=o[0]),o instanceof Un?n[a]=[o,s]:(n[a+="/"]=[new Un(0),s],jr(o,a,n,r))}},zr="undefined"!=typeof TextEncoder&&new TextEncoder,Nr="undefined"!=typeof TextDecoder&&new TextDecoder;try{Nr.decode(mr,{stream:!0})}catch(t){}function Ar(t,e){if(zr)return zr.encode(t);for(var n=t.length,r=new Un(t.length+(t.length>>1)),i=0,o=function(t){r[i++]=t},a=0;a<n;++a){if(i+5>r.length){var s=new Un(i+8+(n-a<<1));s.set(r),r=s}var l=t.charCodeAt(a);l<128||e?o(l):l<2048?(o(192|l>>6),o(128|63&l)):l>55295&&l<57344?(o(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++a))>>18),o(128|l>>12&63),o(128|l>>6&63),o(128|63&l)):(o(224|l>>12),o(128|l>>6&63),o(128|63&l))}return ar(r,0,i)}var Ir=function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&lr(9),e+=r+4}return e},Cr=function(t,e,n,r,i,o,a,s){var l=r.length,c=n.extra,u=s&&s.length,p=Ir(c);Mr(t,e,null!=a?33639248:67324752),e+=4,null!=a&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(o<0&&8),t[e++]=i&&8,t[e++]=255&n.compression,t[e++]=n.compression>>8;var d=new Date(null==n.mtime?Date.now():n.mtime),f=d.getFullYear()-1980;if((f<0||f>119)&&lr(10),Mr(t,e,f<<25|d.getMonth()+1<<21|d.getDate()<<16|d.getHours()<<11|d.getMinutes()<<5|d.getSeconds()>>1),e+=4,-1!=o&&(Mr(t,e,n.crc),Mr(t,e+4,o<0?-o-2:o),Mr(t,e+8,n.size)),Mr(t,e+12,l),Mr(t,e+14,p),e+=16,null!=a&&(Mr(t,e,u),Mr(t,e+6,n.attrs),Mr(t,e+10,a),e+=14),t.set(r,e),e+=l,p)for(var h in c){var g=c[h],_=g.length;Mr(t,e,+h),Mr(t,e+2,_),t.set(g,e+4),e+=4+_}return u&&(t.set(s,e),e+=u),e};function Dr(t,e){e||(e={});var n={},r=[];jr(t,"",n,e);var i=0,o=0;for(var a in n){var s=n[a],l=s[0],c=s[1],u=0==c.level?0:8,p=(M=Ar(a)).length,d=c.comment,f=d&&Ar(d),h=f&&f.length,g=Ir(c.extra);p>65535&&lr(11);var _=u?kr(l,c):l,b=_.length,m=vr();m.p(l),r.push(xr(c,{size:l.length,crc:m.d(),c:_,f:M,m:f,u:p!=a.length||f&&d.length!=h,o:i,compression:u})),i+=30+p+g+b,o+=76+2*(p+g)+(h||0)+b}for(var y=new Un(o+22),v=i,w=o-i,x=0;x<r.length;++x){var M=r[x];Cr(y,M.o,M,M.f,M.u,M.c.length);var k=30+M.f.length+Ir(M.extra);y.set(M.c,M.o+k),Cr(y,i,M,M.f,M.u,M.c.length,M.o,M.m),i+=16+k+(M.m?M.m.length:0)}return function(t,e,n,r,i){Mr(t,e,101010256),Mr(t,e+8,n),Mr(t,e+10,n),Mr(t,e+12,r),Mr(t,e+16,i)}(y,i,r.length,w,v),y}var Tr=new Date,Er=new Date;function Sr(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Sr((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Tr.setTime(+e),Er.setTime(+r),t(Tr),t(Er),Math.floor(n(Tr,Er))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Lr=864e5,Or=6048e5,Pr=Sr((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/Lr}),(function(t){return t.getDate()-1}));function Yr(t){return Sr((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/Or}))}Pr.range;var Fr=Yr(0),Ur=Yr(1),Br=Yr(2),Rr=Yr(3),Zr=Yr(4),Gr=Yr(5),Hr=Yr(6);Fr.range,Ur.range,Br.range,Rr.range,Zr.range,Gr.range,Hr.range;var Qr=Sr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Qr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Sr((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null},Qr.range;var $r=Sr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Lr}),(function(t){return t.getUTCDate()-1}));function Wr(t){return Sr((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Or}))}$r.range;var qr=Wr(0),Vr=Wr(1),Xr=Wr(2),Jr=Wr(3),Kr=Wr(4),ti=Wr(5),ei=Wr(6);qr.range,Vr.range,Xr.range,Jr.range,Kr.range,ti.range,ei.range;var ni=Sr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function ri(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ii(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function oi(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}ni.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Sr((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null},ni.range;var ai,si,li,ci={"-":"",_:" ",0:"0"},ui=/^\s*\d+/,pi=/^%/,di=/[\\^$*+?|[\]().{}]/g;function fi(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function hi(t){return t.replace(di,"\\$&")}function gi(t){return new RegExp("^(?:"+t.map(hi).join("|")+")","i")}function _i(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function bi(t,e,n){var r=ui.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function mi(t,e,n){var r=ui.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yi(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function vi(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function wi(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function xi(t,e,n){var r=ui.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Mi(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ki(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ji(t,e,n){var r=ui.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function zi(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ni(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ai(t,e,n){var r=ui.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ii(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ci(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Di(t,e,n){var r=ui.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ti(t,e,n){var r=ui.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ei(t,e,n){var r=ui.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Si(t,e,n){var r=pi.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Li(t,e,n){var r=ui.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Oi(t,e,n){var r=ui.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Pi(t,e){return fi(t.getDate(),e,2)}function Yi(t,e){return fi(t.getHours(),e,2)}function Fi(t,e){return fi(t.getHours()%12||12,e,2)}function Ui(t,e){return fi(1+Pr.count(Qr(t),t),e,3)}function Bi(t,e){return fi(t.getMilliseconds(),e,3)}function Ri(t,e){return Bi(t,e)+"000"}function Zi(t,e){return fi(t.getMonth()+1,e,2)}function Gi(t,e){return fi(t.getMinutes(),e,2)}function Hi(t,e){return fi(t.getSeconds(),e,2)}function Qi(t){var e=t.getDay();return 0===e?7:e}function $i(t,e){return fi(Fr.count(Qr(t)-1,t),e,2)}function Wi(t){var e=t.getDay();return e>=4||0===e?Zr(t):Zr.ceil(t)}function qi(t,e){return t=Wi(t),fi(Zr.count(Qr(t),t)+(4===Qr(t).getDay()),e,2)}function Vi(t){return t.getDay()}function Xi(t,e){return fi(Ur.count(Qr(t)-1,t),e,2)}function Ji(t,e){return fi(t.getFullYear()%100,e,2)}function Ki(t,e){return fi((t=Wi(t)).getFullYear()%100,e,2)}function to(t,e){return fi(t.getFullYear()%1e4,e,4)}function eo(t,e){var n=t.getDay();return fi((t=n>=4||0===n?Zr(t):Zr.ceil(t)).getFullYear()%1e4,e,4)}function no(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fi(e/60|0,"0",2)+fi(e%60,"0",2)}function ro(t,e){return fi(t.getUTCDate(),e,2)}function io(t,e){return fi(t.getUTCHours(),e,2)}function oo(t,e){return fi(t.getUTCHours()%12||12,e,2)}function ao(t,e){return fi(1+$r.count(ni(t),t),e,3)}function so(t,e){return fi(t.getUTCMilliseconds(),e,3)}function lo(t,e){return so(t,e)+"000"}function co(t,e){return fi(t.getUTCMonth()+1,e,2)}function uo(t,e){return fi(t.getUTCMinutes(),e,2)}function po(t,e){return fi(t.getUTCSeconds(),e,2)}function fo(t){var e=t.getUTCDay();return 0===e?7:e}function ho(t,e){return fi(qr.count(ni(t)-1,t),e,2)}function go(t){var e=t.getUTCDay();return e>=4||0===e?Kr(t):Kr.ceil(t)}function _o(t,e){return t=go(t),fi(Kr.count(ni(t),t)+(4===ni(t).getUTCDay()),e,2)}function bo(t){return t.getUTCDay()}function mo(t,e){return fi(Vr.count(ni(t)-1,t),e,2)}function yo(t,e){return fi(t.getUTCFullYear()%100,e,2)}function vo(t,e){return fi((t=go(t)).getUTCFullYear()%100,e,2)}function wo(t,e){return fi(t.getUTCFullYear()%1e4,e,4)}function xo(t,e){var n=t.getUTCDay();return fi((t=n>=4||0===n?Kr(t):Kr.ceil(t)).getUTCFullYear()%1e4,e,4)}function Mo(){return"+0000"}function ko(){return"%"}function jo(t){return+t}function zo(t){return Math.floor(+t/1e3)}function No(t){throw new TypeError("Expected a value of type string but got a value of type "+typeof t)}function Ao(t){return function(e){return"string"!=typeof e&&No(e),(e=e.trim())?t(e):null}}!function(t){ai=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=gi(i),u=_i(i),p=gi(o),d=_i(o),f=gi(a),h=_i(a),g=gi(s),_=_i(s),b=gi(l),m=_i(l),y={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Pi,e:Pi,f:Ri,g:Ki,G:eo,H:Yi,I:Fi,j:Ui,L:Bi,m:Zi,M:Gi,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:jo,s:zo,S:Hi,u:Qi,U:$i,V:qi,w:Vi,W:Xi,x:null,X:null,y:Ji,Y:to,Z:no,"%":ko},v={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:ro,e:ro,f:lo,g:vo,G:xo,H:io,I:oo,j:ao,L:so,m:co,M:uo,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:jo,s:zo,S:po,u:fo,U:ho,V:_o,w:bo,W:mo,x:null,X:null,y:yo,Y:wo,Z:Mo,"%":ko},w={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:Ni,e:Ni,f:Ei,g:Mi,G:xi,H:Ii,I:Ii,j:Ai,L:Ti,m:zi,M:Ci,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:ji,Q:Li,s:Oi,S:Di,u:mi,U:yi,V:vi,w:bi,W:wi,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:Mi,Y:xi,Z:ki,"%":Si};function x(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=ci[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function M(t,e){return function(n){var r,i,o=oi(1900,void 0,1);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ii(oi(o.y,0,1))).getUTCDay(),r=i>4||0===i?Vr.ceil(r):Vr(r),r=$r.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=ri(oi(o.y,0,1))).getDay(),r=i>4||0===i?Ur.ceil(r):Ur(r),r=Pr.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ii(oi(o.y,0,1)).getUTCDay():ri(oi(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ii(o)):ri(o)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in ci?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=x(n,y),y.X=x(r,y),y.c=x(e,y),v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}(t),ai.format,ai.parse,si=ai.utcFormat,li=ai.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Io=new Date(1972,3,27,19,45,5),Co={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[0])}}]};function Do(t){return function(e){var n=null;return t.forEach((function(t){e.match(t.regex)&&(n=t.toDate(e))})),n}}function To(t,e){var n,r=li(t),i=si(t);return n=Ao("function"==typeof e?function(t){return e(t,null!==r(t))}:function(t){return null!==r(t)}),Object.freeze({test:n,parse:Ao((function(e){return r(e)||(Co[t]?Do(Co[t])(e):null)})),format:function(t){return i(t)},type:"datetime",description:t,id:"datetime$"+t,example:i(Io)})}var Eo=Object.freeze([To("%Y-%m-%dT%H:%M:%S.%LZ"),To("%Y-%m-%d %H:%M:%S"),To("%Y-%m-%dT%H:%M:%S"),To("%Y-%m-%dT%H:%M:%SZ"),To("%d/%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),To("%d/%m/%Y %H:%M",(function(t,e){if(!e)return!1;var n=t.split(/[/ :]/).map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3&&n[3]>=0&&n[3]<24&&n[4]>=0&&n[4]<60})),To("%d/%m/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),To("%m/%d/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),To("%m/%d/%Y %H:%M",(function(t,e){if(!e)return!1;var n=t.split(/[/ :]/).map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3&&n[3]>=0&&n[3]<24&&n[4]>=0&&n[4]<60})),To("%m/%d/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),To("%Y/%m/%d",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),To("%d-%m-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),To("%d-%m-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),To("%d.%m.%Y",(function(t,e){if(!e)return!1;var n=t.split(".").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),To("%m.%d.%y",(function(t,e){if(!e)return!1;var n=t.split(".").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),To("%m-%d-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),To("%m-%d-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),To("%Y-%m-%d",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),To("%Y-%m",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12})),To("%d %b %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),To("%d %B %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),To("%d %b %y"),To("%-d %b â€™%y"),To("%d %B %y"),To("%d-%b-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),To("%d-%B-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),To("%d-%b-%y"),To("%d-%B-%y"),To("%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>=1e3})),To("%m/%y"),To("%b %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),To("%B %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),To("%b-%y"),To("%b %y"),To("%B %y"),To("%b '%y"),To("%b â€™%y"),To("%B %-d %Y"),To("%d %b",(function(t,e){return!!e||!!Do(Co["%d %b"])(t)})),To("%d %B"),To("%b %d",(function(t,e){return!!e||!!Do(Co["%b %d"])(t)})),To("%B %d"),To("%d-%m",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12})),To("%m-%d"),To("%d/%m"),To("%m/%d"),To("%b %d %Y"),To("%b %d %Y, %-I.%M%p"),To("%B"),To("%b"),To("%X"),To("%I:%M %p"),To("%-I.%M%p"),To("%H:%M",(function(t,e){if(!e)return!1;var n=t.split(":").map(parseFloat);return n[0]>=0&&n[0]<24})),To("%H:%M:%S"),To("%M:%S"),To("%-I%p"),To("Q%q %Y",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length})),To("%Y Q%q",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length})),To("%YM%m",(function(t,e){if(!e)return!1;var n=t.split("M").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12})),To("%YQ%q",(function(t,e){if(!e)return!1;var n=t.split("Q").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=4})),To("%YÃ%q",(function(t,e){if(!e)return!1;var n=t.split("Ã").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=4}))]),So=Object.freeze([To("%Y",(function(t,e){if(!e)return!1;var n=parseFloat(t);return n>1499&&n<2200})),To("%Y%m",(function(t,e){if(!e)return!1;var n=parseFloat(t.slice(0,4)),r=parseFloat(t.slice(4));return n>1e3&&r>0&&r<=12}))]);function Lo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Oo(t){return(t=Lo(Math.abs(t)))?t[1]:NaN}var Po,Yo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fo(t){if(!(e=Yo.exec(t)))throw new Error("invalid format: "+t);var e;return new Uo({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Uo(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Bo(t,e){var n=Lo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Fo.prototype=Uo.prototype,Uo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ro={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Bo(100*t,e)},r:Bo,s:function(t,e){var n=Lo(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Po=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Lo(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Zo(t){return t}var Go,Ho,Qo,$o=Array.prototype.map,Wo=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function qo(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Zo:(e=$o.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Zo:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}($o.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function p(t){var e=(t=Fo(t)).fill,n=t.align,p=t.sign,d=t.symbol,f=t.zero,h=t.width,g=t.comma,_=t.precision,b=t.trim,m=t.type;"n"===m?(g=!0,m="g"):Ro[m]||(void 0===_&&(_=12),b=!0,m="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var y="$"===d?i:"#"===d&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===d?o:/[%p]/.test(m)?l:"",w=Ro[m],x=/[defgprs%]/.test(m);function M(t){var i,o,l,d=y,M=v;if("c"===m)M=w(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),_),b&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==p&&(k=!1),d=(k?"("===p?p:c:"-"===p||"("===p?"":p)+d,M=("s"===m?Wo[8+Po/3]:"")+M+(k&&"("===p?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!f&&(t=r(t,1/0));var j=d.length+t.length+M.length,z=j<h?new Array(h-j+1).join(e):"";switch(g&&f&&(t=r(z+t,z.length?h-M.length:1/0),z=""),n){case"<":t=d+t+M+z;break;case"=":t=d+z+t+M;break;case"^":t=z.slice(0,j=z.length>>1)+d+t+M+z.slice(j);break;default:t=z+d+t+M}return s(t)}return _=void 0===_?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),M.toString=function(){return t+""},M}return{format:p,formatPrefix:function(t,e){var n=p(((t=Fo(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Oo(e)/3))),i=Math.pow(10,-r),o=Wo[8+r/3];return function(t){return n(i*t)+o}}}}!function(t){Go=qo(t),Ho=Go.format,Qo=Go.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Vo={test:Ao((function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Ao((function(t){return parseFloat(t.replace(/,/g,""))})),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},Xo={test:Ao((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Ao((function(t){return parseFloat(t.replace(/\s/g,""))})),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},Jo={test:Ao((function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Ao((function(t){return parseFloat(t)})),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},Ko={test:Ao((function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Ao((function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))})),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},ta={test:Ao((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Ao((function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))})),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},ea={test:Ao((function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Ao((function(t){return parseFloat(t.replace(/,/,"."))})),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},na=Object.freeze([Vo,Xo,Ko,ta,Jo,ea]);na.forEach((function(t){t.type="number",t.format=function(t){var e,n,r=qo({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]});return function(t,i){return null===t?"":(i||(i=",.2f"),i!==n&&(n=i,e=r.format(n)),e(t))}}(t),Object.freeze(t)}));var ra,ia=Object.freeze({test:function(t){return"string"==typeof t||No(t)},parse:function(t){return"string"==typeof t?t:No(t)},format:function(t){if("string"==typeof t)return t},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),oa=Object.freeze({datetime:Eo,number:na}),aa=Object.freeze(["datetime","number","string"]),sa=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),la=Object.freeze(Object.keys(sa));function ca(t,e){return t.index-e.index}function ua(t,e){return e.n_success-t.n_success||ca(t,e)}function pa(t){return(""+t).trim()}function da(t){return void 0===t?function(t){return pa(t)}:"function"==typeof t?function(e,n){return pa(t(e,n))}:function(e){return pa(e[""+t])}}function fa(t){t?Array.isArray(t)||(t=[t]):t=aa;var e=t.reduce((function(t,e){var n=oa[e];return n&&Array.prototype.push.apply(t,n),t}),[]),n=-1!==t.indexOf("string"),r=la.reduce((function(t,e){return t[e]=sa[e],t}),{}),i=function(t,i){i=da(i);var o=t.map(i).filter(Boolean);if(!o.length)return n?[ia]:[];var a=Math.min(r.n_max,o.length),s=Math.floor(a*r.failure_fraction),l=r.n_failing_values,c=r.sort?ua:ca,u=e.slice().reduce((function(t,e,n){for(var r=u=0,i=[],c=!1,u=0;u<a;u++){var p=o[u];if(!e.test(p)&&(++r>s?c=!0:-1===i.indexOf(p)&&(i.push(p),i.length>l&&(c=!0)),c))break}return c||t.push({interp:e,n_success:a-r,index:n}),t}),[]).sort(c).map((function(t){return t.interp}));return n&&u.push(ia),u};return la.forEach((function(t){var e;i[(e=t,e.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()})))]=function(e){return void 0===e?r[t]:(r[t]=e,i)}})),i}fa.DATETIME_IDS=Object.freeze(Eo.concat(So).map((function(t){return t.id}))),fa.NUMBER_IDS=Object.freeze(na.map((function(t){return t.id}))),fa.STRING_IDS=Object.freeze([ia.id]),fa.DATETIME_FORMAT_ONLY_IDS=Object.freeze(So.map((function(t){return t.id}))),fa.getInterpretation=(ra=Eo.concat(So,na,ia).reduce((function(t,e){return t[e.id]=e,t}),{}),function(t){return ra[t]}),fa._createAccessorFunction=da;const ha=fa.getInterpretation,ga=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk",show_positive_sign:!1});function _a(t,e){const n=ha(e);if(!n)throw new Error(`format_id ${e} not recognised`);if("number"!==n.type)throw new Error(`format_id ${e}not a number format`);const r=n.format,i=n.decimal_mark,o=n.thousand_separator,a=Math.trunc(t.n_dec),s=(o?",":"")+"."+Math.max(0,a)+"f",l=t.strip_zeros&&a>0?new RegExp("\\"+i+"?0+$"):null,c=t.strip_separator&&o,u=t.negative_sign,p=t.show_positive_sign,d=function(t){let e=1;return t.transform_labels&&(e="multiply"===t.transform?t.multiply_divide_constant:"divide"===t.transform?1/t.multiply_divide_constant:Math.pow(10,t.exponentiate_constant)),function(t){return t*e}}(t);return function(e){if(null===e)return"";const n=function(t,e){const n=t=>Math.round(Math.abs(t))*Math.sign(t);if(!(e=e>0?Math.floor(e):Math.ceil(e)))return n(t);const r=Math.pow(10,Math.abs(e));return e>0?n(t*r)/r:n(t/r)*r}(d(e),a),i=n<0,f=Math.abs(n),h=c&&o&&f>=1e3&&f<1e4;let g=function(t){return r(t,s)}(f);return l&&(g=g.replace(l,"")),h&&(g=g.replace(o,"")),!i&&"$-nk"===u&&p?t.prefix+"+"+g+t.suffix:!i&&"-$nk"===u&&p?"+"+t.prefix+g+t.suffix:i&&"none"!==u?"-$nk"===u?"-"+t.prefix+g+t.suffix:"$-nk"===u?t.prefix+"-"+g+t.suffix:"($nk)"===u?"("+t.prefix+g+t.suffix+")":t.prefix+"("+g+")"+t.suffix:t.prefix+g+t.suffix}}function ba(t){for(let e in ga)void 0===t[e]&&(t[e]=ga[e]);return function(e){return _a(t,e)}}function ma(t){const e=fa.getInterpretation(t);if(!e)throw new Error(`format_id ${t} not recognised`);return function(){return e.format(...arguments)}}function ya(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t;return"datetime"===e&&Boolean(r)&&(r=function(t,e){let n=e;/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(e)?n=new Date(e):"string"==typeof e&&(n=fa.getInterpretation(t).parse(n));return ma(t)(n)}(n,r)),"number"===e&&Boolean(r)&&(r=function(t,e){const n=parseFloat(e),r=`,.${(e.toString().split(".")[1]||"").length}f`;let i=ma(t)(e,r);const o={none:"",comma:",",point:".",space:" "},a=t.split("$")[1].split("_")[1];return Number.isInteger(n)&&(i=i.split(o[a])[0]),i}(n,r)),(String(r).includes(",")||String(r).includes('"')||String(r).includes("\r")||String(r).includes("\n"))&&(r=`"${String(r).replace(/"/g,'""')}"`),r}function va(t){const e=Object.keys(t);let n={};const r=["lines","order","labels","colors","regions_geometry","geo_regions"],i=e.filter((e=>!r.includes(e)&&0!==t[e].length));return i.forEach((e=>{const r=function(t,e){const n=JSON.parse(JSON.stringify(t[e]));return n.column_names=t[e].column_names||{},n.metadata=t[e].metadata||{},n.forEach((t=>{Object.keys(t).forEach((e=>{Object.keys(n.column_names).includes(e)||delete t[e]}))})),n}(t,e);n[e]=r})),{formatted_datasets:n,datasets_to_download:i}}function wa(t,e){const n=t[e],{headers:r,header_index_lookup:i}=function(t){const e=[],n={};for(const r in t.column_names)t.column_names[r]&&((Array.isArray(t.column_names[r])?t.column_names[r]:[t.column_names[r]]).forEach((t=>{let n=ya(t);e.includes(n)||e.push(n)})),Array.isArray(t.column_names[r])?n[r]=t.column_names[r].map((t=>e.indexOf(ya(t)))):n[r]=e.indexOf(ya(t.column_names[r])));return{headers:e,header_index_lookup:n}}(n),o=function(t,e,n){const r=[];return t.forEach((e=>{const i=[];for(const r in e){const o=e[r],a=n[r];let s=t.metadata?t.metadata[r]?.type:null,l=t.metadata?t.metadata[r]?.type_id:null;Array.isArray(o)?o.forEach(((e,n)=>{s=t.metadata[r][n]?.type,l=t.metadata[r][n]?.type_id,i[a[n]]=ya(e,s,l)})):i[a]=ya(o,s,l)}r.push(i)})),[e.join(",")].concat(r.map((t=>t.join(",")))).join("\n")}(n,r,i);return o}function xa(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csv";const e=window.template?.metadata?.visualization_title,n=function(t){return t.replace(/^\.+/,"").replace(/[\/\\]/g,"_").replace(/[<>:"|?*\x00-\x1f]/g,"_").replace(/^(con|prn|aux|nul|com[0-9]|lpt[0-9])$/i,"_$1").trim().replace(/[\s.]+$/,"").slice(0,255)}(e||"Untitled_Visualization");return`${n}.${t}`}var Ma="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0;function ka(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Aa(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function ja(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function za(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Na=Ma.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Aa=Ma.saveAs||("object"!=typeof window||window!==Ma?function(){}:"download"in HTMLAnchorElement.prototype&&!Na?function(t,e,n){var r=Ma.URL||Ma.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener","string"==typeof t?(i.href=t,i.origin!==location.origin?ja(i.href)?ka(t,e,n):za(i,i.target="_blank"):za(i)):(i.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){za(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(ja(t))ka(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){za(r)}))}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return ka(t,e,n);var i="application/octet-stream"===t.type,o=/constructor/i.test(Ma.HTMLElement)||Ma.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o||Na)&&"undefined"!=typeof FileReader){var s=new FileReader;s.onloadend=function(){var t=s.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},s.readAsDataURL(t)}else{var l=Ma.URL||Ma.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout((function(){l.revokeObjectURL(c)}),4e4)}});let Ia,Ca,Da,Ta,Ea;Ma.saveAs=Aa.saveAs=Aa;let Sa=!1;function La(){var t;return(t=document.createElement("style")).type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t),Ia=document.createElement("footer"),Ia.className="flourish-footer",Ca=document.createElement("div"),Ca.className="flourish-footer-text",Ca.setAttribute("id","flourish-footer-text"),Da=document.createElement("div"),Da.className="flourish-footer-logo-container",Ia.appendChild(Ca),Ia.appendChild(Da),Ia}function Oa(){var t=Ga.footer_logo_src?Ga.footer_logo_src:"";return Ga.footer_logo_src_light&&Ga.background_color_enabled&&!Zt(Ga.background_color)&&(t=Ga.footer_logo_src_light),t}function Pa(){return Ga.footer_logo_enabled&&Oa()}function Ya(){var t=[{name:Ga.source_name,url:Ga.source_url},{name:Ga.multiple_sources?Ga.source_name_2:"",url:Ga.multiple_sources?Ga.source_url_2:""},{name:Ga.multiple_sources?Ga.source_name_3:"",url:Ga.multiple_sources?Ga.source_url_3:""}].filter((function(t){return t.name||t.url}));Sa=t.length>0||Ga.footer_note||Ga.footer_note_secondary||Pa();var e,n="top"==Ga.footer_border||"top_and_bottom"==Ga.footer_border,r="bottom"==Ga.footer_border||"top_and_bottom"==Ga.footer_border;Ia.style.display="flex",Ia.style.height=Sa?null:0,Ia.style.width="100%",Ia.style.paddingTop=n?Ga.footer_border_space+"rem":"",Ia.style.paddingBottom=r?Ga.footer_border_space+"rem":"",Ia.style.borderTop=n?Ga.footer_border_width+"px "+Ga.footer_border_style+" "+Ga.footer_border_color:"",Ia.style.borderBottom=r?Ga.footer_border_width+"px "+Ga.footer_border_style+" "+Ga.footer_border_color:"",Ia.style.fontFamily=Ga.footer_font?Ga.footer_font.name:"inherit",Ia.style.fontWeight=Ga.footer_text_weight,Ia.style.justifyContent="justify"==(e=Ga.footer_align)?"space-between":"left"==e?"flex-start":"right"==e?"flex-end":"center"==e?"center":void 0,Ia.style.fontSize=Ga.footer_text_size+"rem",Ia.style.color=Ga.footer_text_color||Ga.font_color,Ia.style.alignItems=Ga.footer_align_vertical;var i=document.createElement("span");t.forEach((function(t,e){var n=document.createElement("p");if(e>0&&(n.innerText=", "),t.url){var r=document.createElement("a");r.innerText=t.name||t.url,r.href=Ot(t.url),r.target="_blank",n.appendChild(r)}else n.innerText+=t.name||t.url;i.innerHTML+=n.innerHTML})),Ca.style.order="left"==Ga.footer_logo_order?2:"",Ca.style.textAlign=Lt(Ga.footer_align);const o=""!==i.innerHTML?`${Ga.source_label} ${i.innerHTML}`:"",a=Ga.footer_note?(""!==i.innerHTML?" â€¢ ":"")+Fa("primary"):"",s=Ga.footer_note_secondary?`<br /><p>${Fa("secondary")}</p>`:"";Ca.innerHTML=`<p>${o}${a}</p>${s}`,Da.innerHTML="",Pa()&&(Ta=Ta||document.createElement("img"),Ta.className="flourish-footer-logo",Ta.src=Ot(Oa()),Ta.alt=Ga.footer_logo_alt,Ta.style.height=Ga.footer_logo_height+"rem",Ta.style.marginRight="left"==Ga.footer_logo_order?Ga.footer_logo_margin+"rem":"",Ta.style.marginLeft="right"==Ga.footer_logo_order?Ga.footer_logo_margin+"rem":"",Ta.style.verticalAlign=Ga.footer_align_vertical,Ta.style.display=Pa()?"":"none",Ga.footer_logo_link_url?(Ea=document.createElement("a"),Ea.target="_blank",Ea.appendChild(Ta),Da.appendChild(Ea),Ta.style.cursor="pointer",Ea.href=Ot(Ga.footer_logo_link_url)):Da.appendChild(Ta)),document.querySelectorAll(".fl-data-download-button").forEach((t=>{t.addEventListener("click",(async t=>{t.preventDefault();const{file_name:e,blob:n}=await async function(){const t={},{formatted_datasets:e,datasets_to_download:n}=va(window.template?.data);if(1===n.length){const t=n[0],r=xa("csv"),i=wa(e,t);return{file_name:r,blob:new Blob(["\ufeff"+i],{type:"text/csv"})}}if(n.length>1){n.forEach((n=>{const r=wa(e,n);t[`${n}.csv`]=Ar("\ufeff"+r)}));const r=xa("zip"),i=Dr(t);return{file_name:r,blob:new Blob([i],{type:"application/zip"})}}return Flourish.warn("There is no data to download"),null}();try{Aa(n,e)}catch(t){console.error("An error occurred while saving the file:",t)}}))}))}function Fa(t){const e=("primary"===t?Ga.footer_note:Ga.footer_note_secondary).replace(/{{([^}]+)}}/g,((t,e)=>{if("data_last_updated"===e){return function(t,e){let n="n/a";null!==t&&(n=we(e)(t));return n}(function(t){const e="data_last_updated"===t?"last_updated":t,n=Object.keys(window.template?.data);if(n.length>0){const t=n.map((t=>window.template.data[t].timestamps?.[e]||null)).filter((t=>null!==t));if(0===t.length)return null;return Math.max(...t)}return null}(e),Ga.footer_timestamp_format)}if(e.includes("download_data")){return!!window.template.data&&(window.template.data.length||Object.keys(window.template.data).length)?function(t){const e=[...document.querySelectorAll(".fl-data-download-button")],n=[...document.querySelectorAll("#flourish-header-title, #flourish-header-subtitle, #flourish-header-text")].find((t=>Boolean(t.textContent.trim()))),r=`fl-data-download-button-${e.length}`,i=n?`aria-labelledby='${n.id} ${r}'`:"";let o="Download data";if(t.includes('"')){const e=t.indexOf('"'),n=t.lastIndexOf('"');o=t.slice(e+1,n)}return`<a id='${r}' ${i} href='#' class='fl-data-download-button'>${o}</a>`}(e):(Flourish.warn("There is no data to download"),"")}return""}));return e}function Ua(){xt(),Yt(),Ya(),document.body.style.backgroundColor=Ga.background_color_enabled?Ga.background_color:"transparent",document.body.style.backgroundImage=Ga.background_image_enabled?"url("+Ga.background_image_src+")":"",document.body.style.backgroundSize=Ga.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=Ga.background_image_position;var t=Wa.wrapper.style;t.display="flex",t.height="100vh",t.color=Ga.font_color,t.maxWidth="wrapper"==Ga.max_width_target?Ga.max_width+"px":"",t.marginLeft="wrapper"==Ga.max_width_target&&"left"!=Ga.max_width_align?"auto":"",t.marginRight="wrapper"==Ga.max_width_target&&"right"!=Ga.max_width_align?"auto":"",t.padding=Ga.margin_top+"rem "+Ga.margin_right+"rem "+Ga.margin_bottom+"rem "+Ga.margin_left+"rem",t.borderTop=Ga.border.enabled?Ga.border.top.width+"px "+Ga.border.top.style+" "+Ga.border.top.color:"",t.borderRight=Ga.border.enabled?Ga.border.right.width+"px "+Ga.border.right.style+" "+Ga.border.right.color:"",t.borderBottom=Ga.border.enabled?Ga.border.bottom.width+"px "+Ga.border.bottom.style+" "+Ga.border.bottom.color:"",t.borderLeft=Ga.border.enabled?Ga.border.left.width+"px "+Ga.border.left.style+" "+Ga.border.left.color:"";var e=Wa.primary.outer.style,n=Wa.legend.outer.style,r=Ba();if("stack"==r.mode)r.elements.forEach((function(t,e){Wa[t].outer.style.order=10*e}));else for(var i in r.elements)for(var o in r.elements[i]){var a=Wa[i].outer||Wa[i];a.style[o]=r.elements[i][o],a.style.order=""}Wa.header.outer.style.display="",Wa.footer.outer.style.display="",Wa.controls.outer.style.display="",e.display="flex",n.display="",e.flex="1 1 auto",e.height=null,Wa.primary.outer.style.maxWidth="primary"==Ga.max_width_target?Ga.max_width+"px":"",Wa.primary.outer.style.marginLeft="primary"==Ga.max_width_target&&"left"!=Ga.max_width_align?"auto":"",Wa.primary.outer.style.marginRight="primary"==Ga.max_width_target&&"right"!=Ga.max_width_align?"auto":"";var s=""!=Ga.screenreader_text_primary.trim(),l=document.getElementById("fl-layout-primary-description");Wa.primary.outer.setAttribute("aria-label","primary visualisation container"),l.innerText=Ga.screenreader_text_primary,s?Wa.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):Wa.primary.outer.removeAttribute("aria-describedBy"),Ga.screenreader_hide_primary?Wa.primary.inner.setAttribute("aria-hidden",!0):Wa.primary.inner.removeAttribute("aria-hidden"),""!=Ga.screenreader_label.trim()?Ja().setAttribute("aria-label",Ga.screenreader_label):Ja().removeAttribute("aria-label"),$a.map((function(t){var e=Wa[t],n=e.outer.style;return{name:t,height:Va(e.inner),order:parseFloat(n.order),style:n}})).sort((function(t,e){return t.order-e.order})).filter((function(t){if(t.height||"primary"==t.name)return!0;t.style.paddingBottom="",t.style.paddingTop="",t.style.display="none"})).forEach((function(t,e,n){t.style.width="100%",t.style.paddingTop=e?Ra("padding"):"",t.style.paddingBottom=e<n.length-1?Ra("padding"):""})),Wa.wrapper.style.gridColumnGap=Ra("gap"),Wa.wrapper.style.gridRowGap=Ra("gap"),document.body.setAttribute("dir",Ga.read_direction),Wa.wrapper.setAttribute("dir",Ga.read_direction),document.getElementById("fl-layout-wrapper-outer").setAttribute("dir","ltr")}function Ba(){var t=window.innerWidth<Ga.breakpoint_mobile_big,e=Ga.layout_order.indexOf("grid")>-1,n={id:Ga.layout_order,mode:e?"grid":"stack",elements:Et[Ga.layout_order]};return t&&e&&(n.id="stack-default",n.mode="stack",n.elements=Et["stack-default"]),n}function Ra(t){var e,n=Ba();return e="custom"==Ga.space_between_sections?Ga.space_between_sections_custom:Ga.space_between_sections,"grid"==n.mode?"gap"==t?e+"rem":"":"gap"==t?"":e/2+"rem"}var Za=Object.freeze({body_font:{name:"Canva Sans Variable",url:"https://public.flourish.studio/resources/fonts/canva-sans.css"},title_font:null,subtitle_font:null,footer_font:null,read_direction:"ltr",border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_alt:"Header logo",header_logo_link_url:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:2,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.4,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:.5,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_alt:"Footer logo",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",footer_timestamp_format:"%H:%M:%S",screenreader_hide_primary:!0,screenreader_text_primary:"",screenreader_label:""});var Ga;function Ha(t,e,n){xt(n),t=function(t){return function(){return document.body.classList.add("fl-fonts-loaded"),t.apply(this,arguments)}}(t=t||window.template.update);var r=setTimeout(t,isNaN(e)?500:e),i=[];document.fonts&&i.push(document.fonts.ready),Pa()&&i.push(function(){if(Pa())return new Promise((function(t){var e=Ot(Oa());function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+e),t()}Ta=Ta||document.createElement("img"),Ta.onload=function(){t()},Ta.onerror=n,Ta.oncancel=n,Ta.src=e}))}()),Pt()&&i.push(function(){if(Pt())return new Promise((function(t){var e=Ot(Ga.header_logo_src);function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+e),t()}(Dt=Dt||document.createElement("img")).onload=function(){t()},Dt.onerror=n,Dt.oncancel=n,Dt.src=e}))}()),i.length&&(document.fonts||i.push(new Promise((function(t){setTimeout(t,500)}))),Promise.all(i).then((function(e){document.fonts&&e[0].size&&(clearTimeout(r),t(),wt()),document.fonts.addEventListener("loadingdone",(function(){clearTimeout(r),t(),wt()}))})))}var Qa,$a=["header","controls","legend","primary","footer"],Wa={};function qa(t){return t.getBoundingClientRect().width}function Va(t){return t.getBoundingClientRect().height}function Xa(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var i=document.createElement("div");return i.className="fl-layout-inner",i.id=n,i.style.width="100%",i.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),r.appendChild(i),Wa.wrapper.appendChild(r),{outer:r,inner:i}}function Ja(){return Wa.wrapper}function Ka(){return Wa.sidebar}function ts(t){return-1!==$a.indexOf(t)?Wa[t].inner:null}function es(t){return Wa[t]||void 0===t?qa("wrapper"==t||void 0===t?Wa.wrapper:Wa[t].outer):null}function ns(t){return Wa[t]||void 0===t?"wrapper"==t||void 0===t?qa(Wa.wrapper)-us("horizontal")-ps("horizontal"):qa(Wa[t].inner):null}function rs(t){return Wa[t]||void 0===t?Va("wrapper"==t||void 0===t?Wa.wrapper:Wa[t].outer):null}function is(t){return Wa[t]||void 0===t?"wrapper"==t||void 0===t?Va(Wa.wrapper)-us("vertical")-ps("vertical"):Va(Wa[t].inner):null}function os(){var t="grid"==Ba().mode?0:ls(Wa.primary.outer);return Va(Wa.primary.outer)-t}function as(){return qa(Wa.primary.inner)}function ss(){return Ga.screenreader_hide_primary?"hidden":"readable"}function ls(t){return"grid"==Ba().mode?parseFloat(getComputedStyle(Wa.wrapper).gap)||0:(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function cs(){var t=function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return t>999?650:t>599?575:400}()-us("vertical")-ps("vertical"),e=function(){var t=Ba(),e="grid-1"==t.id?[]:["header","controls","legend","footer"];return e.reduce((function(e,n){var r=rs(n);return r>0&&"grid"==t.mode&&(r+=ls()),e+r}),0)}();return t-e-("grid"==Ba().mode?0:ls(Wa.primary.outer))}function us(t){var e;return"left"==t?e=Ga.margin_left:"right"==t?e=Ga.margin_right:"top"==t?e=Ga.margin_top:"bottom"==t?e=Ga.margin_bottom:"horizontal"==t?e=Ga.margin_left+Ga.margin_right:"vertical"==t&&(e=Ga.margin_top+Ga.margin_bottom),St(e)}function ps(t){return Ga.border.enabled?"vertical"==t?Ga.border.top.width+Ga.border.bottom.width:"horizontal"==t?Ga.border.left.width+Ga.border.right.width:null:0}function ds(t){var e=Wa.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)e.inner.style.height="";else{var n=null===t,r=n?cs():t;r+ls(Wa.primary.outer)!==parseFloat(e.outer.style.height)&&(Wa.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:rs()))}}function fs(t){var e=Qa.querySelector(".fl-layout-overlay-message");if(t){Qa.style.display="block";var n="string"==typeof t?t:"Your web browser does not support the features used by this content. Consider updating to a modern browser.";e.innerHTML=n}else e.textContent="",Qa.style.display="none"}function hs(){return Qa}let gs;function _s(){gs&&bs(),gs=st(this.getWrapper(),"fl-layout-svg-screenshot-container"),gs.addTextElements("#fl-layout-header-container h2"),gs.addTextElements("#fl-layout-header-container h3"),gs.addTextElements("#fl-layout-header-container p"),gs.addTextElements("#fl-layout-footer .flourish-footer-text")}function bs(){gs.remove(),gs=null}function ms(){return new ys}function ys(){this.reset()}ys.prototype={constructor:ys,reset:function(){this.s=this.t=0},add:function(t){ws(vs,t,this.t),ws(this,vs.s,this.s),this.s?this.t+=vs.t:this.s=vs.t},valueOf:function(){return this.s}};var vs=new ys;function ws(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var xs=1e-6,Ms=1e-12,ks=Math.PI,js=ks/2,zs=ks/4,Ns=2*ks,As=180/ks,Is=ks/180,Cs=Math.abs,Ds=Math.atan,Ts=Math.atan2,Es=Math.cos,Ss=Math.ceil,Ls=Math.sin,Os=Math.sign||function(t){return t>0?1:t<0?-1:0},Ps=Math.sqrt;function Ys(t){return t>1?0:t<-1?ks:Math.acos(t)}function Fs(t){return t>1?js:t<-1?-js:Math.asin(t)}function Us(){}function Bs(t,e){t&&Zs.hasOwnProperty(t.type)&&Zs[t.type](t,e)}var Rs={Feature:function(t,e){Bs(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Bs(n[r].geometry,e)}},Zs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Gs(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Gs(n[r],e,0)},Polygon:function(t,e){Hs(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Hs(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Bs(n[r],e)}};function Gs(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Hs(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Gs(t[n],e,1);e.polygonEnd()}function Qs(t,e){t&&Rs.hasOwnProperty(t.type)?Rs[t.type](t,e):Bs(t,e)}var $s,Ws,qs,Vs,Xs,Js,Ks,tl,el,nl,rl,il,ol,al,sl,ll,cl,ul,pl,dl,fl,hl=ms(),gl=ms(),_l={point:Us,lineStart:Us,lineEnd:Us,polygonStart:function(){hl.reset(),_l.lineStart=bl,_l.lineEnd=ml},polygonEnd:function(){var t=+hl;gl.add(t<0?Ns+t:t),this.lineStart=this.lineEnd=this.point=Us},sphere:function(){gl.add(Ns)}};function bl(){_l.point=yl}function ml(){vl($s,Ws)}function yl(t,e){_l.point=vl,$s=t,Ws=e,qs=t*=Is,Vs=Es(e=(e*=Is)/2+zs),Xs=Ls(e)}function vl(t,e){var n=(t*=Is)-qs,r=n>=0?1:-1,i=r*n,o=Es(e=(e*=Is)/2+zs),a=Ls(e),s=Xs*a,l=Vs*o+s*Es(i),c=s*r*Ls(i);hl.add(Ts(c,l)),qs=t,Vs=o,Xs=a}function wl(t){return[Ts(t[1],t[0]),Fs(t[2])]}function xl(t){var e=t[0],n=t[1],r=Es(n);return[r*Es(e),r*Ls(e),Ls(n)]}function Ml(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function kl(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function jl(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function zl(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Nl(t){var e=Ps(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Al={sphere:Us,point:Il,lineStart:Dl,lineEnd:Sl,polygonStart:function(){Al.lineStart=Ll,Al.lineEnd=Ol},polygonEnd:function(){Al.lineStart=Dl,Al.lineEnd=Sl}};function Il(t,e){t*=Is;var n=Es(e*=Is);Cl(n*Es(t),n*Ls(t),Ls(e))}function Cl(t,e,n){++Js,tl+=(t-tl)/Js,el+=(e-el)/Js,nl+=(n-nl)/Js}function Dl(){Al.point=Tl}function Tl(t,e){t*=Is;var n=Es(e*=Is);pl=n*Es(t),dl=n*Ls(t),fl=Ls(e),Al.point=El,Cl(pl,dl,fl)}function El(t,e){t*=Is;var n=Es(e*=Is),r=n*Es(t),i=n*Ls(t),o=Ls(e),a=Ts(Ps((a=dl*o-fl*i)*a+(a=fl*r-pl*o)*a+(a=pl*i-dl*r)*a),pl*r+dl*i+fl*o);Ks+=a,rl+=a*(pl+(pl=r)),il+=a*(dl+(dl=i)),ol+=a*(fl+(fl=o)),Cl(pl,dl,fl)}function Sl(){Al.point=Il}function Ll(){Al.point=Pl}function Ol(){Yl(cl,ul),Al.point=Il}function Pl(t,e){cl=t,ul=e,t*=Is,e*=Is,Al.point=Yl;var n=Es(e);pl=n*Es(t),dl=n*Ls(t),fl=Ls(e),Cl(pl,dl,fl)}function Yl(t,e){t*=Is;var n=Es(e*=Is),r=n*Es(t),i=n*Ls(t),o=Ls(e),a=dl*o-fl*i,s=fl*r-pl*o,l=pl*i-dl*r,c=Ps(a*a+s*s+l*l),u=Fs(c),p=c&&-u/c;al+=p*a,sl+=p*s,ll+=p*l,Ks+=u,rl+=u*(pl+(pl=r)),il+=u*(dl+(dl=i)),ol+=u*(fl+(fl=o)),Cl(pl,dl,fl)}function Fl(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Ul(t,e){return[Cs(t)>ks?t+Math.round(-t/Ns)*Ns:t,e]}function Bl(t){return function(e,n){return[(e+=t)>ks?e-Ns:e<-ks?e+Ns:e,n]}}function Rl(t){var e=Bl(t);return e.invert=Bl(-t),e}function Zl(t,e){var n=Es(t),r=Ls(t),i=Es(e),o=Ls(e);function a(t,e){var a=Es(e),s=Es(t)*a,l=Ls(t)*a,c=Ls(e),u=c*n+s*r;return[Ts(l*i-u*o,s*n-c*r),Fs(u*i+l*o)]}return a.invert=function(t,e){var a=Es(e),s=Es(t)*a,l=Ls(t)*a,c=Ls(e),u=c*i-l*o;return[Ts(l*i+c*o,s*n+u*r),Fs(u*n-s*r)]},a}function Gl(t,e){(e=xl(e))[0]-=t,Nl(e);var n=Ys(-e[1]);return((-e[2]<0?-n:n)+Ns-xs)%Ns}function Hl(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Us,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ql(t,e){return Cs(t[0]-e[0])<xs&&Cs(t[1]-e[1])<xs}function $l(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Wl(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Ql(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new $l(r,t,null,!0)),l.push(n.o=new $l(r,null,n,!1)),s.push(n=new $l(a,t,null,!1)),l.push(n.o=new $l(a,null,n,!0))}})),s.length){for(l.sort(e),ql(s),ql(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var c,u,p=s[0];;){for(var d=p,f=!0;d.v;)if((d=d.n)===p)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=c.length;o<a;++o)i.point((u=c[o])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(f)for(c=d.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);i.lineEnd()}}}function ql(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}Ul.invert=Ul;var Vl=ms();function Xl(t){return Cs(t[0])<=ks?t[0]:Os(t[0])*((Cs(t[0])+ks)%Ns-ks)}function Jl(t,e){var n=Xl(e),r=e[1],i=Ls(r),o=[Ls(n),-Es(n),0],a=0,s=0;Vl.reset(),1===i?r=js+xs:-1===i&&(r=-js-xs);for(var l=0,c=t.length;l<c;++l)if(p=(u=t[l]).length)for(var u,p,d=u[p-1],f=Xl(d),h=d[1]/2+zs,g=Ls(h),_=Es(h),b=0;b<p;++b,f=y,g=w,_=x,d=m){var m=u[b],y=Xl(m),v=m[1]/2+zs,w=Ls(v),x=Es(v),M=y-f,k=M>=0?1:-1,j=k*M,z=j>ks,N=g*w;if(Vl.add(Ts(N*k*Ls(j),_*x+N*Es(j))),a+=z?M+k*Ns:M,z^f>=n^y>=n){var A=kl(xl(d),xl(m));Nl(A);var I=kl(o,A);Nl(I);var C=(z^M>=0?-1:1)*Fs(I[2]);(r>C||r===C&&(A[0]||A[1]))&&(s+=z^M>=0?1:-1)}}return(a<-1e-6||a<xs&&Vl<-1e-6)^1&s}function Kl(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var tc,ec,nc=(1===(tc=Kl).length&&(ec=tc,tc=function(t,e){return Kl(ec(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;tc(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;tc(t[i],e)>0?r=i:n=i+1}return n}}),rc=nc.right;function ic(t){return null===t?NaN:+t}function oc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var ac=Math.sqrt(50),sc=Math.sqrt(10),lc=Math.sqrt(2);function cc(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ac?10:o>=sc?5:o>=lc?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ac?10:o>=sc?5:o>=lc?2:1)}function uc(t,e,n){if(null==n&&(n=ic),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function pc(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}function dc(t,e,n,r){return function(i){var o,a,s,l=e(i),c=Hl(),u=e(c),p=!1,d={point:f,lineStart:g,lineEnd:_,polygonStart:function(){d.point=b,d.lineStart=m,d.lineEnd=y,a=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=_,a=pc(a);var t=Jl(o,r);a.length?(p||(i.polygonStart(),p=!0),Wl(a,hc,t,n,i)):t&&(p||(i.polygonStart(),p=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),p&&(i.polygonEnd(),p=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(e,n){t(e,n)&&i.point(e,n)}function h(t,e){l.point(t,e)}function g(){d.point=h,l.lineStart()}function _(){d.point=f,l.lineEnd()}function b(t,e){s.push([t,e]),u.point(t,e)}function m(){u.lineStart(),s=[]}function y(){b(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,l=u.clean(),d=c.result(),f=d.length;if(s.pop(),o.push(s),s=null,f)if(1&l){if((e=(n=d[0]).length-1)>0){for(p||(i.polygonStart(),p=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter(fc))}return d}}function fc(t){return t.length>1}function hc(t,e){return((t=t.x)[0]<0?t[1]-js-xs:js-t[1])-((e=e.x)[0]<0?e[1]-js-xs:js-e[1])}var gc=dc((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?ks:-ks,l=Cs(o-n);Cs(l-ks)<xs?(t.point(n,r=(r+a)/2>0?js:-js),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=ks&&(Cs(n-i)<xs&&(n-=i*xs),Cs(o-s)<xs&&(o-=s*xs),r=function(t,e,n,r){var i,o,a=Ls(t-n);return Cs(a)>xs?Ds((Ls(e)*(o=Es(r))*Ls(n)-Ls(r)*(i=Es(e))*Ls(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*js,r.point(-ks,i),r.point(0,i),r.point(ks,i),r.point(ks,0),r.point(ks,-i),r.point(0,-i),r.point(-ks,-i),r.point(-ks,0),r.point(-ks,i);else if(Cs(t[0]-e[0])>xs){var o=t[0]<e[0]?ks:-ks;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-ks,-js]);function _c(t){var e=Es(t),n=6*Is,r=e>0,i=Cs(e)>xs;function o(t,n){return Es(t)*Es(n)>e}function a(t,n,r){var i=[1,0,0],o=kl(xl(t),xl(n)),a=Ml(o,o),s=o[0],l=a-s*s;if(!l)return!r&&t;var c=e*a/l,u=-e*s/l,p=kl(i,o),d=zl(i,c);jl(d,zl(o,u));var f=p,h=Ml(d,f),g=Ml(f,f),_=h*h-g*(Ml(d,d)-1);if(!(_<0)){var b=Ps(_),m=zl(f,(-h-b)/g);if(jl(m,d),m=wl(m),!r)return m;var y,v=t[0],w=n[0],x=t[1],M=n[1];w<v&&(y=v,v=w,w=y);var k=w-v,j=Cs(k-ks)<xs;if(!j&&M<x&&(y=x,x=M,M=y),j||k<xs?j?x+M>0^m[1]<(Cs(m[0]-v)<xs?x:M):x<=m[1]&&m[1]<=M:k>ks^(v<=m[0]&&m[0]<=w)){var z=zl(f,(-h+b)/g);return jl(z,d),[m,wl(z)]}}}function s(e,n){var i=r?t:ks-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return dc(o,(function(t){var e,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(p,d){var f,h=[p,d],g=o(p,d),_=r?g?0:s(p,d):g?s(p+(p<0?ks:-ks),d):0;if(!e&&(c=l=g)&&t.lineStart(),g!==l&&(!(f=a(e,h))||Ql(e,f)||Ql(h,f))&&(h[2]=1),g!==l)u=0,g?(t.lineStart(),f=a(h,e),t.point(f[0],f[1])):(f=a(e,h),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(i&&e&&r^g){var b;_&n||!(b=a(h,e,!0))||(u=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!g||e&&Ql(e,h)||t.point(h[0],h[1]),e=h,l=g,n=_},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}}),(function(e,r,i,o){!function(t,e,n,r,i,o){if(n){var a=Es(e),s=Ls(e),l=r*n;null==i?(i=e+r*Ns,o=e-l/2):(i=Gl(a,i),o=Gl(a,o),(r>0?i<o:i>o)&&(i+=r*Ns));for(var c,u=i;r>0?u>o:u<o;u-=l)c=wl([a,-s*Es(u),-s*Ls(u)]),t.point(c[0],c[1])}}(o,t,n,i,e,r)}),r?[0,-t]:[-ks,t-ks])}var bc=1e9,mc=-bc;function yc(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var u=0,p=0;if(null==i||(u=a(i,s))!==(p=a(o,s))||l(i,o)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==p);else c.point(o[0],o[1])}function a(r,i){return Cs(r[0]-t)<xs?i>0?0:3:Cs(r[0]-n)<xs?i>0?2:1:Cs(r[1]-e)<xs?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,u,p,d,f,h,g,_,b,m,y=a,v=Hl(),w={point:x,lineStart:function(){w.point=M,c&&c.push(u=[]);b=!0,_=!1,h=g=NaN},lineEnd:function(){l&&(M(p,d),f&&_&&v.rejoin(),l.push(v.result()));w.point=x,_&&y.lineEnd()},polygonStart:function(){y=v,l=[],c=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],l=1,u=s.length,p=s[0],d=p[0],f=p[1];l<u;++l)o=d,a=f,d=(p=s[l])[0],f=p[1],a<=r?f>r&&(d-o)*(r-a)>(f-a)*(t-o)&&++e:f<=r&&(d-o)*(r-a)<(f-a)*(t-o)&&--e;return e}(),n=m&&e,i=(l=pc(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Wl(l,s,e,o,a),a.polygonEnd());y=a,l=c=u=null}};function x(t,e){i(t,e)&&y.point(t,e)}function M(o,a){var s=i(o,a);if(c&&u.push([o,a]),b)p=o,d=a,f=s,b=!1,s&&(y.lineStart(),y.point(o,a));else if(s&&_)y.point(o,a);else{var l=[h=Math.max(mc,Math.min(bc,h)),g=Math.max(mc,Math.min(bc,g))],v=[o=Math.max(mc,Math.min(bc,o)),a=Math.max(mc,Math.min(bc,a))];!function(t,e,n,r,i,o){var a,s=t[0],l=t[1],c=0,u=1,p=e[0]-s,d=e[1]-l;if(a=n-s,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<u&&(u=a)}else if(p>0){if(a>u)return;a>c&&(c=a)}if(a=i-s,p||!(a<0)){if(a/=p,p<0){if(a>u)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<u&&(u=a)}if(a=r-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=s+c*p,t[1]=l+c*d),u<1&&(e[0]=s+u*p,e[1]=l+u*d),!0}}}}}(l,v,t,e,n,r)?s&&(y.lineStart(),y.point(o,a),m=!1):(_||(y.lineStart(),y.point(l[0],l[1])),y.point(v[0],v[1]),s||y.lineEnd(),m=!1)}h=o,g=a,_=s}return w}}var vc,wc,xc,Mc=ms(),kc={sphere:Us,point:Us,lineStart:function(){kc.point=zc,kc.lineEnd=jc},lineEnd:Us,polygonStart:Us,polygonEnd:Us};function jc(){kc.point=kc.lineEnd=Us}function zc(t,e){vc=t*=Is,wc=Ls(e*=Is),xc=Es(e),kc.point=Nc}function Nc(t,e){t*=Is;var n=Ls(e*=Is),r=Es(e),i=Cs(t-vc),o=Es(i),a=r*Ls(i),s=xc*n-wc*r*o,l=wc*n+xc*r*o;Mc.add(Ts(Ps(a*a+s*s),l)),vc=t,wc=n,xc=r}var Ac=[null,null],Ic={type:"LineString",coordinates:Ac};function Cc(t,e){return Ac[0]=t,Ac[1]=e,function(t){return Mc.reset(),Qs(t,kc),+Mc}(Ic)}var Dc={Feature:function(t,e){return Ec(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Ec(n[r].geometry,e))return!0;return!1}},Tc={Sphere:function(){return!0},Point:function(t,e){return Sc(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Sc(n[r],e))return!0;return!1},LineString:function(t,e){return Lc(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Lc(n[r],e))return!0;return!1},Polygon:function(t,e){return Oc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Oc(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Ec(n[r],e))return!0;return!1}};function Ec(t,e){return!(!t||!Tc.hasOwnProperty(t.type))&&Tc[t.type](t,e)}function Sc(t,e){return 0===Cc(t,e)}function Lc(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Cc(t[o],e)))return!0;if(o>0&&(i=Cc(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Ms*i)return!0;n=r}return!1}function Oc(t,e){return!!Jl(t.map(Pc),Yc(e))}function Pc(t){return(t=t.map(Yc)).pop(),t}function Yc(t){return[t[0]*Is,t[1]*Is]}function Fc(t,e){return(t&&Dc.hasOwnProperty(t.type)?Dc[t.type]:Ec)(t,e)}function Uc(t,e,n){var r=oc(t,e-xs,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Bc(t,e,n){var r=oc(t,e-xs,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Rc(){var t,e,n,r,i,o,a,s,l,c,u,p,d=10,f=d,h=90,g=360,_=2.5;function b(){return{type:"MultiLineString",coordinates:m()}}function m(){return oc(Ss(r/h)*h,n,h).map(u).concat(oc(Ss(s/g)*g,a,g).map(p)).concat(oc(Ss(e/d)*d,t,d).filter((function(t){return Cs(t%h)>xs})).map(l)).concat(oc(Ss(o/f)*f,i,f).filter((function(t){return Cs(t%g)>xs})).map(c))}return b.lines=function(){return m().map((function(t){return{type:"LineString",coordinates:t}}))},b.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(p(a).slice(1),u(n).reverse().slice(1),p(s).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),b.precision(_)):[[r,s],[n,a]]},b.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),b.precision(_)):[[e,o],[t,i]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(h=+t[0],g=+t[1],b):[h,g]},b.stepMinor=function(t){return arguments.length?(d=+t[0],f=+t[1],b):[d,f]},b.precision=function(d){return arguments.length?(_=+d,l=Uc(o,i,90),c=Bc(e,t,_),u=Uc(s,a,90),p=Bc(r,n,_),b):_},b.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Zc(t){return t}var Gc,Hc,Qc,$c,Wc=ms(),qc=ms(),Vc={point:Us,lineStart:Us,lineEnd:Us,polygonStart:function(){Vc.lineStart=Xc,Vc.lineEnd=tu},polygonEnd:function(){Vc.lineStart=Vc.lineEnd=Vc.point=Us,Wc.add(Cs(qc)),qc.reset()},result:function(){var t=Wc/2;return Wc.reset(),t}};function Xc(){Vc.point=Jc}function Jc(t,e){Vc.point=Kc,Gc=Qc=t,Hc=$c=e}function Kc(t,e){qc.add($c*t-Qc*e),Qc=t,$c=e}function tu(){Kc(Gc,Hc)}var eu=1/0,nu=eu,ru=-eu,iu=ru,ou={point:function(t,e){t<eu&&(eu=t);t>ru&&(ru=t);e<nu&&(nu=e);e>iu&&(iu=e)},lineStart:Us,lineEnd:Us,polygonStart:Us,polygonEnd:Us,result:function(){var t=[[eu,nu],[ru,iu]];return ru=iu=-(nu=eu=1/0),t}};var au,su,lu,cu,uu=0,pu=0,du=0,fu=0,hu=0,gu=0,_u=0,bu=0,mu=0,yu={point:vu,lineStart:wu,lineEnd:ku,polygonStart:function(){yu.lineStart=ju,yu.lineEnd=zu},polygonEnd:function(){yu.point=vu,yu.lineStart=wu,yu.lineEnd=ku},result:function(){var t=mu?[_u/mu,bu/mu]:gu?[fu/gu,hu/gu]:du?[uu/du,pu/du]:[NaN,NaN];return uu=pu=du=fu=hu=gu=_u=bu=mu=0,t}};function vu(t,e){uu+=t,pu+=e,++du}function wu(){yu.point=xu}function xu(t,e){yu.point=Mu,vu(lu=t,cu=e)}function Mu(t,e){var n=t-lu,r=e-cu,i=Ps(n*n+r*r);fu+=i*(lu+t)/2,hu+=i*(cu+e)/2,gu+=i,vu(lu=t,cu=e)}function ku(){yu.point=vu}function ju(){yu.point=Nu}function zu(){Au(au,su)}function Nu(t,e){yu.point=Au,vu(au=lu=t,su=cu=e)}function Au(t,e){var n=t-lu,r=e-cu,i=Ps(n*n+r*r);fu+=i*(lu+t)/2,hu+=i*(cu+e)/2,gu+=i,_u+=(i=cu*t-lu*e)*(lu+t),bu+=i*(cu+e),mu+=3*i,vu(lu=t,cu=e)}function Iu(t){this._context=t}Iu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ns)}},result:Us};var Cu,Du,Tu,Eu,Su,Lu=ms(),Ou={point:Us,lineStart:function(){Ou.point=Pu},lineEnd:function(){Cu&&Yu(Du,Tu),Ou.point=Us},polygonStart:function(){Cu=!0},polygonEnd:function(){Cu=null},result:function(){var t=+Lu;return Lu.reset(),t}};function Pu(t,e){Ou.point=Yu,Du=Eu=t,Tu=Su=e}function Yu(t,e){Eu-=t,Su-=e,Lu.add(Ps(Eu*Eu+Su*Su)),Eu=t,Su=e}function Fu(){this._string=[]}function Uu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Bu(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Qs(t,n(r))),r.result()}return o.area=function(t){return Qs(t,n(Vc)),Vc.result()},o.measure=function(t){return Qs(t,n(Ou)),Ou.result()},o.bounds=function(t){return Qs(t,n(ou)),ou.result()},o.centroid=function(t){return Qs(t,n(yu)),yu.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Zc):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new Fu):new Iu(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function Ru(t){return function(e){var n=new Zu;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Zu(){}function Gu(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Qs(n,t.stream(ou)),e(ou.result()),null!=r&&t.clipExtent(r),t}function Hu(t,e,n){return Gu(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function Qu(t,e,n){return Hu(t,[[0,0],e],n)}function $u(t,e,n){return Gu(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function Wu(t,e,n){return Gu(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}Fu.prototype={_radius:4.5,_circle:Uu(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Uu(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Zu.prototype={constructor:Zu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var qu=Es(30*Is);function Vu(t,e){return+e?function(t,e){function n(r,i,o,a,s,l,c,u,p,d,f,h,g,_){var b=c-r,m=u-i,y=b*b+m*m;if(y>4*e&&g--){var v=a+d,w=s+f,x=l+h,M=Ps(v*v+w*w+x*x),k=Fs(x/=M),j=Cs(Cs(x)-1)<xs||Cs(o-p)<xs?(o+p)/2:Ts(w,v),z=t(j,k),N=z[0],A=z[1],I=N-r,C=A-i,D=m*I-b*C;(D*D/y>e||Cs((b*I+m*C)/y-.5)>.3||a*d+s*f+l*h<qu)&&(n(r,i,o,a,s,l,N,A,j,v/=M,w/=M,x,g,_),_.point(N,A),n(N,A,j,v,w,x,c,u,p,d,f,h,g,_))}}return function(e){var r,i,o,a,s,l,c,u,p,d,f,h,g={point:_,lineStart:b,lineEnd:y,polygonStart:function(){e.polygonStart(),g.lineStart=v},polygonEnd:function(){e.polygonEnd(),g.lineStart=b}};function _(n,r){n=t(n,r),e.point(n[0],n[1])}function b(){u=NaN,g.point=m,e.lineStart()}function m(r,i){var o=xl([r,i]),a=t(r,i);n(u,p,c,d,f,h,u=a[0],p=a[1],c=r,d=o[0],f=o[1],h=o[2],16,e),e.point(u,p)}function y(){g.point=_,e.lineEnd()}function v(){b(),g.point=w,g.lineEnd=x}function w(t,e){m(r=t,e),i=u,o=p,a=d,s=f,l=h,g.point=m}function x(){n(u,p,c,d,f,h,i,o,r,a,s,l,16,e),g.lineEnd=y,y()}return g}}(t,e):function(t){return Ru({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Xu=Ru({point:function(t,e){this.stream.point(t*Is,e*Is)}});function Ju(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}function Ku(t,e,n,r,i,o){var a=Es(o),s=Ls(o),l=a*t,c=s*t,u=a/t,p=s/t,d=(s*n-a*e)/t,f=(s*e+a*n)/t;function h(t,o){return[l*(t*=r)-c*(o*=i)+e,n-c*t-l*o]}return h.invert=function(t,e){return[r*(u*t-p*e+d),i*(f-p*t-u*e)]},h}function tp(t){return ep((function(){return t}))()}function ep(t){var e,n,r,i,o,a,s,l,c,u,p=150,d=480,f=250,h=0,g=0,_=0,b=0,m=0,y=0,v=1,w=1,x=null,M=gc,k=null,j=Zc,z=.5;function N(t){return l(t[0]*Is,t[1]*Is)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*As,t[1]*As]}function I(){var t=Ku(p,0,0,v,w,y).apply(null,e(h,g)),r=(y?Ku:Ju)(p,d-t[0],f-t[1],v,w,y);return n=function(t,e,n){return(t%=Ns)?e||n?Fl(Rl(t),Zl(e,n)):Rl(t):e||n?Zl(e,n):Ul}(_,b,m),s=Fl(e,r),l=Fl(n,s),a=Vu(s,z),C()}function C(){return c=u=null,N}return N.stream=function(t){return c&&u===t?c:c=Xu(function(t){return Ru({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(M(a(j(u=t)))))},N.preclip=function(t){return arguments.length?(M=t,x=void 0,C()):M},N.postclip=function(t){return arguments.length?(j=t,k=r=i=o=null,C()):j},N.clipAngle=function(t){return arguments.length?(M=+t?_c(x=t*Is):(x=null,gc),C()):x*As},N.clipExtent=function(t){return arguments.length?(j=null==t?(k=r=i=o=null,Zc):yc(k=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==k?null:[[k,r],[i,o]]},N.scale=function(t){return arguments.length?(p=+t,I()):p},N.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],I()):[d,f]},N.center=function(t){return arguments.length?(h=t[0]%360*Is,g=t[1]%360*Is,I()):[h*As,g*As]},N.rotate=function(t){return arguments.length?(_=t[0]%360*Is,b=t[1]%360*Is,m=t.length>2?t[2]%360*Is:0,I()):[_*As,b*As,m*As]},N.angle=function(t){return arguments.length?(y=t%360*Is,I()):y*As},N.reflectX=function(t){return arguments.length?(v=t?-1:1,I()):v<0},N.reflectY=function(t){return arguments.length?(w=t?-1:1,I()):w<0},N.precision=function(t){return arguments.length?(a=Vu(s,z=t*t),C()):Ps(z)},N.fitExtent=function(t,e){return Hu(N,t,e)},N.fitSize=function(t,e){return Qu(N,t,e)},N.fitWidth=function(t,e){return $u(N,t,e)},N.fitHeight=function(t,e){return Wu(N,t,e)},function(){return e=t.apply(this,arguments),N.invert=e.invert&&A,I()}}function np(t,e){var n=Ls(t),r=(n+Ls(e))/2;if(Cs(r)<xs)return function(t){var e=Es(t);function n(t,n){return[t*e,Ls(n)/e]}return n.invert=function(t,n){return[t/e,Fs(n*e)]},n}(t);var i=1+n*(2*r-n),o=Ps(i)/r;function a(t,e){var n=Ps(i-2*r*Ls(e))/r;return[n*Ls(t*=r),o-n*Es(t)]}return a.invert=function(t,e){var n=o-e,a=Ts(t,Cs(n))*Os(n);return n*r<0&&(a-=ks*Os(t)*Os(n)),[a/r,Fs((i-(t*t+n*n)*r*r)/(2*r))]},a}function rp(){return function(t){var e=0,n=ks/3,r=ep(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Is,n=t[1]*Is):[e*As,n*As]},i}(np).scale(155.424).center([0,33.6442])}function ip(){return rp().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function op(t){return function(e,n){var r=Es(e),i=Es(n),o=t(r*i);return[o*i*Ls(e),o*Ls(n)]}}function ap(t){return function(e,n){var r=Ps(e*e+n*n),i=t(r),o=Ls(i),a=Es(i);return[Ts(e*o,r*a),Fs(r&&n*o/r)]}}var sp=op((function(t){return Ps(2/(1+t))}));sp.invert=ap((function(t){return 2*Fs(t/2)}));var lp=op((function(t){return(t=Ys(t))&&t/Ls(t)}));function cp(t,e){return[t,e]}function up(t,e){var n=Es(e),r=Es(t)*n;return[n*Ls(t)/r,Ls(e)/r]}function pp(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function dp(t,e){return[Es(e)*Ls(t),Ls(e)]}function fp(t,e){var n=Es(e),r=1+Es(t)*n;return[n*Ls(t)/r,Ls(e)/r]}lp.invert=ap((function(t){return t})),cp.invert=cp,up.invert=ap(Ds),pp.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Cs(n)>xs&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},dp.invert=ap(Fs),fp.invert=ap((function(t){return 2*Ds(t)}));var hp=Math.abs,gp=Math.atan,_p=Math.atan2,bp=Math.cos,mp=Math.exp,yp=Math.floor,vp=Math.log,wp=Math.max,xp=Math.min,Mp=Math.sign||function(t){return t>0?1:t<0?-1:0},kp=Math.sin,jp=Math.tan,zp=1e-6,Np=1e-12,Ap=Math.PI,Ip=Ap/2,Cp=Ap/4,Dp=Math.SQRT1_2,Tp=Fp(2),Ep=Fp(Ap),Sp=2*Ap,Lp=180/Ap,Op=Ap/180;function Pp(t){return t>1?Ip:t<-1?-Ip:Math.asin(t)}function Yp(t){return t>1?0:t<-1?Ap:Math.acos(t)}function Fp(t){return t>0?Math.sqrt(t):0}function Up(t){return(mp(t)-mp(-t))/2}function Bp(t,e){var n=bp(e),r=function(t){return t?t/Math.sin(t):1}(Yp(n*bp(t/=2)));return[2*n*kp(t)*r,kp(e)*r]}function Rp(t,e){var n=jp(e/2),r=Fp(1-n*n),i=1+r*bp(t/=2),o=kp(t)*r/i,a=n/i,s=o*o,l=a*a;return[4/3*o*(3+s-3*l),4/3*a*(3+3*s-l)]}Bp.invert=function(t,e){if(!(t*t+4*e*e>Ap*Ap+zp)){var n=t,r=e,i=25;do{var o,a=kp(n),s=kp(n/2),l=bp(n/2),c=kp(r),u=bp(r),p=kp(2*r),d=c*c,f=u*u,h=s*s,g=1-f*l*l,_=g?Yp(u*l)*Fp(o=1/g):o=0,b=2*_*u*s-t,m=_*c-e,y=o*(f*h+_*u*l*d),v=o*(.5*a*p-2*_*c*s),w=.25*o*(p*s-_*c*f*a),x=o*(d*l+_*h*u),M=v*w-x*y;if(!M)break;var k=(m*v-b*x)/M,j=(b*w-m*y)/M;n-=k,r-=j}while((hp(k)>zp||hp(j)>zp)&&--i>0);return[n,r]}},Rp.invert=function(t,e){if(e*=3/8,!(t*=3/8)&&hp(e)>1)return null;var n=1+t*t+e*e,r=Fp((n-Fp(n*n-4*e*e))/2),i=Pp(r)/3,o=r?function(t){return vp(t+Fp(t*t-1))}(hp(e/r))/3:function(t){return vp(t+Fp(t*t+1))}(hp(t))/3,a=bp(i),s=function(t){return(mp(t)+mp(-t))/2}(o),l=s*s-a*a;return[2*Mp(t)*_p(Up(o)*a,.25-l),2*Mp(e)*_p(s*kp(i),.25+l)]};var Zp=Fp(8),Gp=vp(1+Tp);function Hp(t,e){var n=hp(e);return n<Cp?[t,vp(jp(Cp+e/2))]:[t*bp(n)*(2*Tp-1/kp(n)),Mp(e)*(2*Tp*(n-Cp)-vp(jp(n/2)))]}function Qp(t,e){if(arguments.length<2&&(e=t),1===e)return sp;if(e===1/0)return $p;function n(n,r){var i=sp(n/e,r);return i[0]*=t,i}return n.invert=function(n,r){var i=sp.invert(n/t,r);return i[0]*=e,i},n}function $p(t,e){return[t*bp(e)/bp(e/=2),2*kp(e)]}function Wp(t,e){var n,r=t*kp(e),i=30;do{e-=n=(e+kp(e)-r)/(1+bp(e))}while(hp(n)>zp&&--i>0);return e/2}function qp(t,e,n){function r(r,i){return[t*r*bp(i=Wp(n,i)),e*kp(i)]}return r.invert=function(r,i){return i=Pp(i/e),[r/(t*bp(i)),Pp((2*i+kp(2*i))/n)]},r}Hp.invert=function(t,e){if((r=hp(e))<Gp)return[t,2*gp(mp(e))-Ip];var n,r,i=Cp,o=25;do{var a=bp(i/2),s=jp(i/2);i-=n=(Zp*(i-Cp)-vp(s)-r)/(Zp-a*a/(2*s))}while(hp(n)>Np&&--o>0);return[t/(bp(i)*(Zp-1/kp(i))),Mp(e)*i]},$p.invert=function(t,e){var n=2*Pp(e/2);return[t*bp(n/2)/bp(n),n]};var Vp=qp(Tp/Ip,Tp,Ap);var Xp=2.00276,Jp=1.11072;function Kp(t,e){var n=Wp(Ap,e);return[Xp*t/(1/bp(e)+Jp/bp(n)),(e+Tp*kp(n))/Xp]}function td(t){var e=0,n=ep(t),r=n(e);return r.parallel=function(t){return arguments.length?n(e=t*Op):e*Lp},r}function ed(t,e){return[t*bp(e),e]}Kp.invert=function(t,e){var n,r,i=Xp*e,o=e<0?-Cp:Cp,a=25;do{r=i-Tp*kp(o),o-=n=(kp(2*o)+2*o-Ap*kp(r))/(2*bp(2*o)+2+Ap*bp(r)*Tp*bp(o))}while(hp(n)>zp&&--a>0);return r=i-Tp*kp(o),[t*(1/bp(r)+Jp/bp(o))/Xp,r]},ed.invert=function(t,e){return[t/bp(e),e]};var nd=qp(1,4/Ap,Ap);var rd=Fp(3);function id(t,e){return[rd*t*(2*bp(2*e/3)-1)/Ep,rd*Ep*kp(e/3)]}function od(t){var e=bp(t);function n(t,n){return[t*e,kp(n)/e]}return n.invert=function(t,n){return[t/e,Pp(n*e)]},n}function ad(t){var e=bp(t);function n(t,n){return[t*e,(1+e)*jp(n/2)]}return n.invert=function(t,n){return[t/e,2*gp(n/(1+e))]},n}function sd(t,e){var n=Fp(8/(3*Ap));return[n*t*(1-hp(e)/Ap),n*e]}function ld(t,e){var n=Fp(4-3*kp(hp(e)));return[2/Fp(6*Ap)*t*n,Mp(e)*Fp(2*Ap/3)*(2-n)]}function cd(t,e){var n=Fp(Ap*(4+Ap));return[2/n*t*(1+Fp(1-4*e*e/(Ap*Ap))),4/n*e]}function ud(t,e){var n=(2+Ip)*kp(e);e/=2;for(var r=0,i=1/0;r<10&&hp(i)>zp;r++){var o=bp(e);e-=i=(e+kp(e)*(o+2)-n)/(2*o*(1+o))}return[2/Fp(Ap*(4+Ap))*t*(1+bp(e)),2*Fp(Ap/(4+Ap))*kp(e)]}function pd(t,e){return[t*(1+bp(e))/Fp(2+Ap),2*e/Fp(2+Ap)]}function dd(t,e){for(var n=(1+Ip)*kp(e),r=0,i=1/0;r<10&&hp(i)>zp;r++)e-=i=(e+kp(e)-n)/(1+bp(e));return n=Fp(2+Ap),[t*(1+bp(e))/n,2*e/n]}id.invert=function(t,e){var n=3*Pp(e/(rd*Ep));return[Ep*t/(rd*(2*bp(2*n/3)-1)),n]},sd.invert=function(t,e){var n=Fp(8/(3*Ap)),r=e/n;return[t/(n*(1-hp(r)/Ap)),r]},ld.invert=function(t,e){var n=2-hp(e)/Fp(2*Ap/3);return[t*Fp(6*Ap)/(2*n),Mp(e)*Pp((4-n*n)/3)]},cd.invert=function(t,e){var n=Fp(Ap*(4+Ap))/2;return[t*n/(1+Fp(1-e*e*(4+Ap)/(4*Ap))),e*n/2]},ud.invert=function(t,e){var n=e*Fp((4+Ap)/Ap)/2,r=Pp(n),i=bp(r);return[t/(2/Fp(Ap*(4+Ap))*(1+i)),Pp((r+n*(i+2))/(2+Ip))]},pd.invert=function(t,e){var n=Fp(2+Ap),r=e*n/2;return[n*t/(1+bp(r)),r]},dd.invert=function(t,e){var n=1+Ip,r=Fp(n/2);return[2*t*r/(1+bp(e*=r)),Pp((e+kp(e))/n)]};var fd=3+2*Tp;function hd(t,e){var n=kp(t/=2),r=bp(t),i=Fp(bp(e)),o=bp(e/=2),a=kp(e)/(o+Tp*r*i),s=Fp(2/(1+a*a)),l=Fp((Tp*o+(r+n)*i)/(Tp*o+(r-n)*i));return[fd*(s*(l-1/l)-2*vp(l)),fd*(s*a*(l+1/l)-2*gp(a))]}hd.invert=function(t,e){if(!(n=Rp.invert(t/1.2,1.065*e)))return null;var n,r=n[0],i=n[1],o=20;t/=fd,e/=fd;do{var a=r/2,s=i/2,l=kp(a),c=bp(a),u=kp(s),p=bp(s),d=bp(i),f=Fp(d),h=u/(p+Tp*c*f),g=h*h,_=Fp(2/(1+g)),b=(Tp*p+(c+l)*f)/(Tp*p+(c-l)*f),m=Fp(b),y=m-1/m,v=m+1/m,w=_*y-2*vp(m)-t,x=_*h*v-2*gp(h)-e,M=u&&Dp*f*l*g/u,k=(Tp*c*p+f)/(2*(p+Tp*c*f)*(p+Tp*c*f)*f),j=-.5*h*_*_*_,z=j*M,N=j*k,A=(A=2*p+Tp*f*(c-l))*A*m,I=(Tp*c*p*f+d)/A,C=-Tp*l*u/(f*A),D=y*z-2*I/m+_*(I+I/b),T=y*N-2*C/m+_*(C+C/b),E=h*v*z-2*M/(1+g)+_*v*M+_*h*(I-I/b),S=h*v*N-2*k/(1+g)+_*v*k+_*h*(C-C/b),L=T*E-S*D;if(!L)break;var O=(x*T-w*S)/L,P=(w*E-x*D)/L;r-=O,i=wp(-Ip,xp(Ip,i-P))}while((hp(O)>zp||hp(P)>zp)&&--o>0);return hp(hp(i)-Ip)<zp?[0,i]:o&&[r,i]};var gd=bp(35*Op);function _d(t,e){var n=jp(e/2);return[t*gd*Fp(1-n*n),(1+gd)*n]}function bd(t,e){var n=e/2,r=bp(n);return[2*t/Ep*bp(e)*r*r,Ep*jp(n)]}function md(t,e,n,r,i,o,a,s){function l(l,c){if(!c)return[t*l/Ap,0];var u=c*c,p=t+u*(e+u*(n+u*r)),d=c*(i-1+u*(o-s+u*a)),f=(p*p+d*d)/(2*d),h=l*Pp(p/f)/Ap;return[f*kp(h),c*(1+u*s)+f*(1-bp(h))]}return arguments.length<8&&(s=0),l.invert=function(l,c){var u,p,d=Ap*l/t,f=c,h=50;do{var g=f*f,_=t+g*(e+g*(n+g*r)),b=f*(i-1+g*(o-s+g*a)),m=_*_+b*b,y=2*b,v=m/y,w=v*v,x=Pp(_/v)/Ap,M=d*x,k=_*_,j=(2*e+g*(4*n+6*g*r))*f,z=i+g*(3*o+5*g*a),N=(2*(_*j+b*(z-1))*y-m*(2*(z-1)))/(y*y),A=bp(M),I=kp(M),C=v*A,D=v*I,T=d/Ap*(1/Fp(1-k/w))*(j*v-_*N)/w,E=D-l,S=f*(1+g*s)+v-C-c,L=N*I+C*T,O=C*x,P=1+N-(N*A-D*T),Y=D*x,F=L*Y-P*O;if(!F)break;d-=u=(S*L-E*P)/F,f-=p=(E*Y-S*O)/F}while((hp(u)>zp||hp(p)>zp)&&--h>0);return[d,f]},l}_d.invert=function(t,e){var n=e/(1+gd);return[t&&t/(gd*Fp(1-n*n)),2*gp(n)]},bd.invert=function(t,e){var n=gp(e/Ep),r=bp(n),i=2*n;return[t*Ep/2/(bp(i)*r*r),i]};var yd=md(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);var vd=md(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);var wd=md(5/6*Ap,-.62636,-.0344,0,1.3493,-.05524,0,.045);function xd(t,e){var n=t*t,r=e*e;return[t*(1-.162388*r)*(.87-952426e-9*n*n),e*(1+r/12)]}xd.invert=function(t,e){var n,r=t,i=e,o=50;do{var a=i*i;i-=n=(i*(1+a/12)-e)/(1+a/4)}while(hp(n)>zp&&--o>0);o=50,t/=1-.162388*a;do{var s=(s=r*r)*s;r-=n=(r*(.87-952426e-9*s)-t)/(.87-.00476213*s)}while(hp(n)>zp&&--o>0);return[r,i]};var Md=md(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function kd(t,e){return[3/Sp*t*Fp(Ap*Ap/3-e*e),e]}function jd(t,e){return[t,1.25*vp(jp(Cp+.4*e))]}kd.invert=function(t,e){return[Sp/3*t/Fp(Ap*Ap/3-e*e),e]},jd.invert=function(t,e){return[t,2.5*gp(mp(.8*e))-.625*Ap]};var zd=Fp(6),Nd=Fp(7);function Ad(t,e){var n=Pp(7*kp(e)/(3*zd));return[zd*t*(2*bp(2*n/3)-1)/Nd,9*kp(n/3)/Nd]}function Id(t,e){for(var n,r=(1+Dp)*kp(e),i=e,o=0;o<25&&(i-=n=(kp(i/2)+kp(i)-r)/(.5*bp(i/2)+bp(i)),!(hp(n)<zp));o++);return[t*(1+2*bp(i)/bp(i/2))/(3*Tp),2*Fp(3)*kp(i/2)/Fp(2+Tp)]}function Cd(t,e){for(var n,r=Fp(6/(4+Ap)),i=(1+Ap/4)*kp(e),o=e/2,a=0;a<25&&(o-=n=(o/2+kp(o)-i)/(.5+bp(o)),!(hp(n)<zp));a++);return[r*(.5+bp(o))*t/1.5,r*o]}function Dd(t,e){var n=e*e,r=n*n,i=n*r;return[t*(.84719-.13063*n+i*i*(.05494*n-.04515-.02326*r+.00331*i)),e*(1.01183+r*r*(.01926*n-.02625-.00396*r))]}function Td(){}function Ed(t,e){var n,r=e.stream;if(!r)throw new Error("invalid projection");switch(t&&t.type){case"Feature":n=Ld;break;case"FeatureCollection":n=Sd;break;default:n=Od}return n(t,r)}function Sd(t,e){return{type:"FeatureCollection",features:t.features.map((function(t){return Ld(t,e)}))}}function Ld(t,e){return{type:"Feature",id:t.id,properties:t.properties,geometry:Od(t.geometry,e)}}function Od(t,e){if(!t)return null;if("GeometryCollection"===t.type)return function(t,e){return{type:"GeometryCollection",geometries:t.geometries.map((function(t){return Od(t,e)}))}}(t,e);var n;switch(t.type){case"Point":case"MultiPoint":n=Fd;break;case"LineString":case"MultiLineString":n=Ud;break;case"Polygon":case"MultiPolygon":case"Sphere":n=Bd;break;default:return null}return Qs(t,e(n)),n.result()}Ad.invert=function(t,e){var n=3*Pp(e*Nd/9);return[t*Nd/(zd*(2*bp(2*n/3)-1)),Pp(3*kp(n)*zd/7)]},Id.invert=function(t,e){var n=e*Fp(2+Tp)/(2*Fp(3)),r=2*Pp(n);return[3*Tp*t/(1+2*bp(r)/bp(r/2)),Pp((n+kp(r))/(1+Dp))]},Cd.invert=function(t,e){var n=Fp(6/(4+Ap)),r=e/n;return hp(hp(r)-Ip)<zp&&(r=r<0?-Ip:Ip),[1.5*t/(n*(.5+bp(r))),Pp((r/2+kp(r))/(1+Ap/4))]},Dd.invert=function(t,e){var n,r,i,o,a=e,s=25;do{a-=n=(a*(1.01183+(i=(r=a*a)*r)*i*(.01926*r-.02625-.00396*i))-e)/(1.01183+i*i*(.21186*r-.23625+-.05148*i))}while(hp(n)>Np&&--s>0);return[t/(.84719-.13063*(r=a*a)+(o=r*(i=r*r))*o*(.05494*r-.04515-.02326*i+.00331*o)),a]};var Pd=[],Yd=[],Fd={point:function(t,e){Pd.push([t,e])},result:function(){var t=Pd.length?Pd.length<2?{type:"Point",coordinates:Pd[0]}:{type:"MultiPoint",coordinates:Pd}:null;return Pd=[],t}},Ud={lineStart:Td,point:function(t,e){Pd.push([t,e])},lineEnd:function(){Pd.length&&(Yd.push(Pd),Pd=[])},result:function(){var t=Yd.length?Yd.length<2?{type:"LineString",coordinates:Yd[0]}:{type:"MultiLineString",coordinates:Yd}:null;return Yd=[],t}},Bd={polygonStart:Td,lineStart:Td,point:function(t,e){Pd.push([t,e])},lineEnd:function(){var t=Pd.length;if(t){do{Pd.push(Pd[0].slice())}while(++t<4);Yd.push(Pd),Pd=[]}},polygonEnd:Td,result:function(){if(!Yd.length)return null;var t=[],e=[];return Yd.forEach((function(n){!function(t){if((e=t.length)<4)return!1;for(var e,n=0,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r<=0}(n)?e.push(n):t.push([n])})),e.forEach((function(e){var n=e[0];t.some((function(t){if(function(t,e){for(var n=e[0],r=e[1],i=!1,o=0,a=t.length,s=a-1;o<a;s=o++){var l=t[o],c=l[0],u=l[1],p=t[s],d=p[0],f=p[1];u>r^f>r&&n<(d-c)*(r-u)/(f-u)+c&&(i=!i)}return i}(t[0],n))return t.push(e),!0}))||t.push([e])})),Yd=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},Rd=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Zd(t,e){var n,r=xp(18,36*hp(e)/Ap),i=yp(r),o=r-i,a=(n=Rd[i])[0],s=n[1],l=(n=Rd[++i])[0],c=n[1],u=(n=Rd[xp(19,++i)])[0],p=n[1];return[t*(l+o*(u-a)/2+o*o*(u-2*l+a)/2),(e>0?Ip:-Ip)*(c+o*(p-s)/2+o*o*(p-2*c+s)/2)]}Rd.forEach((function(t){t[1]*=1.0144})),Zd.invert=function(t,e){var n=e/Ip,r=90*n,i=xp(18,hp(r/5)),o=wp(0,yp(i));do{var a=Rd[o][1],s=Rd[o+1][1],l=Rd[xp(19,o+2)][1],c=l-a,u=l-2*s+a,p=2*(hp(n)-s)/c,d=u/c,f=p*(1-d*p*(1-2*d*p));if(f>=0||1===o){r=(e>=0?5:-5)*(f+i);var h,g=50;do{f=(i=xp(18,hp(r)/5))-(o=yp(i)),a=Rd[o][1],s=Rd[o+1][1],l=Rd[xp(19,o+2)][1],r-=(h=(e>=0?Ip:-Ip)*(s+f*(l-a)/2+f*f*(l-2*s+a)/2)-e)*Lp}while(hp(h)>Np&&--g>0);break}}while(--o>=0);var _=Rd[o][0],b=Rd[o+1][0],m=Rd[xp(19,o+2)][0];return[t/(b+f*(m-_)/2+f*f*(m-2*b+_)/2),r*Op]};var Gd=-180,Hd=-179.9999,Qd=179.9999,$d=-89.9999,Wd=89.9999;function qd(t){return t.length>0}function Vd(t){return Math.floor(1e4*t)/1e4}function Xd(t){return-90===t||90===t?[0,t]:[Gd,Vd(t)]}function Jd(t){var e=t[0],n=t[1],r=!1;return e<=Hd?(e=Gd,r=!0):e>=Qd&&(e=180,r=!0),n<=$d?(n=-90,r=!0):n>=Wd&&(n=90,r=!0),r?[e,n]:t}function Kd(t){return t.map(Jd)}function tf(t,e,n){for(var r=0,i=t.length;r<i;++r){var o=t[r].slice();n.push({index:-1,polygon:e,ring:o});for(var a=0,s=o.length;a<s;++a){var l=o[a],c=l[0],u=l[1];if(c<=Hd||c>=Qd||u<=$d||u>=Wd){o[a]=Jd(l);for(var p=a+1;p<s;++p){var d=o[p],f=d[0],h=d[1];if(f>Hd&&f<Qd&&h>$d&&h<Wd)break}if(p===a+1)continue;if(a){var g={index:-1,polygon:e,ring:o.slice(0,a+1)};g.ring[g.ring.length-1]=Xd(u),n[n.length-1]=g}else n.pop();if(p>=s)break;n.push({index:-1,polygon:e,ring:o=o.slice(p-1)}),o[0]=Xd(o[0][1]),a=-1,s=o.length}}}}function ef(t){var e,n,r,i,o,a,s=t.length,l={},c={};for(e=0;e<s;++e)r=(n=t[e]).ring[0],o=n.ring[n.ring.length-1],r[0]!==o[0]||r[1]!==o[1]?(n.index=e,l[r]=c[o]=n):(n.polygon.push(n.ring),t[e]=null);for(e=0;e<s;++e)if(n=t[e]){if(r=n.ring[0],o=n.ring[n.ring.length-1],i=c[r],a=l[o],delete l[r],delete c[o],r[0]===o[0]&&r[1]===o[1]){n.polygon.push(n.ring);continue}i?(delete c[r],delete l[i.ring[0]],i.ring.pop(),t[i.index]=null,n={index:-1,polygon:i.polygon,ring:i.ring.concat(n.ring)},i===a?n.polygon.push(n.ring):(n.index=s++,t.push(l[n.ring[0]]=c[n.ring[n.ring.length-1]]=n))):a?(delete l[o],delete c[a.ring[a.ring.length-1]],n.ring.pop(),n={index:s++,polygon:a.polygon,ring:n.ring.concat(a.ring)},t[a.index]=null,t.push(l[n.ring[0]]=c[n.ring[n.ring.length-1]]=n)):(n.ring.push(n.ring[0]),n.polygon.push(n.ring))}}function nf(t){var e={type:"Feature",geometry:rf(t.geometry)};return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function rf(t){if(null==t)return t;var e,n,r,i;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(rf)};break;case"Point":e={type:"Point",coordinates:Jd(t.coordinates)};break;case"MultiPoint":case"LineString":e={type:t.type,coordinates:Kd(t.coordinates)};break;case"MultiLineString":e={type:"MultiLineString",coordinates:t.coordinates.map(Kd)};break;case"Polygon":var o=[];tf(t.coordinates,o,n=[]),ef(n),e={type:"Polygon",coordinates:o};break;case"MultiPolygon":n=[],r=-1,i=t.coordinates.length;for(var a=new Array(i);++r<i;)tf(t.coordinates[r],a[r]=[],n);ef(n),e={type:"MultiPolygon",coordinates:a.filter(qd)};break;default:return t}return null!=t.bbox&&(e.bbox=t.bbox),e}function of(t){if(null==t)return t;switch(t.type){case"Feature":return nf(t);case"FeatureCollection":var e={type:"FeatureCollection",features:t.features.map(nf)};return null!=t.bbox&&(e.bbox=t.bbox),e;default:return rf(t)}}var af=4*Ap+3*Fp(3),sf=2*Fp(2*Ap*Fp(3)/af),lf=qp(sf*Fp(3)/Ap,sf,af/6);function cf(t,e){return[t*Fp(1-3*e*e/(Ap*Ap)),e]}function uf(t,e){var n=Bp(t,e);return[(n[0]+t/Ip)/2,(n[1]+e)/2]}cf.invert=function(t,e){return[t/Fp(1-3*e*e/(Ap*Ap)),e]},uf.invert=function(t,e){var n=t,r=e,i=25;do{var o,a=bp(r),s=kp(r),l=kp(2*r),c=s*s,u=a*a,p=kp(n),d=bp(n/2),f=kp(n/2),h=f*f,g=1-u*d*d,_=g?Yp(a*d)*Fp(o=1/g):o=0,b=.5*(2*_*a*f+n/Ip)-t,m=.5*(_*s+r)-e,y=.5*o*(u*h+_*a*d*c)+.5/Ip,v=o*(p*l/4-_*s*f),w=.125*o*(l*f-_*s*u*p),x=.5*o*(c*d+_*h*a)+.5,M=v*w-x*y,k=(m*v-b*x)/M,j=(b*w-m*y)/M;n-=k,r-=j}while((hp(k)>zp||hp(j)>zp)&&--i>0);return[n,r]};var pf,df,ff=25,hf=10,gf=10,_f={};function bf(t,e,n,r,i,o,a){var s=n-t/2-gf,l=n+t/2+gf,c=t/2+Math.min(0,s-i.left)+Math.max(0,l-i.right);return{pos:[c,a],shape:c-hf<5?[-c,-15*o,Math.max(hf,5-c),-10*o]:c+hf>t-5?[Math.min(-10,t-c-5),-10*o,Math.min(hf,t-c),-15*o]:[-10,-10*o,hf,-10*o]}}function mf(t,e,n,r,i,o,a){var s=r-e/2-gf,l=r+e/2+gf,c=e/2+Math.min(0,s-i.top)+Math.max(0,l-i.bottom);return{pos:[a,c],shape:c-hf<5?[-15*o,-c,-10*o,Math.max(hf,5-c)]:c+hf>e-5?[-10*o,Math.min(-10,e-c-5),-15*o,Math.min(hf,e-c)]:[-10*o,-10,-10*o,hf]}}function yf(t,e,n,r,i,o){var a=_f[t](e,n,r,i,o),s=r-ff-a.pos[0],l=i-ff-a.pos[1];return{left:s,top:l,right:s+e+50,bottom:l+n+50}}function vf(t,e,n){var r,i=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(r in e)i.setAttribute(r,e[r]);var o=i.style;if(n)for(r in n)o[r]=n[r];return i}function wf(){return pf||((pf=document.createElement("div")).id="flourish-popup-constrainer",pf.setAttribute("aria-hidden",!0),(df=pf.style).overflow="hidden",df.pointerEvents="none",df.position="absolute",df.left="0",df.top="0",df.margin="0",df.padding="0",document.body.appendChild(pf),this._resizeConstrainer(),pf)}_f.bottom=function(t,e){return{shape:[-10,-10,hf,-10],pos:[t/2,e+gf]}},_f.top=function(t,e){return{shape:[-10,gf,hf,gf],pos:[t/2,-10]}},_f.left=function(t,e){return{shape:[gf,hf,gf,-10],pos:[-10,e/2]}},_f.right=function(t,e){return{shape:[-10,hf,-10,-10],pos:[t+gf,e/2]}},_f.topLeft=function(t,e){return{shape:[15,gf,gf,15],pos:[-10,-10]}},_f.bottomLeft=function(t,e){return{shape:[15,-10,gf,-15],pos:[-10,e+gf]}},_f.topRight=function(t,e){return{shape:[-15,gf,-10,15],pos:[t+gf,-10]}},_f.bottomRight=function(t,e){return{shape:[-15,-10,-10,-15],pos:[t+gf,e+gf]}},_f.bottomFlexible=function(t,e,n,r,i){return bf(t,0,n,0,i,1,e+gf)},_f.topFlexible=function(t,e,n,r,i){return bf(t,0,n,0,i,-1,-10)},_f.rightFlexible=function(t,e,n,r,i){return mf(0,e,0,r,i,1,t+gf)},_f.leftFlexible=function(t,e,n,r,i){return mf(0,e,0,r,i,-1,-10)};var xf={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function Mf(){for(var t in this.unique_id=function(){let t,e;return"Flourish"in window?(t=window.Flourish,e="__popup_next_unique_id"):(t=window,e="__flourish_popup_next_unique_id"),t[e]?(t[e]+=1,t[e]):t[e]=1e3}(),this.is_visible=!0,this.element=null,xf)this["_"+t]=xf[t];this.handlers={click:[]}}function kf(t){Mf.prototype[t]=function(e){return void 0===e?this["_"+t]:(this["_"+t]=e,this)}}for(var jf in xf)kf(jf);function zf(){return new Mf}Mf.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Popup: could not understand argument");return this},Mf.prototype.directions=function(t){return void 0===t?this._directions:("string"==typeof t&&(t=[t]),this._directions=t.slice(),this)},Mf.prototype.text=function(t){return this._html=t.replace(/[&<>]/g,(function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]})),this},Mf.prototype.on=function(t,e){if(!(t in this.handlers))throw new Error("Popup.on: No such event: "+t);return this.handlers[t].push(e),this},Mf.prototype.fire=function(t,e){if(!(t in this.handlers))throw new Error("Popup.fire: No such event: "+t);for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},Mf.prototype._getElement=function(){var t=this,e=t.element;if(!e){e=t.element=document.createElement("div");var n="flourish-popup-"+t.unique_id;e.className="flourish-popup",e.id=n;var r=e.style;r.display="none",r.margin=r.padding=0,r.position="absolute",r.width="80px",r.height="40px",r.boxSizing="border-box",e.addEventListener("click",(function(e){t.fire("click",e)}),!1);var i=vf("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),o=vf("filter",{id:"dropshadow-"+t.unique_id,height:"130%"});o.appendChild(vf("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),o.appendChild(vf("feOffset",{dx:0,dy:2,result:"offsetblur"}));var a=vf("feComponentTransfer");a.appendChild(vf("feFuncA",{type:"linear",slope:.2})),o.appendChild(a);var s=vf("feMerge");o.appendChild(s),s.appendChild(vf("feMergeNode")),s.appendChild(vf("feMergeNode",{in:"SourceGraphic"})),i.appendChild(o);var l=vf("g",{filter:"url(#dropshadow-"+t.unique_id+")",fill:"white",stroke:"none"});l.appendChild(vf("rect",{x:ff,y:ff,rx:5})),l.appendChild(vf("path")),i.appendChild(l),e.appendChild(i);var c=document.createElement("div");c.className="flourish-popup-content",(r=c.style).position="absolute",r.top=r.left="25px",r.padding="10px",e.appendChild(c),t._getConstrainer().appendChild(e)}return t._resizeConstrainer(),e},Mf.prototype._getConstrainer=wf,Mf.prototype._resizeConstrainer=function(){pf||wf.call(this);var t=df.display;df.display="none",df.width=document.documentElement.scrollWidth+"px",df.height=document.documentElement.scrollHeight+"px",df.display=t},Mf.prototype.draw=function(){var t=this;if(t.is_visible=!0,t._point){var e=document.documentElement.getBoundingClientRect(),n=t._point[0],r=t._point[1],i=t._container.getBoundingClientRect();n<i.left?n=i.left:n>i.right&&(n=i.right),r<i.top?r=i.top:r>i.bottom&&(r=i.bottom);var o=n-e.left,a=r-e.top,s=t._getElement(),l=s.style,c=s.querySelector(".flourish-popup-svg"),u=c.querySelector("g"),p=u.querySelector("rect"),d=u.querySelector("path"),f=s.querySelector(".flourish-popup-content");l.display="block",f.style.maxWidth=function(e){return t._maxWidth.match(/^\d+(?:\.\d+)?%$/)?e.width*parseFloat(t._maxWidth)/100:t._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(t._maxWidth):(null!=t._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+t._maxWidth),e.width)}(i)+"px",t._inner_html!=t._html&&(f.innerHTML=t._inner_html=t._html);var h,g,_=f.getBoundingClientRect();do{h=Math.ceil(_.width),g=Math.ceil(_.height),l.width=h+50+"px",l.height=g+50+"px",_=f.getBoundingClientRect()}while(h!=Math.ceil(_.width)||g!=Math.ceil(_.height));p.setAttribute("width",h),p.setAttribute("height",g),c.setAttribute("width",h+50),c.setAttribute("height",g+50);for(var b,m,y=null,v=null,w=null,x=1/0,M=1/0,k=0;k<t._directions.length;k++){var j=t._directions[k],z=yf(j,h,g,n,r,i),N=Math.max(0,Math.floor(i.left)-z.left-15)+Math.max(0,z.right-Math.ceil(i.right)-15),A=Math.max(0,Math.floor(i.top)-z.top-15)+Math.max(0,z.bottom-Math.ceil(i.bottom)-15);if(0==N&&0==A){y=j;break}(N<x||N==x&&A<b)&&(x=N,b=A,v=j),(A<M||A==M&&N<m)&&(M=A,m=N,w=j)}return y?j=y:"horizontal"==t._fallbackFit?j=v:"vertical"==t._fallbackFit?j=w:(console.warn("Popup: failed to point box of size ("+h+", "+g+") at ("+n+", "+r+") within ("+i.left+", "+i.top+", "+i.right+", "+i.bottom+")"),j=t._directions[0]),function(t,e,n,r,i,o,a,s,l,c){var u=_f[t](r,i,s,l,c);e.left=o-ff-u.pos[0]+"px",e.top=a-ff-u.pos[1]+"px",n.setAttribute("d","M0,0L"+u.shape.join(",")+"Z"),n.setAttribute("transform","translate("+(u.pos[0]+ff)+","+(u.pos[1]+ff)+")")}(j,l,d,h,g,o,a,n,r,i),t}console.error("Popup: cannot draw popup till point() has been specified")},Mf.prototype.hide=function(){return this.is_visible?(this.is_visible=!1,this._getElement().style.display="none",this):this},zf.version="2.1.5";var Nf="http://www.w3.org/1999/xhtml",Af={svg:"http://www.w3.org/2000/svg",xhtml:Nf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function If(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Af.hasOwnProperty(e)?{space:Af[e],local:t}:t}function Cf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Nf&&e.documentElement.namespaceURI===Nf?e.createElement(t):e.createElementNS(n,t)}}function Df(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Tf(t){var e=If(t);return(e.local?Df:Cf)(e)}function Ef(){}function Sf(t){return null==t?Ef:function(){return this.querySelector(t)}}function Lf(){return[]}function Of(t){return null==t?Lf:function(){return this.querySelectorAll(t)}}function Pf(t){return function(){return this.matches(t)}}function Yf(t){return new Array(t.length)}function Ff(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ff.prototype={constructor:Ff,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Uf(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Ff(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function Bf(t,e,n,r,i,o,a){var s,l,c,u={},p=e.length,d=o.length,f=new Array(p);for(s=0;s<p;++s)(l=e[s])&&(f[s]=c="$"+a.call(l,l.__data__,s,e),c in u?i[s]=l:u[c]=l);for(s=0;s<d;++s)(l=u[c="$"+a.call(t,o[s],s,o)])?(r[s]=l,l.__data__=o[s],u[c]=null):n[s]=new Ff(t,o[s]);for(s=0;s<p;++s)(l=e[s])&&u[f[s]]===l&&(i[s]=l)}function Rf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zf(t){return function(){this.removeAttribute(t)}}function Gf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hf(t,e){return function(){this.setAttribute(t,e)}}function Qf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $f(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Wf(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function qf(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Vf(t){return function(){this.style.removeProperty(t)}}function Xf(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Jf(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Kf(t,e){return t.style.getPropertyValue(e)||qf(t).getComputedStyle(t,null).getPropertyValue(e)}function th(t){return function(){delete this[t]}}function eh(t,e){return function(){this[t]=e}}function nh(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function rh(t){return t.trim().split(/^|\s+/)}function ih(t){return t.classList||new oh(t)}function oh(t){this._node=t,this._names=rh(t.getAttribute("class")||"")}function ah(t,e){for(var n=ih(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function sh(t,e){for(var n=ih(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function lh(t){return function(){ah(this,t)}}function ch(t){return function(){sh(this,t)}}function uh(t,e){return function(){(e.apply(this,arguments)?ah:sh)(this,t)}}function ph(){this.textContent=""}function dh(t){return function(){this.textContent=t}}function fh(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function hh(){this.innerHTML=""}function gh(t){return function(){this.innerHTML=t}}function _h(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function bh(){this.nextSibling&&this.parentNode.appendChild(this)}function mh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yh(){return null}function vh(){var t=this.parentNode;t&&t.removeChild(this)}function wh(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xh(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}oh.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Mh={},kh=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Mh={mouseenter:"mouseover",mouseleave:"mouseout"}));function jh(t,e,n){return t=zh(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function zh(t,e,n){return function(r){var i=kh;kh=r;try{t.call(this,this.__data__,e,n)}finally{kh=i}}}function Nh(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Ah(t,e,n){var r=Mh.hasOwnProperty(t.type)?jh:zh;return function(i,o,a){var s,l=this.__on,c=r(e,o,a);if(l)for(var u=0,p=l.length;u<p;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function Ih(t,e,n){var r=qf(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ch(t,e){return function(){return Ih(this,t,e)}}function Dh(t,e){return function(){return Ih(this,t,e.apply(this,arguments))}}var Th=[null];function Eh(t,e){this._groups=t,this._parents=e}function Sh(){return new Eh([[document.documentElement]],Th)}function Lh(t){return"string"==typeof t?new Eh([[document.querySelector(t)]],[document.documentElement]):new Eh([[t]],Th)}function Oh(){for(var t,e=kh;t=e.sourceEvent;)e=t;return e}function Ph(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Yh(t){var e=Oh();return e.changedTouches&&(e=e.changedTouches[0]),Ph(t,e)}function Fh(t,e,n){arguments.length<3&&(n=e,e=Oh().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Ph(t,r);return null}Eh.prototype=Sh.prototype={constructor:Eh,select:function(t){"function"!=typeof t&&(t=Sf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Eh(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Of(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Eh(r,i)},filter:function(t){"function"!=typeof t&&(t=Pf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Eh(r,this._parents)},data:function(t,e){if(!t)return f=new Array(this.size()),c=-1,this.each((function(t){f[++c]=t})),f;var n=e?Bf:Uf,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],p=i[c],d=p.length,f=t.call(u,u&&u.__data__,c,r),h=f.length,g=s[c]=new Array(h),_=a[c]=new Array(h);n(u,p,g,_,l[c]=new Array(d),f,e);for(var b,m,y=0,v=0;y<h;++y)if(b=g[y]){for(y>=v&&(v=y+1);!(m=_[v])&&++v<h;);b._next=m||null}}return(a=new Eh(a,r))._enter=s,a._exit=l,a},enter:function(){return new Eh(this._enter||this._groups.map(Yf),this._parents)},exit:function(){return new Eh(this._exit||this._groups.map(Yf),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],p=c.length,d=a[s]=new Array(p),f=0;f<p;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new Eh(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Rf);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Eh(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=If(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Gf:Zf:"function"==typeof e?n.local?Wf:$f:n.local?Qf:Hf)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Vf:"function"==typeof e?Jf:Xf)(t,e,null==n?"":n)):Kf(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?th:"function"==typeof e?nh:eh)(t,e)):this.node()[t]},classed:function(t,e){var n=rh(t+"");if(arguments.length<2){for(var r=ih(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?uh:e?lh:ch)(n,e))},text:function(t){return arguments.length?this.each(null==t?ph:("function"==typeof t?fh:dh)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?hh:("function"==typeof t?_h:gh)(t)):this.node().innerHTML},raise:function(){return this.each(bh)},lower:function(){return this.each(mh)},append:function(t){var e="function"==typeof t?t:Tf(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Tf(t),r=null==e?yh:"function"==typeof e?e:Sf(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(vh)},clone:function(t){return this.select(t?xh:wh)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Ah:Nh,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Dh:Ch)(t,e))}};var Uh,Bh,Rh=0,Zh=0,Gh=0,Hh=0,Qh=0,$h=0,Wh="object"==typeof performance&&performance.now?performance:Date,qh="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Vh(){return Qh||(qh(Xh),Qh=Wh.now()+$h)}function Xh(){Qh=0}function Jh(){this._call=this._time=this._next=null}function Kh(t,e,n){var r=new Jh;return r.restart(t,e,n),r}function tg(){Vh(),++Rh;for(var t,e=Uh;e;)(t=Qh-e._time)>=0&&e._call.call(null,t),e=e._next;--Rh}function eg(){Qh=(Hh=Wh.now())+$h,Rh=Zh=0;try{tg()}finally{Rh=0,function(){var t,e,n=Uh,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Uh=e);Bh=t,rg(r)}(),Qh=0}}function ng(){var t=Wh.now(),e=t-Hh;e>1e3&&($h-=e,Hh=t)}function rg(t){Rh||(Zh&&(Zh=clearTimeout(Zh)),t-Qh>24?(t<1/0&&(Zh=setTimeout(eg,t-Wh.now()-$h)),Gh&&(Gh=clearInterval(Gh))):(Gh||(Hh=Wh.now(),Gh=setInterval(ng,1e3)),Rh=1,qh(eg)))}function ig(t,e,n){var r=new Jh;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Jh.prototype=Kh.prototype={constructor:Jh,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Vh():+n)+(null==e?0:+e),this._next||Bh===this||(Bh?Bh._next=this:Uh=this,Bh=this),this._call=t,this._time=n,rg()},stop:function(){this._call&&(this._call=null,this._time=1/0,rg())}};var og={value:function(){}};function ag(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new sg(r)}function sg(t){this._=t}function lg(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function cg(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=og,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}sg.prototype=ag.prototype={constructor:sg,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=cg(r[n],t.name,e);else if(null==e)for(n in r)r[n]=cg(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=lg(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new sg(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var ug=ag("start","end","cancel","interrupt"),pg=[];function dg(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,u,p,d;if(1!==n.state)return l();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return ig(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(ig((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(p=n.tween.length),c=0,u=-1;c<p;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Kh(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:ug,tween:pg,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function fg(t,e){var n=gg(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function hg(t,e){var n=gg(t,e);if(n.state>3)throw new Error("too late; already running");return n}function gg(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function _g(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function bg(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mg(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yg(){}var vg=.7,wg=1/vg,xg="\\s*([+-]?\\d+)\\s*",Mg="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",kg="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jg=/^#([0-9a-f]{3,8})$/,zg=new RegExp("^rgb\\("+[xg,xg,xg]+"\\)$"),Ng=new RegExp("^rgb\\("+[kg,kg,kg]+"\\)$"),Ag=new RegExp("^rgba\\("+[xg,xg,xg,Mg]+"\\)$"),Ig=new RegExp("^rgba\\("+[kg,kg,kg,Mg]+"\\)$"),Cg=new RegExp("^hsl\\("+[Mg,kg,kg]+"\\)$"),Dg=new RegExp("^hsla\\("+[Mg,kg,kg,Mg]+"\\)$"),Tg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Eg(){return this.rgb().formatHex()}function Sg(){return this.rgb().formatRgb()}function Lg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jg.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Og(e):3===n?new Ug(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Pg(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Pg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=zg.exec(t))?new Ug(e[1],e[2],e[3],1):(e=Ng.exec(t))?new Ug(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ag.exec(t))?Pg(e[1],e[2],e[3],e[4]):(e=Ig.exec(t))?Pg(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Cg.exec(t))?Gg(e[1],e[2]/100,e[3]/100,1):(e=Dg.exec(t))?Gg(e[1],e[2]/100,e[3]/100,e[4]):Tg.hasOwnProperty(t)?Og(Tg[t]):"transparent"===t?new Ug(NaN,NaN,NaN,0):null}function Og(t){return new Ug(t>>16&255,t>>8&255,255&t,1)}function Pg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ug(t,e,n,r)}function Yg(t){return t instanceof yg||(t=Lg(t)),t?new Ug((t=t.rgb()).r,t.g,t.b,t.opacity):new Ug}function Fg(t,e,n,r){return 1===arguments.length?Yg(t):new Ug(t,e,n,null==r?1:r)}function Ug(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Bg(){return"#"+Zg(this.r)+Zg(this.g)+Zg(this.b)}function Rg(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Zg(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Gg(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $g(t,e,n,r)}function Hg(t){if(t instanceof $g)return new $g(t.h,t.s,t.l,t.opacity);if(t instanceof yg||(t=Lg(t)),!t)return new $g;if(t instanceof $g)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new $g(a,s,l,t.opacity)}function Qg(t,e,n,r){return 1===arguments.length?Hg(t):new $g(t,e,n,null==r?1:r)}function $g(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Wg(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}bg(yg,Lg,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Eg,formatHex:Eg,formatHsl:function(){return Hg(this).formatHsl()},formatRgb:Sg,toString:Sg}),bg(Ug,Fg,mg(yg,{brighter:function(t){return t=null==t?wg:Math.pow(wg,t),new Ug(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?vg:Math.pow(vg,t),new Ug(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bg,formatHex:Bg,formatRgb:Rg,toString:Rg})),bg($g,Qg,mg(yg,{brighter:function(t){return t=null==t?wg:Math.pow(wg,t),new $g(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?vg:Math.pow(vg,t),new $g(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ug(Wg(t>=240?t-240:t+120,i,r),Wg(t,i,r),Wg(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var qg=Math.PI/180,Vg=180/Math.PI,Xg=.96422,Jg=.82521,Kg=4/29,t_=6/29,e_=3*t_*t_,n_=t_*t_*t_;function r_(t){if(t instanceof o_)return new o_(t.l,t.a,t.b,t.opacity);if(t instanceof p_)return d_(t);t instanceof Ug||(t=Yg(t));var e,n,r=c_(t.r),i=c_(t.g),o=c_(t.b),a=a_((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=a_((.4360747*r+.3850649*i+.1430804*o)/Xg),n=a_((.0139322*r+.0971045*i+.7141733*o)/Jg)),new o_(116*a-16,500*(e-a),200*(a-n),t.opacity)}function i_(t,e,n,r){return 1===arguments.length?r_(t):new o_(t,e,n,null==r?1:r)}function o_(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function a_(t){return t>n_?Math.pow(t,1/3):t/e_+Kg}function s_(t){return t>t_?t*t*t:e_*(t-Kg)}function l_(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function c_(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function u_(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof p_)return new p_(t.h,t.c,t.l,t.opacity);if(t instanceof o_||(t=r_(t)),0===t.a&&0===t.b)return new p_(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Vg;return new p_(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new p_(t,e,n,null==r?1:r)}function p_(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function d_(t){if(isNaN(t.h))return new o_(t.l,0,0,t.opacity);var e=t.h*qg;return new o_(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}bg(o_,i_,mg(yg,{brighter:function(t){return new o_(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new o_(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Ug(l_(3.1338561*(e=Xg*s_(e))-1.6168667*(t=1*s_(t))-.4906146*(n=Jg*s_(n))),l_(-.9787684*e+1.9161415*t+.033454*n),l_(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),bg(p_,u_,mg(yg,{brighter:function(t){return new p_(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new p_(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return d_(this).rgb()}}));var f_=-.14861,h_=1.78277,g_=-.29227,__=-.90649,b_=1.97294,m_=b_*__,y_=b_*h_,v_=h_*g_-__*f_;function w_(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof x_)return new x_(t.h,t.s,t.l,t.opacity);t instanceof Ug||(t=Yg(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(v_*r+m_*e-y_*n)/(v_+m_-y_),o=r-i,a=(b_*(n-i)-g_*o)/__,s=Math.sqrt(a*a+o*o)/(b_*i*(1-i)),l=s?Math.atan2(a,o)*Vg-120:NaN;return new x_(l<0?l+360:l,s,i,t.opacity)}(t):new x_(t,e,n,null==r?1:r)}function x_(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function M_(t){return function(){return t}}function k_(t,e){return function(n){return t+n*e}}function j_(t,e){var n=e-t;return n?k_(t,n>180||n<-180?n-360*Math.round(n/360):n):M_(isNaN(t)?e:t)}function z_(t){return 1==(t=+t)?N_:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):M_(isNaN(e)?n:e)}}function N_(t,e){var n=e-t;return n?k_(t,n):M_(isNaN(t)?e:t)}bg(x_,w_,mg(yg,{brighter:function(t){return t=null==t?wg:Math.pow(wg,t),new x_(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?vg:Math.pow(vg,t),new x_(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*qg,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Ug(255*(e+n*(f_*r+h_*i)),255*(e+n*(g_*r+__*i)),255*(e+n*(b_*r)),this.opacity)}}));var A_=function t(e){var n=z_(e);function r(t,e){var r=n((t=Fg(t)).r,(e=Fg(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=N_(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);var I_,C_=(I_=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return function(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}((n-r/e)*e,a,i,o,s)}},function(t){var e,n,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=Fg(t[e]),i[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return i=I_(i),o=I_(o),a=I_(a),n.opacity=1,function(t){return n.r=i(t),n.g=o(t),n.b=a(t),n+""}});function D_(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function T_(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=F_(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function E_(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function S_(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function L_(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=F_(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var O_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,P_=new RegExp(O_.source,"g");function Y_(t,e){var n,r,i,o=O_.lastIndex=P_.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=O_.exec(t))&&(r=P_.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:S_(n,r)})),o=P_.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function F_(t,e){var n,r=typeof e;return null==e||"boolean"===r?M_(e):("number"===r?S_:"string"===r?(n=Lg(e))?(e=n,A_):Y_:e instanceof Lg?A_:e instanceof Date?E_:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?D_:Array.isArray(e)?T_:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?L_:S_)(t,e)}function U_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var B_,R_,Z_,G_,H_=180/Math.PI,Q_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $_(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*H_,skewX:Math.atan(l)*H_,scaleX:a,scaleY:s}}function W_(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:S_(t,i)},{i:l-2,x:S_(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:S_(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:S_(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:S_(t,n)},{i:s-2,x:S_(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var q_=W_((function(t){return"none"===t?Q_:(B_||(B_=document.createElement("DIV"),R_=document.documentElement,Z_=document.defaultView),B_.style.transform=t,t=Z_.getComputedStyle(R_.appendChild(B_),null).getPropertyValue("transform"),R_.removeChild(B_),$_(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),V_=W_((function(t){return null==t?Q_:(G_||(G_=document.createElementNS("http://www.w3.org/2000/svg","g")),G_.setAttribute("transform",t),(t=G_.transform.baseVal.consolidate())?$_((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Q_)}),", ",")",")"),X_=Math.SQRT2;function J_(t){return((t=Math.exp(t))+1/t)/2}function K_(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],l=e[1],c=e[2],u=s-i,p=l-o,d=u*u+p*p;if(d<1e-12)r=Math.log(c/a)/X_,n=function(t){return[i+t*u,o+t*p,a*Math.exp(X_*t*r)]};else{var f=Math.sqrt(d),h=(c*c-a*a+4*d)/(2*a*2*f),g=(c*c-a*a-4*d)/(2*c*2*f),_=Math.log(Math.sqrt(h*h+1)-h),b=Math.log(Math.sqrt(g*g+1)-g);r=(b-_)/X_,n=function(t){var e=t*r,n=J_(_),s=a/(2*f)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(X_*e+_)-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[i+s*u,o+s*p,a*n/J_(X_*e+_)]}}return n.duration=1e3*r,n}var tb=function(t){return function(e,n){var r=t((e=Qg(e)).h,(n=Qg(n)).h),i=N_(e.s,n.s),o=N_(e.l,n.l),a=N_(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}(j_);function eb(t,e){var n=N_((t=i_(t)).l,(e=i_(e)).l),r=N_(t.a,e.a),i=N_(t.b,e.b),o=N_(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}var nb=function(t){return function(e,n){var r=t((e=u_(e)).h,(n=u_(n)).h),i=N_(e.c,n.c),o=N_(e.l,n.l),a=N_(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}(j_);function rb(t){return function e(n){function r(e,r){var i=t((e=w_(e)).h,(r=w_(r)).h),o=N_(e.s,r.s),a=N_(e.l,r.l),s=N_(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}rb(j_);var ib=rb(N_);function ob(t,e){var n,r;return function(){var i=hg(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function ab(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=hg(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function sb(t,e,n){var r=t._id;return t.each((function(){var t=hg(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return gg(t,r).value[e]}}function lb(t,e){var n;return("number"==typeof e?S_:e instanceof Lg?A_:(n=Lg(e))?(e=n,A_):Y_)(t,e)}function cb(t){return function(){this.removeAttribute(t)}}function ub(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pb(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function db(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function fb(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function hb(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function gb(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function _b(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function bb(t,e){return function(){fg(this,t).delay=+e.apply(this,arguments)}}function mb(t,e){return e=+e,function(){fg(this,t).delay=e}}function yb(t,e){return function(){hg(this,t).duration=+e.apply(this,arguments)}}function vb(t,e){return e=+e,function(){hg(this,t).duration=e}}var wb=Sh.prototype.constructor;function xb(t){return function(){this.style.removeProperty(t)}}var Mb=0;function kb(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function jb(){return++Mb}var zb=Sh.prototype;kb.prototype={constructor:kb,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Sf(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,p=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),p[d]=l,dg(p[d],e,n,d,p,gg(s,n)));return new kb(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Of(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,p=0;p<u;++p)if(l=c[p]){for(var d,f=t.call(l,l.__data__,p,c),h=gg(l,n),g=0,_=f.length;g<_;++g)(d=f[g])&&dg(d,e,n,g,f,h);o.push(f),a.push(l)}return new kb(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Pf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new kb(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],p=c.length,d=a[s]=new Array(p),f=0;f<p;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new kb(a,this._parents,this._name,this._id)},selection:function(){return new wb(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=jb(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=gg(a,e);dg(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new kb(r,this._parents,t,n)},call:zb.call,nodes:zb.nodes,node:zb.node,size:zb.size,empty:zb.empty,each:zb.each,on:function(t,e){var n=this._id;return arguments.length<2?gg(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?fg:hg;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=If(t),r="transform"===n?V_:lb;return this.attrTween(t,"function"==typeof e?(n.local?hb:fb)(n,r,sb(this,"attr."+t,e)):null==e?(n.local?ub:cb)(n):(n.local?db:pb)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=If(t);return this.tween(n,(r.local?gb:_b)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?q_:lb;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Kf(this,t),a=(this.style.removeProperty(t),Kf(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,xb(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Kf(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Kf(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,sb(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=hg(this,t),c=l.on,u=null==l.value[a]?o||(o=xb(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Kf(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(sb(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=gg(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?ob:ab)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?bb:mb)(e,t)):gg(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?yb:vb)(e,t)):gg(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){hg(this,t).ease=e}}(e,t)):gg(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=hg(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}};var Nb={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ab(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Nb.time=Vh(),Nb;return n}Sh.prototype.interrupt=function(t){return this.each((function(){_g(this,t)}))},Sh.prototype.transition=function(t){var e,n;t instanceof kb?(e=t._id,t=t._name):(e=jb(),(n=Nb).time=Vh(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&dg(a,t,e,c,s,n||Ab(a,e));return new kb(r,this._parents,t,e)};var Ib=1,Cb={container:document.body,point:[window.innerWidth/2,window.innerHeight/2],html:"",open_duration:250,close_duration:250,popup_custom_template:"",position:"overlay",shadow:!0,underlay_color:"rgba(255, 255, 255, 0.75)",width_side:35,height_side:35,width_overlay:80,height_overlay:80,vertical_position:"click",max_width:null,max_height:null,closeable:!0};function Db(){var t=this;for(var e in t.unique_id=Ib++,t._is_open=!1,t._onclose=null,Cb)t["_"+e]=Cb[e]}function Tb(t){Db.prototype[t]=function(e){return void 0===e?this["_"+t]:(this["_"+t]=e,this)}}for(var Eb in Cb)Tb(Eb);Db.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Panel: could not understand argument");return this},Db.prototype.container=function(t){return t&&(this._container=t),this},Db.prototype.hide=function(){var t=this;if(t._is_open)return function(t){t._getElement().style.pointerEvents="none",t._is_open=!1;var e=t._close_duration;Lh(t._getElement()).transition().duration(e).style("background","rgba(255, 255, 255, 0)").on("interrupt",(function(){Lh(this).style("display",t._is_open?"block":"none")})).on("end",(function(){Lh(this).style("display","none"),Lh(t._content).html("")})).select(".flourish-panel-close").style("opacity","0"),Lh(t._inner).transition().duration(e).style("opacity",0),Lh(t._content).transition().duration(e/2).style("opacity",0)}(t),t._focusTrap.deactivate(),this},Db.prototype.close=Db.prototype.hide,Db.prototype.draw=function(){var t=this;return t._content.innerHTML=t._html,function(t){var e=t._is_open||t._html==t._default?0:t._open_duration,n=window.innerWidth,r=window.innerHeight,i="overlay"==t._position,o="top"==t._position||"bottom"==t._position,a="left"==t._position||"right"==t._position,s=100*(t._max_width||1/0)/n,l=100*(t._max_height||1/0)/r,c=100*t._point[1]/r,u="click"==t._vertical_position&&!Flourish.fixed_height,p=i?Math.min(t._width_overlay,s):o?100:Math.min(t._width_side,s),d=i?Math.min(t._height_overlay,l):a?100:Math.min(t._height_side,l),f=i?(100-p)/2:"right"==t._position?100-p:0,h=u?Math.max(1,Math.min(c-d/2,99-d)):(100-d)/2,g=i?h:"bottom"==t._position?100-d:0,_=i?0:p,b=i?0:d,m=i?100*t._point[0]/n:"right"==t._position?100:"left"==t._position?-p:0,y=i?c:"bottom"==t._position?100:"top"==t._position?-d:0,v=function(t){var e=t.querySelectorAll("h1, h2, h3, h4, h5, h6");if(e.length>0)return e[0].textContent.trim();var n=t.querySelector(".title, .heading, .panel-title, .popup-title");return n?n.textContent.trim():null}(t._content),w=v?v+" dialog":"Information dialog";Lh(t._getElement()).style("display","block").transition().duration(e).delay(.25*e).style("background",i?t._underlay_color:"rgba(255, 255, 255, 0)").style("pointer-events",i?null:"none").attr("aria-label",w),Lh(t._inner).style("opacity",1).style("display","block").style("pointer-events","none").style("width",_+"%").style("height",b+"%").style("left",m+"%").style("top",y+"%").transition().duration(e).style("width",p+"%").style("height",d+"%").style("left",f+"%").style("top",g+"%").on("end",(function(){Lh(t._inner).style("pointer-events","all").style("width",p+"%").style("height",d+"%").style("left",f+"%").style("top",g+"%")})).on("interrupt",(function(){Lh(t._inner).style("pointer-events","all").style("width",p+"%").style("height",d+"%").style("left",f+"%").style("top",g+"%")}));var x=a&&u;Lh(t._content).transition().duration(e/4).delay(e).style("opacity",1).on("interrupt",(function(){Lh(this).style("opacity",1)})),Lh(t._content).select(".flourish-panel-content-inner").style("position",x?"absolute":null).style("top",x?c+"%":null).style("transform",x?"translateY(-50%)":null),Lh(t._inner).select(".flourish-panel-close").style("opacity",0).transition().duration(e/4).delay(e).style("opacity",t._closeable?1:0).attr("tabindex",t._closeable?"0":"-1"),t._focusTrap||(t._focusTrap=function(){let t=null,e=null,n=null;const r=document.querySelector(".flourish-panel"),i=document.querySelector(".flourish-panel-inner"),o=i.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), [role="button"]');o.length&&(e=o[0],n=o[o.length-1]);function a(t){if("Tab"===t.key||9===t.keyCode){if(0===o.length)return;t.shiftKey&&document.activeElement===e?(t.preventDefault(),n.focus()):t.shiftKey||document.activeElement!==n||(t.preventDefault(),e.focus())}}return{activate:function(){t=document.activeElement,i.addEventListener("keydown",a),setTimeout((()=>{r.focus()}),100)},deactivate:function(){i.removeEventListener("keydown",a);Boolean(document.querySelector(":focus-visible"))&&t&&t.focus()}}}());t._focusTrap.activate(),t._is_open=!0,tg()}(t),this},Db.prototype.on=function(t,e){return"close"==t?e&&(this._onclose=e):console.error("Panel .on() method only supports 'close' events"),this},Db.prototype.margins=function(){var t={top:0,right:0,bottom:0,left:0};if(this._is_open&&"overlay"!=this._position){var e=this._getElement().getBoundingClientRect();"top"==this._position&&(t.top=e.top+e.height),"right"==this._position&&(t.right=e.left),"bottom"==this._position&&(t.bottom=e.top),"left"==this._position&&(t.left=e.left+e.width)}return t.css=t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px",t},Db.prototype._getElement=function(){var t=this,e="flourish-panel-"+t.unique_id,n=document.getElementById(e);if(!n){(n=document.createElement("div")).className="flourish-panel",n.role="dialog",n.ariaModal="true",n.tabIndex="-1",n.id=e,n.addEventListener("click",(function(t){t.stopPropagation(),s()})),window.addEventListener("keydown",(function(e){t._is_open&&"Escape"===e.key&&(e.stopPropagation(),e.preventDefault(),s())}),!1);var r=n.style;r.position="absolute",r.zIndex="999999",r.pointerEvents="none",r.width="100%",r.height="100%",r.top="0",r.left="0",r.background="rgba(255, 255, 255, 0)";var i=document.createElement("div");i.className="flourish-panel-inner",n.appendChild(i),t._inner=i,function(t){Lh(t._inner).append("svg").attr("class","flourish-panel-close fl-ignore-svg-download").attr("viewBox","0 0 40 40").style("width","1.25rem").style("height","1.25rem").style("position","absolute").style("right","1rem").style("top","1rem").style("cursor","pointer").style("opacity",0).attr("tabindex","-1").attr("role","button").attr("aria-label","Close").on("mouseover",(function(){t._closeable&&(this.style.opacity=.66)})).on("mouseout",(function(){t._closeable&&(this.style.opacity=1)})).on("click",(function(){kh.stopPropagation(),t.hide(),t._onclose&&t._onclose()})).on("touch",(function(){kh.stopPropagation(),t.hide(),t._onclose&&t._onclose()})).on("keydown",(function(){"Enter"!=kh.key&&" "!=kh.key||(kh.stopPropagation(),kh.preventDefault(),t.hide(),t._onclose&&t._onclose())})).append("path").attr("stroke","#333333").attr("stroke-width","0.5rem").attr("stroke-linecap","round").attr("d","M 10,10 L 30,30 M 30,10 L 10,30")}(t),(r=i.style).width="0",r.height="0",r.position="absolute",r.boxSizing="border-box";var o=document.createElement("div");o.className="flourish-panel-shadow",i.appendChild(o);var a=document.createElement("div");a.className="flourish-panel-content",i.appendChild(a),t._content=a,(r=a.style).opacity="0",r.overflowY="auto",r.height="100%",t._container.appendChild(n)}function s(){t.hide(),t._onclose&&t._onclose()}return n};var Sb={mode:"popup",locked_id:null,popup_is_custom:!1,popup_custom_header:"Popup header",popup_custom_main:"Popup main content. Write your column names in between double curly brackets to display dynamic content.",popup_custom_accessible:"",popup_teaser_default:"Click to see more",popup_text_color:"#333333",popup_align:"start",popup_font_size:1,popup_font_family:null,popup_width:18,popup_background:"#ffffff",popup_background_opacity:1,popup_padding:.5,popup_radius:.2,popup_shadow:!0,popup_pointer:!0,popup_header_background:"#333333",popup_header_text_color:"#ffffff",popup_header_type:"block",popup_list_type:"table",popup_list_label_weight:"normal",popup_list_separator:": ",panel_is_custom:!1,panel_custom_header:"Custom panel header",panel_custom_main:"Custom panel main content",panel_side_default_content:"<h3>Tap or click to explore</h3>",panel_side_fixed:!1,panel_position:"overlay",panel_width_overlay:80,panel_height_overlay:80,panel_vertical_position:"center",panel_width_side:35,panel_height_side:35,panel_max_width:null,panel_max_height:null,panel_text_color:"#333333",panel_align:"start",panel_font_size:1.25,panel_font_family:null,panel_background:"#ffffff",panel_background_opacity:.9,panel_padding:1.2,panel_radius:.2,panel_shadow:!0,panel_open_duration:250,panel_close_duration:250,panel_list_type:"table",panel_list_label_weight:"normal",panel_list_separator:": "};const Lb=/\{\{((?:[^}]|\}[^}])*)\}\}/g;function Ob(t){return!(""!==t&&!Number.isNaN(t)&&null!=t)}function Pb(t,e){let n={title:null,subtitle:null,main:{}};var r={};const i=e[t._title_key],o=e[t._subtitle_key];if(i){n.title=i;const e=t._column_names[t._title_key];r[e]=!0}if(o){n.subtitle=o;const e=t._column_names[t._subtitle_key];r[e]=!0}const a=Object.keys(t._column_names);a.includes("metadata")&&a.push(a.splice(a.indexOf("metadata"),1)[0]);for(let i=0;i<a.length;i++){const o=a[i];if(t._column_names_hidden.indexOf(o)>-1)continue;if(o==t._title_key)continue;if(o==t._subtitle_key)continue;const s=t._column_names[o];if(Array.isArray(s))s.forEach((function(t,i){r[t]||Ob(e[o])||(r[t]=!0,n.main[t]=e[o][i])}));else{if(r[s]||Ob(e[o]))continue;r[s]=!0,n.main[s]=e[o]}}return n}function Yb(t,e){let n="";var r=t._popup_default_template;const i=Zb(t,e);if(t._state.popup_is_custom&&t._state.popup_custom_accessible){const e=t._state.popup_custom_accessible;n=Rb(e,t,i)}else if(r){var o={};r.match(Lb).forEach((e=>{e.replace(Lb,(function(e,r){var a;const s=t._column_names[r];if(Array.isArray(s)){if(0==s.length)return;s.forEach((function(t,e){if(o[t])return;o[t]=!0;const n=i[r][e];lt(n)||Ob(n)||(a=`${t}: ${n}, `)}))}else{const t=i[r];if(lt(t)||Ob(t))return;if(o[s])return;o[s]=!0,a=`${s}: ${t}, `}void 0!==a&&(n+=a)}))}))}else{let e=Pb(t,i);for(var a in e.title&&(n+=`${e.title}, `),e.subtitle&&(n+=`${e.subtitle}, `),e.main){const t=e.main[a];Ob(t)||(n+=`${a}: ${t}, `)}}return n=n.replace(/, $/,""),function(t){const e=document.createElement("div");return e.innerHTML=t,e.innerText}(n)}function Fb(t,e,n){var r="<div class='flourish-panel-content-inner'>",i=t["_"+n+"_default_template"],o=t._state[n+"_list_type"],a=t._state[n+"_list_separator"],s="<br />"===a,l=s?"":a,c=s?a:"";if(i)r+=i.replace(Lb,(function(n,r){var i,o=t._column_names[r];if(Array.isArray(o)){if(0==o.length)return"";i="<ul>",o.forEach((function(t,n){i+="<li>"+t+a+e[r][n]+"</li>"})),i+="</ul>"}else i=e[r];return void 0!==i?i:""}));else{let n=Pb(t,e);if((n.title||n.subtitle)&&(r+="<header>",n.title&&(r+=`<h3>${n.title}</h3>`),n.subtitle&&(r+=`<h4>${n.subtitle}</h4>`),r+="</header>"),Object.keys(n.main).length){let t="";for(var u in n.main){const e=n.main[u];"table"==o?(t+="<tr><td class='table-col-label'><span class='data-heading'>",t+=u+"</span></td><td class='table-col-value'>",t+=e+"</td></tr>"):"ul"==o&&(t+="<li><span class='data-heading'>"+u+l,t+=" </span> "+c+e+"</li>")}r+="<div class='main-content'><"+o+">",r+=t,r+="</"+o+"></div></div>"}}return r}function Ub(t,e,n){var r;return Object.keys(t._column_names).some((function(i){if(Array.isArray(t._column_names[i])){var o=t._column_names[i].indexOf(e);if(o>=0)return r=n[i][o],!0}else if(t._column_names[i]==e)return r=n[i],!0})),void 0!==r?r:""}function Bb(t,e,n){var r="";const i="popup"===n?t._state.popup_custom_header:t._state.panel_custom_header,o="popup"===n?t._state.popup_custom_main:t._state.panel_custom_main;var a=Rb(i,t,e),s=Rb(o,t,e);return a&&(r+="<header>"+a+"</header>"),s&&(r+="<div class='main-content'>"+s+"</div>"),r}function Rb(t,e,n){return t.replace(/\{\{#if ((?:[^}]|\}[^}])*)\}\}([\s\S]*?)\{\{\/if\}\}/g,(function(t,r,i){return""==Ub(e,r,n)?"":i})).replace(/\{\{(visualisation|story)\/(.*)\}\}/g,(function(t,e,n){var r=n.split("/");if(r.length<1||!["visualisation","story"].includes(e))return t;var i,o={id:r[0],w:r[1]||"100%",h:r[2]||"400px%"},a="https://flo.uri.sh/"+e+"/"+o.id+"/embed?";return(i="iframe",Lh(Tf(i).call(document.documentElement))).attr("src",a).attr("title","Interactive or visual content").attr("class","flourish-embed-iframe").attr("frameborder","0").attr("scrolling","no").attr("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation").style("width",o.width).style("height",o.height).node().outerHTML})).replace(Lb,(function(t,r){return Ub(e,r,n)})).trim()}function Zb(t,e){var n=t._formatters,r={};for(var i in e)if(n&&n[i])if(Array.isArray(n[i])){for(var o=[],a=0;a<n[i].length;a++){let t;t=Ob(e[i][a])?"":n[i][a](e[i][a]),o.push(t)}r[i]=o}else{if(Ob(e[i]))continue;r[i]=Ob(e[i])?"":n[i](e[i])}else r[i]=Ob(e[i])?"":e[i];return r}function Gb(t,e,n){var r="",i=Zb(t,e);return n&&!t._state.popup_is_custom?r+="<div class='main-content'>"+t._state.popup_teaser_default+"</div>":n||t._state.popup_is_custom?r+=Bb(t,i,"popup"):r+=Fb(t,i,"popup"),r}function Hb(t,e){var n="",r=Zb(t,e);return t._state.panel_is_custom?n+=Bb(t,r,"panel"):n+=Fb(t,r,"panel"),n}function Qb(){return this.declarations=[],this}function $b(t){return this.selector=t,this.styles=[],this}function Wb(t){var e=t.popup._getElement(),n=e.querySelector(".flourish-popup-content");n.style.padding="0",n.style.textAlign=t._state.popup_align,n.style.color=t._state.popup_text_color,n.style.fontSize=t._state.popup_font_size+"rem",n.style.fontFamily=t._state.popup_font_family?.name||null,n.style.borderRadius=t._state.popup_radius+"rem",n.addEventListener("click",(function(){event.stopPropagation()}));var r=t.panel._getElement(),i=r.querySelector(".flourish-panel-inner"),o=r.querySelector(".flourish-panel-content"),a=v(t._state.panel_background);i.style.background="rgba("+a.r+","+a.g+","+a.b+","+t._state.panel_background_opacity+")",i.style.borderRadius=t._state.popup_radius+"rem",i.style.boxShadow="overlay"==t._state.panel_position&&t._state.panel_shadow?"0 0 1.5rem rgba(0,0,0,0.2)":"",i.addEventListener("click",(function(){event.stopPropagation()})),o.style.padding=t._state.panel_padding+"rem",o.style.textAlign=t._state.panel_align,o.style.color=t._state.panel_text_color,o.style.fontSize=t._state.panel_font_size+"rem",o.style.fontFamily=t._state.panel_font_family?.name||null,o.style.boxSizing="border-box";var s=e.querySelector(".flourish-popup-svg g");s.style.fill=t._state.popup_background,s.style.opacity=t._state.popup_background_opacity;var l=r.querySelector(".flourish-panel-close path");l&&(l.style.stroke=t._state.panel_text_color),0==t._state.popup_shadow?s.removeAttribute("filter"):s.setAttribute("filter","url(#dropshadow-"+t.popup.unique_id+")"),s.querySelector("rect").setAttribute("rx",t._state.popup_radius+"rem"),s.querySelector("path").style.display=t._state.popup_pointer?"block":"none",function(t){if(!document.querySelector("#popup-styles")){var e=document.createElement("style");e.id="popup-styles",document.head.appendChild(e)}var n=new Qb,r="block"==t._state.popup_header_type,i=v(t._state.popup_header_background||"transparent");i.opacity=t._state.popup_header_background?t._state.popup_background_opacity:0;var o=t._state.panel_position;n.select(".flourish-panel .flourish-panel-shadow").style("pointer-events","none").style("position","absolute").style("display","overlay"!=o&&t._state.panel_shadow?"block":"none").style("top","bottom"==o?"-3rem":"top"==o?"auto":0).style("right","left"==o?"-3rem":"right"==o?"auto":0).style("bottom","top"==o?"-3rem":"bottom"==o?"auto":0).style("left","right"==o?"-3rem":"left"==o?"auto":0).style("width","left"==o||"right"==o?"3rem":"100%").style("height","top"==o||"bottom"==o?"3rem":"100%").style("z-index","-1").style("overflow","hidden"),n.select(".flourish-panel .flourish-panel-shadow:before").style("content","''").style("display","block").style("position","absolute").style("width","left"==o||"right"==o?"1.5rem":"100%").style("height","top"==o||"bottom"==o?"1.5rem":"100%").style("border-radius","50%").style("background","rgba(0,0,0,0.3)").style("bottom","bottom"==o?"-50%":"top"==o?"auto":0).style("left","left"==o?"-50%":"right"==o?"auto":0).style("top","top"==o?"-50%":"bottom"==o?"auto":0).style("right","right"==o?"-50%":"left"==o?"auto":0).style("filter","blur(15px)"),n.select(".flourish-panel-inner:focus-visible").style("outline","none !important"),n.select(".flourish-panel:focus-visible").style("outline","none !important"),n.select(".flourish-panel-close:focus").style("outline","none"),n.select(".flourish-panel-close:focus-visible").style("outline","-webkit-focus-ring-color auto 5px"),n.select(".flourish-popup").style("pointer-events","none").select(".flourish-popup-content").style("pointer-events","auto").style("max-width",null==t._state.popup_width?null:t._state.popup_width+"rem !important"),n.select(".flourish-popup header, .flourish-panel header").style("margin","0"),n.select(".flourish-popup header").style("font-weight","bold").style("color",r?t._state.popup_header_text_color:null).style("background",r?i.rgb():null).style("padding",t._state.popup_padding+"rem").style("border-radius",t._state.popup_radius+"rem "+t._state.popup_radius+"rem 0 0"),n.select(".flourish-popup header:not(:last-child)").style("padding-bottom",r?null:"0"),n.select(".flourish-popup header:not(:last-child)").style("padding-bottom",r?null:"0"),n.select(".flourish-panel .flourish-panel-content-inner").style("overflow","auto"),n.select(".flourish-panel header").style("font-weight","bold").style("margin-bottom","0.5em").style("padding-right","1rem"),n.select(".flourish-popup .main-content").style("padding",t._state.popup_padding+"rem"),n.select(".flourish-popup header + .main-content").style("padding",t._state.popup_padding+"rem").style("padding-top",r?null:"0"),n.select(".flourish-popup h3, .flourish-panel h3").style("font-size","1em").style("margin","0"),n.select(".flourish-popup h3, .flourish-popup h4, .flourish-popup ul li").style("text-align",t._state.popup_align),n.select(".flourish-panel h3, .flourish-panel h4, .flourish-panel ul li").style("text-align",t._state.panel_align),n.select(".flourish-popup h4, .flourish-panel h4").style("font-size","1em").style("margin",r?"0":"0 0 0.25em").style("opacity","0.6").style("font-weight","normal"),n.select(".flourish-popup h4:empty, .flourish-panel h4:empty, .flourish-popup h3:empty, .flourish-panel h3:empty, .flourish-popup p:empty, .flourish-panel p:empty").style("display","none"),n.select(".flourish-popup p, .flourish-panel p").style("margin","0").style("font-size","inherit").style("font-weight","normal"),n.select(".flourish-popup table, .flourish-panel table").style("margin","0").style("width","100%").style("border-collapse","collapse").style("table-layout","auto"),n.select(".flourish-popup table tr, .flourish-panel table tr").style("border-top","1px solid #eee"),n.select(".flourish-popup table tr:first-child, .flourish-panel table tr:first-child").style("border-top","none"),n.select(".flourish-popup table tr td, .flourish-panel table tr td").style("padding","0.25em 0 0.25em 0").style("padding-inline-end","0.25em").style("vertical-align","top").style("font-size","inherit").style("text-align","start").style("font-weight","normal").style("overflow","hidden").style("text-overflow","ellipsis"),n.select(".flourish-popup table tr:last-child td, .flourish-panel table tr:last-child td").style("padding-bottom","0"),n.select(".flourish-popup .data-heading").style("font-weight",t._state.popup_list_label_weight).style("display","inline-block"),n.select(".flourish-panel .data-heading").style("font-weight",t._state.panel_list_label_weight).style("display","inline-block"),n.select(".flourish-popup table tr td.table-col-value, .flourish-panel table tr td.table-col-value").style("text-align","end").style("padding","0.25em 0 0.25em 0").style("padding-inline-end","0.25em"),n.select(".flourish-popup table tr:last-child td.table-col-value, .flourish-panel table tr:last-child td.table-col-value").style("padding-bottom","0"),n.select(".flourish-popup ul, .flourish-panel ul").style("padding","0").style("margin","0"),n.select(".flourish-popup ul li, .flourish-panel ul li").style("font-size","inherit").style("list-style-type","none"),t._state.popup_is_custom&&(console.log("is custom",t._state.popup_is_custom),n.select(".flourish-popup ul, .flourish-panel ul, .flourish-popup ol").style("padding-inline-start","1.5em").style("padding-inline-end","0.5em"),n.select(".flourish-popup ul li, .flourish-panel ul li").style("list-style-type","disc"),n.select(".flourish-popup ul li, .flourish-panel ul li").style("font-size","inherit").style("list-style-position","outside"),n.select(".flourish-popup ol li").style("padding-inline-start","0.5em")),document.head.querySelector("#popup-styles").innerHTML=n.print()}(t)}function qb(t,e,n){var r=this;for(var i in this._state=t,this._popup_default_template=null,this._panel_default_template=null,this._title_key="name",this._subtitle_key=null,this._first_load=!0,this._on_panel_close=null,this._show_default_content_timer=null,this._panel_container=e||document.body,this._popup_container=n||document.body,this._popup_directions=["top","bottom","left","right"],this._column_names=[],this._column_names_hidden=[],this._formatters=null,this._getLockedPosition=function(){return null},Sb)null==t[i]&&(t[i]=Sb[i]);this.panel=(new Db).container(this._panel_container).on("close",(function(){r._state.locked_id=null,r.popup.hide(),"function"==typeof r._on_panel_close&&r._on_panel_close()})),this.popup=zf().container(this._popup_container).point(0,0).draw().hide()}function Vb(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="none"}function Xb(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="auto"}function Jb(t){return t||0===t}function Kb(t,e,n){return new qb(t,e,n)}function tm(){var t={},e=0,n=function(r,i){if(void 0===r){var o=e;return e=0,o}return void 0===i?t[r]:i!==t[r]&&(void 0===t[r]&&Object.defineProperty(n,r,{get:function(){return t[r]}}),t[r]=i,e++,!0)};return n}Qb.prototype.select=function(t){if(!t)return this;var e=new $b(t);return e.parent=this,this.addDeclaration(e),e},Qb.prototype.addDeclaration=function(t){return this.declarations.push(t),this},Qb.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},Qb.prototype.clear=function(){return this.declarations=[],this},$b.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},$b.prototype.select=function(t){return this.parent.select(this.selector+" "+t)},qb.prototype.getLockedPosition=function(t){return"function"!=typeof t?console.error("Invalid function passed to @flourish/info-popup getLockedPosition"):this._getLockedPosition=t,this},qb.prototype.update=function(t){if(null!==this._state.locked_id&&"none"!=this._state.mode){var e=this._getLockedPosition(this._state.locked_id);e?this.click(e[0],e[1],this._state.locked_id,t):console.warn("@flourish/info-popup: failed to return value from getLockedPosition function")}else this.clickout()},qb.prototype.click=function(t,e,n,r){if("none"!=this._state.mode){var i="popup"==this._state.mode?"popup":"panel";this._checkIfPopupIsEmpty(e,i)?"panel"===i?this.hidePanel():this.hidePopup():(this._point(t),null!=n?(this._state.locked_id=n,Xb(this)):this._state.locked_id=null,"panel"==i?(clearTimeout(this._show_default_content_timer),this.popup.hide(),this._drawPanel(e,r)):"popup"==i&&(this.panel.hide(),this._drawPopup(e,r)))}},qb.prototype.clickout=function(){this._state.locked_id=null,"both"!=this._state.mode&&"panel"!=this._state.mode||(this.popup.draw(),this.popup.hide(),"overlay"!=this._state.panel_position&&this._state.panel_side_fixed?this._showDefaultPanelContent():this.panel.hide()),"popup"==this._state.mode&&(this.panel.hide(),this.popup.draw(),this.popup.hide()),"none"==this._state.mode&&(this.panel.hide(),this.popup.draw(),this.popup.hide())},qb.prototype.touch=function(t,e,n,r){this.mouseover(t,e,r,!0,n)},qb.prototype.mouseover=function(t,e,n,r,i){var o="panel"==this._state.mode?"panel":"popup";if(this._checkIfPopupIsEmpty(e,o,"both"==this._state.mode))"panel"===o?this.hidePanel():this.hidePopup();else{var a=this;if("both"==this._state.mode)if(this._point(t),this._drawPopup(e,n,!0),r?Xb(this):Vb(this),r)a.popup._getElement().querySelector(".flourish-popup-content").onclick=function(){a.click(t,e,i,n)};if("popup"==this._state.mode){if(null!==this._state.locked_id)return;Vb(this),this._point(t),this._drawPopup(e,n)}if("panel"==this._state.mode){if(null!==this._state.locked_id||"overlay"==this._state.panel_position)return;if(!this._state.panel_side_fixed)return;clearTimeout(this._show_default_content_timer),this._point(t),this._drawPanel(e,n)}}},qb.prototype.mouseout=function(){if("both"==this._state.mode&&this.popup.hide(),"popup"==this._state.mode){if(null!==this._state.locked_id)return;this.popup.hide()}if("panel"==this._state.mode){if(null!==this._state.locked_id)return;if("overlay"==this._state.panel_position||!this._state.panel_side_fixed)return;this._showDefaultPanelContent()}},qb.prototype.locked=function(){return this._state.locked_id},qb.prototype.mode=function(){return this._state.mode},qb.prototype.setColumnNames=function(t){return this._column_names=t,this},qb.prototype.hideColumnNames=function(t){return this._column_names_hidden=t,this},qb.prototype.setFormatters=function(t){var e={};for(var n in t)if("function"==typeof t[n])e[n]=t[n];else if(Array.isArray(t[n])){for(var r=[],i=0;i<t[n].length;i++){var o;o="function"==typeof t[n][i]?t[n][i]:ma(t[n][i].output_format_id),r.push(o)}e[n]=r}else e[n]=ma(t[n].output_format_id);return this._formatters=e,this},qb.prototype._showDefaultPanelContent=function(){var t=this;clearTimeout(this._show_default_content_timer),this._show_default_content_timer=setTimeout((function(){t.panel.html(t._state.panel_side_default_content),t._drawPanel()}),100),t._drawPanel()},qb.prototype._checkIfPopupIsEmpty=function(t,e,n){if(this._state.popup_is_custom)return""===("panel"===e?Hb(this,t):Gb(this,t,n)).trim();if(Jb(t[this._title_key]))return!1;for(var r=Object.keys(this._column_names),i=0;i<r.length;i++){var o=r[i];if(!this._column_names_hidden.includes(o)){var a=t[o];if(Array.isArray(a)){for(let t=0;t<a.length;t++)if(Jb(a[t]))return!1}else if(Jb(a))return!1}}return!0},qb.prototype.getAccessiblePopupContent=function(t){return Yb(this,t)},qb.prototype.onPanelClose=function(t){return this._on_panel_close=t,this},qb.prototype._drawPopup=function(t,e,n){return t&&this.popup.html(Gb(this,t,n)),Wb(this),this.popup.draw(),e&&e(this.popup._getElement(),t),this},qb.prototype._drawPanel=function(t,e){return Wb(this),this.panel.open_duration(this._state.panel_open_duration).close_duration(this._state.panel_close_duration).width_overlay(this._state.panel_width_overlay).height_overlay(this._state.panel_height_overlay).vertical_position(this._state.panel_vertical_position).width_side(this._state.panel_width_side).height_side(this._state.panel_height_side).position(this._state.panel_position).max_width(this._state.panel_max_width).max_height(this._state.panel_max_height).closeable("overlay"==this._state.panel_position||!this._state.panel_side_fixed),void 0===t?this.panel.draw():this.panel.html(Hb(this,t)).draw(),e&&e(this.panel._getElement(),t),this},qb.prototype.hidePanel=function(){return this.panel.hide(),this},qb.prototype.hidePopup=function(){return this.popup.hide(),this},qb.prototype.popupDirections=function(t){return t?(this._popup_directions=t,this):this._popup_directions.slice()},qb.prototype.margins=function(){return this.panel.margins()},qb.prototype._getBiggestGap=function(t){var e,n,r=this._popup_container.getBoundingClientRect(),i=0,o={right:(r.width+r.left-(t.width+t.left))/r.width,bottom:(r.height+r.top-(t.height+t.top))/r.height,left:(t.left-r.left)/r.width,top:(t.top-r.top)/r.height},a={right:["left","leftFlexible","topLeft","bottomLeft","bottomFlexible","bottom","topFlexible","top","bottomRight","topRight","rightFlexible","right"],left:["right","rightFlexible","topRight","bottomRight","top","topFlexible","bottom","bottomFlexible","bottomLeft","topLeft","leftFlexible","left"],top:["bottom","bottomFlexible","bottomRight","bottomLeft","rightFlexible","leftFlexible","right","left","topRight","topLeft","topFlexible","top"],bottom:["top","topFlexible","topLeft","topRight","left","right","leftFlexible","rightFlexible","bottomLeft","bottomRight","bottomFlexible","bottom"]};for(var s in o)this._popup_directions.indexOf(s)<0||o[s]>i&&(i=o[s],e=s,n=a[s]);var l=t.left,c=t.top;return"left"==e||"right"==e?c+=.5*t.height:"bottom"==e&&(c+=t.height),"top"==e||"bottom"==e?l+=.5*t.width:"right"==e&&(l+=t.width),{side:e,arrow_directions:n,x:l,y:c}},qb.prototype._point=function(t){var e,n,r=this._popup_directions;if(Array.isArray(t))e=t[0],n=t[1];else{if(!t||!t.getBoundingClientRect)return console.warn("@flourish/info-popup: Invalid positional value passed in point function, should be a coordinates array, or a node. Current value is",t),this;var i=t.getBoundingClientRect(),o=this._getBiggestGap(i);e=o.x,n=o.y,r=o.arrow_directions}return this.panel.point(t),this.popup.directions(r).point(e,n),this},qb.prototype.popupDefaultTemplate=function(t){return null!=t?(this._popup_default_template=t,this):this._popup_default_template},qb.prototype.panelDefaultTemplate=function(t){return null!=t?(this._panel_default_template=t,this):this._panel_default_template},qb.prototype.titleKey=function(t){return null!=t?(this._title_key=t,this):this._title_key},qb.prototype.subtitleKey=function(t){return null!=t?(this._subtitle_key=t,this):this._subtitle_key};var em={};function nm(t,e){var n=t.reduce((function(t,e){var n=function(t){if(!t||!t.geometry||"Feature"===!t.type)return!1;var e=t.geometry.type;return("Polygon"===e||"MultiPolygon"===e)&&e}(e);return"Polygon"===n?t.push(e):"MultiPolygon"===n&&Array.prototype.push.apply(t,e.geometry.coordinates.map((function(t){return{type:"Feature",geometry:{type:"Polygon",coordinates:t}}}))),t}),[]);if(!e)return n;var r=e/Math.pow(6371,2),i=n.reduce((function(t,e){return function(t){return gl.reset(),Qs(t,_l),2*gl}(e)>=r&&t.push(e),t}),[]);return i.length?i:n}var rm=1e-6;class im{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}function om(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}var am=1e-6,sm=Math.PI,lm=sm/2,cm=sm/4,um=2*sm,pm=180/sm,dm=sm/180,fm=Math.abs,hm=Math.atan,gm=Math.atan2,_m=Math.cos,bm=Math.exp,mm=Math.log,ym=Math.pow,vm=Math.sin,wm=Math.sign||function(t){return t>0?1:t<0?-1:0},xm=Math.sqrt,Mm=Math.tan;function km(t){return t>1?lm:t<-1?-lm:Math.asin(t)}function jm(){}function zm(t,e){t&&Am.hasOwnProperty(t.type)&&Am[t.type](t,e)}var Nm={Feature:function(t,e){zm(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)zm(n[r].geometry,e)}},Am={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Im(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Im(n[r],e,0)},Polygon:function(t,e){Cm(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Cm(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)zm(n[r],e)}};function Im(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Cm(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Im(t[n],e,1);e.polygonEnd()}function Dm(t,e){t&&Nm.hasOwnProperty(t.type)?Nm[t.type](t,e):zm(t,e)}function Tm(t){return[gm(t[1],t[0]),km(t[2])]}function Em(t){var e=t[0],n=t[1],r=_m(n);return[r*_m(e),r*vm(e),vm(n)]}function Sm(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Lm(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Om(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Pm(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ym(t){var e=xm(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Fm(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Um(t,e){return[fm(t)>sm?t+Math.round(-t/um)*um:t,e]}function Bm(t){return function(e,n){return[(e+=t)>sm?e-um:e<-sm?e+um:e,n]}}function Rm(t){var e=Bm(t);return e.invert=Bm(-t),e}function Zm(t,e){var n=_m(t),r=vm(t),i=_m(e),o=vm(e);function a(t,e){var a=_m(e),s=_m(t)*a,l=vm(t)*a,c=vm(e),u=c*n+s*r;return[gm(l*i-u*o,s*n-c*r),km(u*i+l*o)]}return a.invert=function(t,e){var a=_m(e),s=_m(t)*a,l=vm(t)*a,c=vm(e),u=c*i-l*o;return[gm(l*i+c*o,s*n+u*r),km(u*n-s*r)]},a}function Gm(t,e){(e=Em(e))[0]-=t,Ym(e);var n=function(t){return t>1?0:t<-1?sm:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+um-am)%um}function Hm(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:jm,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Qm(t,e){return fm(t[0]-e[0])<am&&fm(t[1]-e[1])<am}function $m(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Wm(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Qm(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new $m(r,t,null,!0)),l.push(n.o=new $m(r,null,n,!1)),s.push(n=new $m(a,t,null,!1)),l.push(n.o=new $m(a,null,n,!0))}})),s.length){for(l.sort(e),qm(s),qm(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var c,u,p=s[0];;){for(var d=p,f=!0;d.v;)if((d=d.n)===p)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=c.length;o<a;++o)i.point((u=c[o])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(f)for(c=d.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);i.lineEnd()}}}function qm(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Vm(t){return fm(t[0])<=sm?t[0]:wm(t[0])*((fm(t[0])+sm)%um-sm)}function Xm(t,e,n,r){return function(i){var o,a,s,l=e(i),c=Hm(),u=e(c),p=!1,d={point:f,lineStart:g,lineEnd:_,polygonStart:function(){d.point=b,d.lineStart=m,d.lineEnd=y,a=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=_,a=om(a);var t=function(t,e){var n=Vm(e),r=e[1],i=vm(r),o=[vm(n),-_m(n),0],a=0,s=0,l=new im;1===i?r=lm+am:-1===i&&(r=-lm-am);for(var c=0,u=t.length;c<u;++c)if(d=(p=t[c]).length)for(var p,d,f=p[d-1],h=Vm(f),g=f[1]/2+cm,_=vm(g),b=_m(g),m=0;m<d;++m,h=v,_=x,b=M,f=y){var y=p[m],v=Vm(y),w=y[1]/2+cm,x=vm(w),M=_m(w),k=v-h,j=k>=0?1:-1,z=j*k,N=z>sm,A=_*x;if(l.add(gm(A*j*vm(z),b*M+A*_m(z))),a+=N?k+j*um:k,N^h>=n^v>=n){var I=Lm(Em(f),Em(y));Ym(I);var C=Lm(o,I);Ym(C);var D=(N^k>=0?-1:1)*km(C[2]);(r>D||r===D&&(I[0]||I[1]))&&(s+=N^k>=0?1:-1)}}return(a<-1e-6||a<am&&l<-1e-12)^1&s}(o,r);a.length?(p||(i.polygonStart(),p=!0),Wm(a,Km,t,n,i)):t&&(p||(i.polygonStart(),p=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),p&&(i.polygonEnd(),p=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(e,n){t(e,n)&&i.point(e,n)}function h(t,e){l.point(t,e)}function g(){d.point=h,l.lineStart()}function _(){d.point=f,l.lineEnd()}function b(t,e){s.push([t,e]),u.point(t,e)}function m(){u.lineStart(),s=[]}function y(){b(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,l=u.clean(),d=c.result(),f=d.length;if(s.pop(),o.push(s),s=null,f)if(1&l){if((e=(n=d[0]).length-1)>0){for(p||(i.polygonStart(),p=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter(Jm))}return d}}function Jm(t){return t.length>1}function Km(t,e){return((t=t.x)[0]<0?t[1]-lm-am:lm-t[1])-((e=e.x)[0]<0?e[1]-lm-am:lm-e[1])}Um.invert=Um;var ty=Xm((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?sm:-sm,l=fm(o-n);fm(l-sm)<am?(t.point(n,r=(r+a)/2>0?lm:-lm),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=sm&&(fm(n-i)<am&&(n-=i*am),fm(o-s)<am&&(o-=s*am),r=function(t,e,n,r){var i,o,a=vm(t-n);return fm(a)>am?hm((vm(e)*(o=_m(r))*vm(n)-vm(r)*(i=_m(e))*vm(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*lm,r.point(-sm,i),r.point(0,i),r.point(sm,i),r.point(sm,0),r.point(sm,-i),r.point(0,-i),r.point(-sm,-i),r.point(-sm,0),r.point(-sm,i);else if(fm(t[0]-e[0])>am){var o=t[0]<e[0]?sm:-sm;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-sm,-lm]);function ey(t){var e=_m(t),n=6*dm,r=e>0,i=fm(e)>am;function o(t,n){return _m(t)*_m(n)>e}function a(t,n,r){var i=[1,0,0],o=Lm(Em(t),Em(n)),a=Sm(o,o),s=o[0],l=a-s*s;if(!l)return!r&&t;var c=e*a/l,u=-e*s/l,p=Lm(i,o),d=Pm(i,c);Om(d,Pm(o,u));var f=p,h=Sm(d,f),g=Sm(f,f),_=h*h-g*(Sm(d,d)-1);if(!(_<0)){var b=xm(_),m=Pm(f,(-h-b)/g);if(Om(m,d),m=Tm(m),!r)return m;var y,v=t[0],w=n[0],x=t[1],M=n[1];w<v&&(y=v,v=w,w=y);var k=w-v,j=fm(k-sm)<am;if(!j&&M<x&&(y=x,x=M,M=y),j||k<am?j?x+M>0^m[1]<(fm(m[0]-v)<am?x:M):x<=m[1]&&m[1]<=M:k>sm^(v<=m[0]&&m[0]<=w)){var z=Pm(f,(-h+b)/g);return Om(z,d),[m,Tm(z)]}}}function s(e,n){var i=r?t:sm-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Xm(o,(function(t){var e,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(p,d){var f,h=[p,d],g=o(p,d),_=r?g?0:s(p,d):g?s(p+(p<0?sm:-sm),d):0;if(!e&&(c=l=g)&&t.lineStart(),g!==l&&(!(f=a(e,h))||Qm(e,f)||Qm(h,f))&&(h[2]=1),g!==l)u=0,g?(t.lineStart(),f=a(h,e),t.point(f[0],f[1])):(f=a(e,h),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(i&&e&&r^g){var b;_&n||!(b=a(h,e,!0))||(u=0,r?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!g||e&&Qm(e,h)||t.point(h[0],h[1]),e=h,l=g,n=_},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}}),(function(e,r,i,o){!function(t,e,n,r,i,o){if(n){var a=_m(e),s=vm(e),l=r*n;null==i?(i=e+r*um,o=e-l/2):(i=Gm(a,i),o=Gm(a,o),(r>0?i<o:i>o)&&(i+=r*um));for(var c,u=i;r>0?u>o:u<o;u-=l)c=Tm([a,-s*_m(u),-s*vm(u)]),t.point(c[0],c[1])}}(o,t,n,i,e,r)}),r?[0,-t]:[-sm,t-sm])}var ny=1e9,ry=-ny;function iy(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var u=0,p=0;if(null==i||(u=a(i,s))!==(p=a(o,s))||l(i,o)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==p);else c.point(o[0],o[1])}function a(r,i){return fm(r[0]-t)<am?i>0?0:3:fm(r[0]-n)<am?i>0?2:1:fm(r[1]-e)<am?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,u,p,d,f,h,g,_,b,m,y=a,v=Hm(),w={point:x,lineStart:function(){w.point=M,c&&c.push(u=[]);b=!0,_=!1,h=g=NaN},lineEnd:function(){l&&(M(p,d),f&&_&&v.rejoin(),l.push(v.result()));w.point=x,_&&y.lineEnd()},polygonStart:function(){y=v,l=[],c=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],l=1,u=s.length,p=s[0],d=p[0],f=p[1];l<u;++l)o=d,a=f,d=(p=s[l])[0],f=p[1],a<=r?f>r&&(d-o)*(r-a)>(f-a)*(t-o)&&++e:f<=r&&(d-o)*(r-a)<(f-a)*(t-o)&&--e;return e}(),n=m&&e,i=(l=om(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Wm(l,s,e,o,a),a.polygonEnd());y=a,l=c=u=null}};function x(t,e){i(t,e)&&y.point(t,e)}function M(o,a){var s=i(o,a);if(c&&u.push([o,a]),b)p=o,d=a,f=s,b=!1,s&&(y.lineStart(),y.point(o,a));else if(s&&_)y.point(o,a);else{var l=[h=Math.max(ry,Math.min(ny,h)),g=Math.max(ry,Math.min(ny,g))],v=[o=Math.max(ry,Math.min(ny,o)),a=Math.max(ry,Math.min(ny,a))];!function(t,e,n,r,i,o){var a,s=t[0],l=t[1],c=0,u=1,p=e[0]-s,d=e[1]-l;if(a=n-s,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<u&&(u=a)}else if(p>0){if(a>u)return;a>c&&(c=a)}if(a=i-s,p||!(a<0)){if(a/=p,p<0){if(a>u)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<u&&(u=a)}if(a=r-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=s+c*p,t[1]=l+c*d),u<1&&(e[0]=s+u*p,e[1]=l+u*d),!0}}}}}(l,v,t,e,n,r)?s&&(y.lineStart(),y.point(o,a),m=!1):(_||(y.lineStart(),y.point(l[0],l[1])),y.point(v[0],v[1]),s||y.lineEnd(),m=!1)}h=o,g=a,_=s}return w}}var oy=t=>t,ay=1/0,sy=ay,ly=-ay,cy=ly,uy={point:function(t,e){t<ay&&(ay=t);t>ly&&(ly=t);e<sy&&(sy=e);e>cy&&(cy=e)},lineStart:jm,lineEnd:jm,polygonStart:jm,polygonEnd:jm,result:function(){var t=[[ay,sy],[ly,cy]];return ly=cy=-(sy=ay=1/0),t}};function py(t){return function(e){var n=new dy;for(var r in t)n[r]=t[r];return n.stream=e,n}}function dy(){}function fy(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Dm(n,t.stream(uy)),e(uy.result()),null!=r&&t.clipExtent(r),t}function hy(t,e,n){return fy(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}dy.prototype={constructor:dy,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var gy=_m(30*dm);function _y(t,e){return+e?function(t,e){function n(r,i,o,a,s,l,c,u,p,d,f,h,g,_){var b=c-r,m=u-i,y=b*b+m*m;if(y>4*e&&g--){var v=a+d,w=s+f,x=l+h,M=xm(v*v+w*w+x*x),k=km(x/=M),j=fm(fm(x)-1)<am||fm(o-p)<am?(o+p)/2:gm(w,v),z=t(j,k),N=z[0],A=z[1],I=N-r,C=A-i,D=m*I-b*C;(D*D/y>e||fm((b*I+m*C)/y-.5)>.3||a*d+s*f+l*h<gy)&&(n(r,i,o,a,s,l,N,A,j,v/=M,w/=M,x,g,_),_.point(N,A),n(N,A,j,v,w,x,c,u,p,d,f,h,g,_))}}return function(e){var r,i,o,a,s,l,c,u,p,d,f,h,g={point:_,lineStart:b,lineEnd:y,polygonStart:function(){e.polygonStart(),g.lineStart=v},polygonEnd:function(){e.polygonEnd(),g.lineStart=b}};function _(n,r){n=t(n,r),e.point(n[0],n[1])}function b(){u=NaN,g.point=m,e.lineStart()}function m(r,i){var o=Em([r,i]),a=t(r,i);n(u,p,c,d,f,h,u=a[0],p=a[1],c=r,d=o[0],f=o[1],h=o[2],16,e),e.point(u,p)}function y(){g.point=_,e.lineEnd()}function v(){b(),g.point=w,g.lineEnd=x}function w(t,e){m(r=t,e),i=u,o=p,a=d,s=f,l=h,g.point=m}function x(){n(u,p,c,d,f,h,i,o,r,a,s,l,16,e),g.lineEnd=y,y()}return g}}(t,e):function(t){return py({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var by=py({point:function(t,e){this.stream.point(t*dm,e*dm)}});function my(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=_m(o),s=vm(o),l=a*t,c=s*t,u=a/t,p=s/t,d=(s*n-a*e)/t,f=(s*e+a*n)/t;function h(t,o){return[l*(t*=r)-c*(o*=i)+e,n-c*t-l*o]}return h.invert=function(t,e){return[r*(u*t-p*e+d),i*(f-p*t-u*e)]},h}function yy(t){var e,n,r,i,o,a,s,l,c,u,p=150,d=480,f=250,h=0,g=0,_=0,b=0,m=0,y=0,v=1,w=1,x=null,M=ty,k=null,j=oy,z=.5;function N(t){return l(t[0]*dm,t[1]*dm)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*pm,t[1]*pm]}function I(){var t=my(p,0,0,v,w,y).apply(null,e(h,g)),r=my(p,d-t[0],f-t[1],v,w,y);return n=function(t,e,n){return(t%=um)?e||n?Fm(Rm(t),Zm(e,n)):Rm(t):e||n?Zm(e,n):Um}(_,b,m),s=Fm(e,r),l=Fm(n,s),a=_y(s,z),C()}function C(){return c=u=null,N}return N.stream=function(t){return c&&u===t?c:c=by(function(t){return py({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(M(a(j(u=t)))))},N.preclip=function(t){return arguments.length?(M=t,x=void 0,C()):M},N.postclip=function(t){return arguments.length?(j=t,k=r=i=o=null,C()):j},N.clipAngle=function(t){return arguments.length?(M=+t?ey(x=t*dm):(x=null,ty),C()):x*pm},N.clipExtent=function(t){return arguments.length?(j=null==t?(k=r=i=o=null,oy):iy(k=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==k?null:[[k,r],[i,o]]},N.scale=function(t){return arguments.length?(p=+t,I()):p},N.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],I()):[d,f]},N.center=function(t){return arguments.length?(h=t[0]%360*dm,g=t[1]%360*dm,I()):[h*pm,g*pm]},N.rotate=function(t){return arguments.length?(_=t[0]%360*dm,b=t[1]%360*dm,m=t.length>2?t[2]%360*dm:0,I()):[_*pm,b*pm,m*pm]},N.angle=function(t){return arguments.length?(y=t%360*dm,I()):y*pm},N.reflectX=function(t){return arguments.length?(v=t?-1:1,I()):v<0},N.reflectY=function(t){return arguments.length?(w=t?-1:1,I()):w<0},N.precision=function(t){return arguments.length?(a=_y(s,z=t*t),C()):xm(z)},N.fitExtent=function(t,e){return hy(N,t,e)},N.fitSize=function(t,e){return function(t,e,n){return hy(t,[[0,0],e],n)}(N,t,e)},N.fitWidth=function(t,e){return function(t,e,n){return fy(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}(N,t,e)},N.fitHeight=function(t,e){return function(t,e,n){return fy(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}(N,t,e)},function(){return e=t.apply(this,arguments),N.invert=e.invert&&A,I()}}function vy(t,e){return[t,mm(Mm((lm+e)/2))]}function wy(t){return Mm((lm+t)/2)}function xy(t,e){var n=_m(t),r=t===e?vm(t):mm(n/_m(e))/mm(wy(e)/wy(t)),i=n*ym(wy(t),r)/r;if(!r)return vy;function o(t,e){i>0?e<-lm+am&&(e=-lm+am):e>lm-am&&(e=lm-am);var n=i/ym(wy(e),r);return[n*vm(r*t),i-n*_m(r*t)]}return o.invert=function(t,e){var n=i-e,o=wm(r)*xm(t*t+n*n),a=gm(t,fm(n))*wm(n);return n*r<0&&(a-=sm*wm(t)*wm(n)),[a/r,2*hm(ym(i/o,1/r))-lm]},o}function My(){return function(t){var e=0,n=sm/3,r=yy(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*dm,n=t[1]*dm):[e*pm,n*pm]},i}(xy).scale(109.5).parallels([30,30])}function ky(){}vy.invert=function(t,e){return[t,2*hm(bm(e))-lm]};var jy=1/0,zy=jy,Ny=-jy,Ay=Ny,Iy={point:function(t,e){t<jy&&(jy=t);t>Ny&&(Ny=t);e<zy&&(zy=e);e>Ay&&(Ay=e)},lineStart:ky,lineEnd:ky,polygonStart:ky,polygonEnd:ky,result:function(){var t=[[jy,zy],[Ny,Ay]];return Ny=Ay=-(zy=jy=1/0),t}};function Cy(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Dm(n,t.stream(Iy));var a=Iy.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),l=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([l,c])}function Dy(t,e,n){return Cy(t,[[0,0],e],n)}const Ty=Math.PI,Ey=2*Ty,Sy=1e-6,Ly=Ey-Sy;function Oy(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Py(){return new Oy}Oy.prototype=Py.prototype={constructor:Oy,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,p=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(p>Sy)if(Math.abs(u*s-l*c)>Sy&&i){var d=n-o,f=r-a,h=s*s+l*l,g=d*d+f*f,_=Math.sqrt(h),b=Math.sqrt(p),m=i*Math.tan((Ty-Math.acos((h+p-g)/(2*_*b)))/2),y=m/b,v=m/_;Math.abs(y-1)>Sy&&(this._+="L"+(t+y*c)+","+(e+y*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*f)+","+(this._x1=t+v*s)+","+(this._y1=e+v*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,p=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Sy||Math.abs(this._y1-c)>Sy)&&(this._+="L"+l+","+c),n&&(p<0&&(p=p%Ey+Ey),p>Ly?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):p>Sy&&(this._+="A"+n+","+n+",0,"+ +(p>=Ty)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Yy=1e-6;var Fy,Uy,By,Ry,Zy={"Albers (30Â° & 45Â°)":{p:ip,parallels:[30,45]},"Albers USA":{p:function(){var t,e,n,r,i,o,a,s=ip(),l=rp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=rp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u=rp().rotate([66,0]).center([0,18]).parallels([8,18]),p={point:function(t,e){a=[t,e]}};function d(t){var e=t[0],s=t[1];return a=null,n.point(e,s),a||(r.point(e,s),a)||(i.point(e,s),a)||(o.point(e,s),a)}function f(){return t=e=null,d}return d.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:i>=.204&&i<.234&&r>=.32&&r<.38?u:s).invert(t)},d.stream=function(n){return t&&e===n?t:(r=[s.stream(e=n),l.stream(n),c.stream(n),u.stream(n)],t={point(t,e){for(const n of r)n.point(t,e)},sphere(){for(const t of r)t.sphere()},lineStart(){for(const t of r)t.lineStart()},lineEnd(){for(const t of r)t.lineEnd()},polygonStart(){for(const t of r)t.polygonStart()},polygonEnd(){for(const t of r)t.polygonEnd()}});var r},d.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),c.precision(t),u.precision(t),f()):s.precision()},d.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),c.scale(t),u.scale(t),d.translate(s.translate())):s.scale()},d.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),a=+t[0],d=+t[1];return n=s.translate(t).clipExtent([[a-.455*e,d-.238*e],[a+.455*e,d+.238*e]]).stream(p),r=l.translate([a-.307*e,d+.201*e]).clipExtent([[a-.425*e+Yy,d+.12*e+Yy],[a-.214*e-Yy,d+.234*e-Yy]]).stream(p),i=c.translate([a-.205*e,d+.212*e]).clipExtent([[a-.214*e+Yy,d+.166*e+Yy],[a-.115*e-Yy,d+.234*e-Yy]]).stream(p),o=u.translate([a+.35*e,d+.224*e]).clipExtent([[a+.32*e,d+.204*e],[a+.38*e,d+.234*e]]).stream(p),f()},d.fitExtent=function(t,e){return Hu(d,t,e)},d.fitSize=function(t,e){return Qu(d,t,e)},d.fitWidth=function(t,e){return $u(d,t,e)},d.fitHeight=function(t,e){return Wu(d,t,e)},d.scale(1070)},fixed_bounds:[[172.49482,18],[-72,71.40767]]},August:{p:function(){return tp(Rp).scale(66.1603)}},"Azimuthal Equidistant":{p:function(){return tp(lp).scale(79.4188).clipAngle(179.999)}},Aitoff:{p:function(){return tp(Bp).scale(152.63)}},Baker:{p:function(){return tp(Hp).scale(112.314)}},Boggs:{p:function(){return tp(Kp).scale(160.857)}},"Braun's Stereographic":{p:function(){return td(ad).scale(124.75)}},Bromley:{p:function(){return tp(nd).scale(152.63)}},"Craster Parabolic":{p:function(){return tp(id).scale(156.19)}},"Eckert I":{p:function(){return tp(sd).scale(165.664)}},"Eckert II":{p:function(){return tp(ld).scale(165.664)}},"Eckert III":{p:function(){return tp(cd).scale(180.739)}},"Eckert IV":{p:function(){return tp(ud).scale(180.739)}},"Eckert V":{p:function(){return tp(pd).scale(173.044)}},"Eckert VI":{p:function(){return tp(dd).scale(173.044)}},Equirectangular:{p:function(){return tp(cp).scale(152.63)}},Eisenlohr:{p:function(){return tp(hd).scale(62.5271)}},Fahey:{p:function(){return tp(_d).scale(137.152)}},Foucaut:{p:function(){return tp(bd).scale(135.264)}},"Ginzburg IV":{p:function(){return tp(yd).scale(149.995)}},"Ginzburg V":{p:function(){return tp(vd).scale(153.93)}},"Ginzburg VI":{p:function(){return tp(wd).scale(130.945)}},"Ginzburg VIII":{p:function(){return tp(xd).scale(131.747)}},"Ginzburg IX":{p:function(){return tp(Md).scale(131.087)}},Gnomonic:{p:function(){return tp(up).scale(144.049).clipAngle(60)}},Hammer:{p:function(){var t=2,e=ep(Qp),n=e(t);return n.coefficient=function(n){return arguments.length?e(t=+n):t},n.scale(169.529)}},"Hobo-Dyer":{p:function(){return td(od).parallel(38.58).scale(195.044)},parallel:37.5},"Kavrayskiy VII":{p:function(){return tp(kd).scale(158.837)}},"McBrydeâ€“Thomas Flat-Polar Parabolic":{p:function(){return tp(Ad).scale(164.859)}},"McBrydeâ€“Thomas Flat-Polar Quartic":{p:function(){return tp(Id).scale(188.209)}},"McBrydeâ€“Thomas Flat-Polar Sinusoidal":{p:function(){return tp(Cd).scale(166.518)}},"Miller (modified Mercator)":{p:function(){return tp(jd).scale(108.318)}},Orthographic:{p:function(){return tp(dp).scale(249.5).clipAngle(90.000001)},clip_angle:90},Mollweide:{p:function(){return tp(Vp).scale(169.529)}},"Natural Earth I":{p:function(){return tp(pp).scale(175.295)}},"Natural Earth II":{p:function(){return tp(Dd).scale(175.295)}},"Portugal composite":{p:function(){var t,e,n,r,i,o,a=My().rotate([10,-39.3]).parallels([0,60]),s=My().rotate([17,-32.7]).parallels([0,60]),l=My().rotate([27.8,-38.6]).parallels([0,60]),c={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function p(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.0093&&i<.03678&&r>=-.03875&&r<-.0116?s:i>=-.0412&&i<.0091&&r>=-.07782&&r<-.01166?l:a).invert(t)},u.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),l.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),l.precision(t),p()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(t),l.scale(.6*t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.0115*e,u-.1138*e],[o+.2105*e,u+.0673*e]]).stream(c),r=s.translate([o-.0265*e,u+.025*e]).clipExtent([[o-.0388*e+rm,u+.0093*e+rm],[o-.0116*e-rm,u+.0368*e-rm]]).stream(c),i=l.translate([o-.045*e,u+-.02*e]).clipExtent([[o-.0778*e+rm,u-.0413*e+rm],[o-.0117*e-rm,u+.0091*e-rm]]).stream(c),p()},u.fitExtent=function(t,e){return Cy(u,t,e)},u.fitSize=function(t,e){return Dy(u,t,e)},u.drawCompositionBorders=function(t){var e=a([-12.8351,38.7113]),n=a([-10.8482,38.7633]),r=a([-10.8181,37.2072]),i=a([-12.7345,37.1573]),o=a([-16.0753,41.4436]),s=a([-10.9168,41.6861]),l=a([-10.8557,38.7747]),c=a([-15.6728,38.5505]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(l[0],l[1]),t.lineTo(l[0],l[1]),t.lineTo(c[0],c[1]),t.closePath()},u.getCompositionBorders=function(){var t=Py();return this.drawCompositionBorders(t),t.toString()},u.scale(4200)},fixed_bounds:[[-35,36.5],[-6.5,42]]},Robinson:{p:function(){return tp(Zd).scale(152.63)}},Sinusoidal:{p:function(){return tp(ed).scale(152.63)}},"Spain composite":{p:function(){var t,e,n,r,i,o=My().rotate([5,-38.6]).parallels([0,60]),a=My().rotate([5,-38.6]).parallels([0,60]),s={point:function(t,e){i=[t,e]}};function l(t){var e=t[0],o=t[1];return i=null,n.point(e,o),i||(r.point(e,o),i)}function c(){return t=e=null,l}return l.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.05346&&i<.0897&&r>=-.13388&&r<-.0322?a:o).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[o.stream(e=n),a.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),c()):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),a.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),i=+t[0],l=+t[1];return n=o.translate(t).clipExtent([[i-.06857*e,l-.1288*e],[i+.13249*e,l+.06*e]]).stream(s),r=a.translate([i+.1*e,l-.094*e]).clipExtent([[i-.1331*e+rm,l+.053457*e+rm],[i-.0354*e-rm,l+.08969*e-rm]]).stream(s),c()},l.fitExtent=function(t,e){return Cy(l,t,e)},l.fitSize=function(t,e){return Dy(l,t,e)},l.drawCompositionBorders=function(t){var e=o([-14.034675,34.965007]),n=o([-7.4208899,35.536988]),r=o([-7.3148275,33.54359]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1])},l.getCompositionBorders=function(){var t=Py();return this.drawCompositionBorders(t),t.toString()},l.scale(2700)},fixed_bounds:[[-19.207933,27.323],[3.863356,43.413049]]},Stereographic:{p:function(){return tp(fp).scale(250).clipAngle(142)}},"Wagner IV":{p:function(){return tp(lf).scale(176.84)}},"Wagner VI":{p:function(){return tp(cf).scale(152.63)}},"Winkel Tripel":{p:function(){return tp(uf).scale(158.837)}}},Gy=tm(),Hy=1/960,Qy=1,$y=Object.freeze(["angle","center","clipAngle","rotate","parallels"]);function Wy(t){return void 0===t?null:this}function qy(){if(Gy("choropleth_data",HA),Gy("fixed_height",Flourish.fixed_height),Gy("window_height",window.innerHeight),Gy("projection_name",e.projection),Gy("width",_D.getPrimaryWidth()),Gy("pixel_ratio",window.devicePixelRatio),Gy("fit",e.fit),Gy("centering",e.centering),Gy("longitude",e.longitude),Gy("latitude",e.latitude),Gy("roll",e.roll),Gy("padding_top_decimal",e.padding_top/100),Gy("padding_bottom_decimal",e.padding_bottom/100),Gy("padding_left_decimal",e.padding_left/100),Gy("padding_right_decimal",e.padding_right/100),Gy("zoom",e.zoom),Gy("aspect",e.aspect),Gy("min_area",e.min_area),Gy("include_lines",e.include_lines),!Gy())return!1;let t={type:"FeatureCollection"};Gy.include_lines?t.features=HA.properties.unprojected_feature_collection.features.concat(VA.properties.unprojected_feature_collection.features):t.features=HA.properties.unprojected_feature_collection.features.slice();var n,r,i=Zy[Gy.projection_name],o=!!i.fixed_bounds;if(n=i.p,r=n().precision(.3),$y.forEach((function(t){r[t]||(r[t]=Wy.bind(r))})),r.center([0,0]).rotate([0,0,0]),Fy=r,i.clip_angle&&Fy.clipAngle(i.clip_angle),i.parallel&&Fy.parallel(i.parallel),i.parallels&&Fy.parallels(i.parallels),"advanced"===Gy.fit)"rotate"===Gy.centering&&Fy.rotate([-Gy.longitude,-Gy.latitude,Gy.roll]);else if("world"===Gy.fit)Fy.rotate([-Gy.longitude,0,0]);else{var a=function(t){Js=Ks=tl=el=nl=rl=il=ol=al=sl=ll=0,Qs(t,Al);var e=al,n=sl,r=ll,i=e*e+n*n+r*r;return i<Ms&&(e=rl,n=il,r=ol,Ks<xs&&(e=tl,n=el,r=nl),(i=e*e+n*n+r*r)<Ms)?[NaN,NaN]:[Ts(n,e)*As,Fs(r/Ps(i))*As]}(t);Fy.rotate([-a[0],i.clip_angle?-a[1]:0,0])}var s,l,c=Bu(Fy),u={type:"Sphere"};o?u=function(t){var e=t[0][0],n=t[0][1],r=t[1][0],i=t[1][1];return{type:"Polygon",coordinates:[[[e,n],[e,i],[r,i],[r,n],[e,n]]]}}(i.fixed_bounds):"map"===Gy.fit&&t.features.length&&(Gy.min_area?(s=t,l=Gy.min_area,u={type:"FeatureCollection",features:nm(s.features,l)}):u=t);var p=c.bounds(u),d="advanced"===Gy.fit&&Gy.aspect&&!o?Gy.aspect:function(t){return(t[1][0]-t[0][0])/(t[1][1]-t[0][1])}(p),f=(Uy=Gy.width)*Gy.padding_top_decimal,h=Uy*Gy.padding_bottom_decimal,g=Uy*Gy.padding_left_decimal,_=Uy*Gy.padding_right_decimal;Flourish.fixed_height?By=Math.max(_D.getPrimaryHeight(),1):By=(Uy-g-_)/d+f+h;return Fy.fitExtent([[g,f],[Uy-_,By-h]],u),Qy=Uy*Hy,Ry=Gy.pixel_ratio,o||"advanced"!==Gy.fit||("center"===Gy.centering&&Fy.center([Gy.longitude,Gy.latitude]).angle(Gy.roll),Gy.zoom&&Fy.scale(Fy.scale()*Gy.zoom)),!0}function Vy(){kh.preventDefault(),kh.stopImmediatePropagation()}function Xy(t){return function(){return t}}function Jy(t,e,n){this.target=t,this.type=e,this.transform=n}function Ky(t,e,n){this.k=t,this.x=e,this.y=n}window.getLatLngPosition=function(t){let{lat:e,lng:n}=t;return Fy([n,e])},Ky.prototype={constructor:Ky,scale:function(t){return 1===t?this:new Ky(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ky(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tv=new Ky(1,0,0);function ev(){kh.stopImmediatePropagation()}function nv(){kh.preventDefault(),kh.stopImmediatePropagation()}function rv(){return!kh.button}function iv(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function ov(){return this.__zoom||tv}function av(){return-kh.deltaY*(kh.deltaMode?120:1)/500}function sv(){return"ontouchstart"in this}function lv(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function cv(){var t,e,n=rv,r=iv,i=lv,o=av,a=sv,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=K_,p=[],d=ag("start","zoom","end"),f=0;function h(t){t.property("__zoom",ov).on("wheel.zoom",w).on("mousedown.zoom",x).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new Ky(e,t.x,t.y)}function _(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Ky(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,e,n){t.on("start.zoom",(function(){y(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){y(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=y(t,i),a=r.apply(t,i),s=n||b(a),l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,p="function"==typeof e?e.apply(t,i):e,d=u(c.invert(s).concat(l/c.k),p.invert(s).concat(l/p.k));return function(t){if(1===t)t=p;else{var e=d(t),n=l/e[2];t=new Ky(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function y(t,e){for(var n,r=0,i=p.length;r<i;++r)if((n=p[r]).that===t)return n;return new v(t,e)}function v(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=r.apply(t,e)}function w(){if(n.apply(this,arguments)){var t=y(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=Yh(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],_g(this),t.start()}nv(),t.wheel=setTimeout((function(){t.wheel=null,t.end()}),150),t.zoom("mouse",i(_(g(e,r),t.mouse[0],t.mouse[1]),t.extent,l))}}function x(){if(!e&&n.apply(this,arguments)){var t=y(this,arguments),r=Lh(kh.view).on("mousemove.zoom",(function(){if(nv(),!t.moved){var e=kh.clientX-a,n=kh.clientY-s;t.moved=e*e+n*n>f}t.zoom("mouse",i(_(t.that.__zoom,t.mouse[0]=Yh(t.that),t.mouse[1]),t.extent,l))}),!0).on("mouseup.zoom",(function(){r.on("mousemove.zoom mouseup.zoom",null),function(t,e){var n=t.document.documentElement,r=Lh(t).on("dragstart.drag",null);e&&(r.on("click.drag",Vy,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(kh.view,t.moved),nv(),t.end()}),!0),o=Yh(this),a=kh.clientX,s=kh.clientY;!function(t){var e=t.document.documentElement,n=Lh(t).on("dragstart.drag",Vy,!0);"onselectstart"in e?n.on("selectstart.drag",Vy,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(kh.view),ev(),t.mouse=[o,this.__zoom.invert(o)],_g(this),t.start()}}function M(){if(n.apply(this,arguments)){var t=this.__zoom,e=Yh(this),o=t.invert(e),a=t.k*(kh.shiftKey?.5:2),s=i(_(g(t,a),e,o),r.apply(this,arguments),l);nv(),c>0?Lh(this).transition().duration(c).call(m,s,e):Lh(this).call(h.transform,s)}}function k(){if(n.apply(this,arguments)){var e,r,i,o,a=y(this,arguments),s=kh.touches,l=s.length;for(ev(),r=0;r<l;++r)o=[o=Fh(this,s,(i=s[r]).identifier),this.__zoom.invert(o),i.identifier],a.touch0?a.touch1||(a.touch1=o):(a.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!a.touch1))return a.end(),void((o=Lh(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout((function(){t=null}),500),_g(this),a.start())}}function j(){if(p.length){var e,n,r,o,a=y(this,arguments),s=kh.changedTouches,c=s.length;for(nv(),t&&(t=clearTimeout(t)),e=0;e<c;++e)r=Fh(this,s,(n=s[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],d=a.touch0[1],f=a.touch1[0],h=a.touch1[1],b=(b=f[0]-u[0])*b+(b=f[1]-u[1])*b,m=(m=h[0]-d[0])*m+(m=h[1]-d[1])*m;n=g(n,Math.sqrt(b/m)),r=[(u[0]+f[0])/2,(u[1]+f[1])/2],o=[(d[0]+h[0])/2,(d[1]+h[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(_(n,r,o),a.extent,l))}}function z(){var t,n,r=y(this,arguments),i=kh.changedTouches,o=i.length;for(ev(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return h.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",ov),t!==n?m(t,e):n.interrupt().each((function(){y(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},h.scaleBy=function(t,e){h.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}))},h.scaleTo=function(t,e){h.transform(t,(function(){var t=r.apply(this,arguments),n=this.__zoom,o=b(t),a=n.invert(o),s="function"==typeof e?e.apply(this,arguments):e;return i(_(g(n,s),o,a),t,l)}))},h.translateBy=function(t,e,n){h.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),l)}))},h.translateTo=function(t,e,n){h.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=b(t);return i(tv.translate(a[0],a[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}))},v.prototype={start:function(){return 1==++this.active&&(this.index=p.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(p.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){!function(t,e,n,r){var i=kh;t.sourceEvent=kh,kh=t;try{return e.apply(n,r)}finally{kh=i}}(new Jy(h,t,this.that.__zoom),d.apply,d,[t,this.that,this.args])}},h.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:Xy(+t),h):o},h.filter=function(t){return arguments.length?(n="function"==typeof t?t:Xy(!!t),h):n},h.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Xy(!!t),h):a},h.extent=function(t){return arguments.length?(r="function"==typeof t?t:Xy([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),h):r},h.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],h):[s[0],s[1]]},h.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],h):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},h.constrain=function(t){return arguments.length?(i=t,h):i},h.duration=function(t){return arguments.length?(c=+t,h):c},h.interpolate=function(t){return arguments.length?(u=t,h):u},h.on=function(){var t=d.on.apply(d,arguments);return t===d?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}Ky.prototype;const uv=pv("(prefers-reduced-motion: reduce)");function pv(t){if("function"!=typeof window.matchMedia)return()=>!1;const e=window.matchMedia(t);let n=e.matches;return e.addEventListener("change",(t=>{n=t.matches}),!1),function(){return n}}var dv,fv;function hv(){var t=null;if(!e.hovered_feature)return t;var n,r=e.hovered_feature.split("-"),i=r[0],o=r[1];return"points"===i?n=qA:"regions"===i&&(n=QA),n&&(t=n.get(o)||null),t}function gv(){fv=em.regions.metadata.value[xD.index()],function(){var t=[];e.map_show&&dv&&e.legend_map_show&&"string"==fv.type&&(t=dv.domain),t.length>100&&(t=[]);var n=0===t.length||!e.map_show||!e.legend_map_show;$D.data(t,dv).visible(!n)}(),function(){var t=dv?dv.domain.slice().sort(Kl):[0,0],n=isNaN(t[0])||isNaN(t[1]),r=!e.map_show||!dv||!e.legend_map_show||"number"!=fv.type||n;if(r)WD.visible(!1);else{var i=null,o=hv();o&&o.properties.source===HA.properties.source&&(i=o.properties.value[xD.index()]);var a=r?t=>t:mD(fv.output_format_id);WD.data(t,dv).format(a).visible(!0).markerValue(void 0!==i?i:null)}}()}function _v(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function bv(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}pv("(prefers-color-scheme: dark)");var mv=Array.prototype,yv=mv.map,vv=mv.slice;function wv(t){return+t}var xv=[0,1];function Mv(t){return t}function kv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function jv(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function zv(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=kv(i,r),o=n(a,o)):(r=kv(r,i),o=n(o,a)),function(t){return o(r(t))}}function Nv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=kv(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=rc(t,e,1,r)-1;return o[n](i[n](e))}}function Av(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Iv(){var t,e,n,r,i,o,a=xv,s=xv,l=F_,c=Mv;function u(){return r=Math.min(a.length,s.length)>2?Nv:zv,i=o=null,p}function p(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return p.invert=function(n){return c(e((o||(o=r(s,a.map(t),S_)))(n)))},p.domain=function(t){return arguments.length?(a=yv.call(t,wv),c===Mv||(c=jv(a)),u()):a.slice()},p.range=function(t){return arguments.length?(s=vv.call(t),u()):s.slice()},p.rangeRound=function(t){return s=vv.call(t),l=U_,u()},p.clamp=function(t){return arguments.length?(c=t?jv(a):Mv,p):c!==Mv},p.interpolate=function(t){return arguments.length?(l=t,u()):l},p.unknown=function(t){return arguments.length?(n=t,p):n},function(n,r){return t=n,e=r,u()}}function Cv(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ac?i*=10:o>=sc?i*=5:o>=lc&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Fo(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Oo(e)/3)))-Oo(Math.abs(t)))}(o,a))||(r.precision=i),Qo(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Oo(e)-Oo(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Oo(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Ho(r)}function Dv(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=cc(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Cv(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),(r=cc(s,l,n))>0?r=cc(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=cc(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,e(i)),t},t}function Tv(){var t=function(t,e){return Iv()(t,e)}(Mv,Mv);return t.copy=function(){return Av(t,Tv())},_v.apply(t,arguments),Dv(t)}function Ev(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Sv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Lv(t){return t<0?-t*t:t*t}function Ov(t){var e=t(Mv,Mv),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(Mv,Mv):.5===n?t(Sv,Lv):t(Ev(n),Ev(1/n)):n},Dv(e)}function Pv(){var t=Ov(Iv());return t.copy=function(){return Av(t,Pv()).exponent(t.exponent())},_v.apply(t,arguments),t}function Yv(){return Pv.apply(null,arguments).exponent(.5)}function Fv(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=uc(e,t/i);return o}function o(e){return isNaN(e=+e)?t:n[rc(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,o=t.length;r<o;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(Kl),i()},o.range=function(t){return arguments.length?(n=vv.call(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return Fv().domain(e).range(n).unknown(t)},_v.apply(o,arguments)}function Uv(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return e<=e?o[rc(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=vv.call(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Uv().domain([e,n]).range(o).unknown(t)},_v.apply(Dv(a),arguments)}function Bv(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[rc(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=vv.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=vv.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Bv().domain(e).range(n).unknown(t)},_v.apply(i,arguments)}function Rv(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Zv(){var t=Dv(function(){var t,e,n,r,i,o=0,a=1,s=Mv,l=!1;function c(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return c.domain=function(i){return arguments.length?(t=r(o=+i[0]),e=r(a=+i[1]),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}()(Mv));return t.copy=function(){return Rv(t,Zv())},bv.apply(t,arguments)}function Gv(){var t=Dv(function(){var t,e,n,r,i,o,a,s=0,l=.5,c=1,u=Mv,p=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?r:i),u(p?Math.max(0,Math.min(1,t)):t))}return d.domain=function(a){return arguments.length?(t=o(s=+a[0]),e=o(l=+a[1]),n=o(c=+a[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d):[s,l,c]},d.clamp=function(t){return arguments.length?(p=!!t,d):p},d.interpolator=function(t){return arguments.length?(u=t,d):u},d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(l),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d}}()(Mv));return t.copy=function(){return Rv(t,Gv())},bv.apply(t,arguments)}var Hv,Qv="@Â£%$$%$%@$^",$v=!1,Wv=e.legend_categorical_points_interaction,qv="";"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var t=this;return{contains:function(e){return-1!==t.className.baseVal.split(" ").indexOf(e)},add:function(e){return t.setAttribute("class",(t.getAttribute("class")||"")+" "+e)},remove:function(e){var n=t.getAttribute("class").replace(new RegExp("(\\s|^)".concat(e,"(\\s|$)"),"g"),"$2");t.classList.contains(e)&&t.setAttribute("class",n)},toggle:function(t){this.contains(t)?this.remove(t):this.add(t)}}}});!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}('body.fl-cursor-custom,body.fl-cursor-custom *{cursor:none!important}body.fl-cursor-pointer,body.fl-cursor-pointer *{cursor:pointer!important}body.fl-cursor-default .fl-annotations .fl-annotations-cursor,body.fl-cursor-pointer .fl-annotations .fl-annotations-cursor{visibility:hidden}.fl-annotations{position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,0);cursor:pointer;-webkit-user-select:none!important;user-select:none!important;transition:opacity .25s}.fl-annotations,.fl-annotations.is-dragging,.fl-annotations.is-dragging *{pointer-events:none}.flourish-popup{z-index:100000}.fl-project-editor{font-family:Canva Sans Variable,sans-serif;color:#333;margin:0;font-size:16px;height:100%;-webkit-font-smoothing:antialiased}.fl-project-editor *{box-sizing:border-box}.fl-project-editor .no-select{-webkit-user-select:none;user-select:none}.fl-project-editor h1,.fl-project-editor h2,.fl-project-editor h3,.fl-project-editor h4,.fl-project-editor p{margin:0;font-weight:400}.fl-project-editor input,.fl-project-editor select,.fl-project-editor textarea{font-family:Canva Sans Variable,sans-serif}.fl-project-editor a:link,.fl-project-editor a:visited{color:inherit;text-decoration:none}.fl-project-editor a:active,.fl-project-editor a:hover{opacity:.75}.fl-project-editor header{display:block;position:absolute;top:0;left:0;width:100%}.fl-project-editor main{display:block;position:absolute;top:80px;left:0;width:100%;height:calc(100vh - 80px);overflow-y:auto;transition:height .5s ease,top .5s ease}@media (min-width:420px){.fl-project-editor main{top:92px;height:calc(100vh - 92px)}}.fl-project-editor .hide-editor-bar main{top:50px;height:calc(100vh - 50px)}@media (min-width:420px){.fl-project-editor .hide-editor-bar main{top:62px;height:calc(100vh - 62px)}}.fl-project-editor .user-nav{float:right;padding-top:0;display:none}@media (min-width:820px){.fl-project-editor .user-nav{display:block;margin-top:13px;height:36px}.fl-project-editor .user-nav .dropdown-head #current-picture{height:36px;width:36px;border-radius:9999px;margin-left:10px}.fl-project-editor .user-nav .dropdown-list{left:auto;right:-5px;margin-top:-5px}}.fl-project-editor .visualisation-editor{overflow-x:hidden}.fl-project-editor .visualisation-editor .template-chooser.visible+.tab-panes{display:none}.fl-project-editor .visualisation-editor .tab-panes{height:100%;width:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation,.fl-project-editor .visualisation-editor .tab-panes .row-inner,.fl-project-editor .visualisation-editor .tab-panes .row.editor,.fl-project-editor .visualisation-editor .tab-panes .tab-pane{height:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{position:relative}@media (min-width:820px){.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{min-height:100%;padding-bottom:40px}}.fl-project-editor .visualisation-editor .tab-panes .tab-pane .side-panel{display:none}.fl-project-editor .visualisation-editor .tab-panes .tab-pane.active .side-panel{display:block}.fl-project-editor .visualisation-editor .tab-panes .tab-pane:not(.active) #spreadsheet-container input{display:none}.fl-project-editor .story-editor,.fl-project-editor .visualisation-editor{background:#f9f9f9}.fl-project-editor .row.editor{padding:0}.no-template .fl-project-editor .row.editor{display:none}.fl-project-editor .row.editor .row-inner{max-width:none;padding:0 10px}.fl-project-editor .row.editor #visibility-status .label,.fl-project-editor .row.editor .blueprint-tag{display:inline-block;margin-left:2px}.fl-project-editor .row.editor #story,.fl-project-editor .row.editor #visualisation{height:100%;width:100%;transition:height .5s ease;position:relative}.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{width:100%;height:auto;overflow:visible;transition:width .5s ease;position:relative;text-align:center}.fl-project-editor .row.editor #story .editor-core .preview-holder,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder{width:100%;height:100%;padding-right:4px;min-width:100px;min-height:100px;transition:margin-left .5s ease,width .5s ease,opacity 1s;position:relative;background:#fff;display:inline-block;box-shadow:0 0 2px rgba(0,0,0,.2)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview{text-align:right;border:none;background:#fff;display:block;width:100%}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{width:100vw;border:none;position:relative}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview{height:100%;max-height:100%;overflow-y:auto;min-width:100px}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{height:100%;width:100%;min-width:100px;border:none;flex:1}.fl-project-editor .row.editor #story .editor-core .preview-holder .loading-spinner,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .loading-spinner{position:absolute;left:50%;top:50%;width:27px;height:27px;opacity:0;pointer-events:none;z-index:5;margin-top:-13.5px;margin-left:-13.5px}.fl-project-editor .row.editor #story .editor-core .preview-holder .unsupported-notice,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .unsupported-notice{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#f9f9f9;padding:20px;z-index:10}.fl-project-editor .row.editor #story .editor-core #resize-overlay,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:none}.fl-project-editor .row.editor #story .editor-core #resize-overlay.dragging,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay.dragging{display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{position:absolute;width:4px;bottom:0;top:0;right:0;margin-bottom:0;display:none;z-index:100;transition:width .2s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle{cursor:ew-resize;position:absolute;width:4px;bottom:0;top:0;right:0;background:#eee;transition:width .1s,background .1s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle:after{display:block;content:"";position:absolute;top:0;bottom:0;left:-4px;background:transparent;right:0;width:auto}.fl-project-editor .row.editor #story .editor-core #resize-handle-container .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container .resize-handle-icon{position:absolute;right:3px;top:50%;margin-top:-15px;opacity:.8;pointer-events:none;transition:right .1s;display:none}.fl-project-editor .row.editor #story .editor-core #resize-handle-container>i,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container>i{position:absolute;top:5px;left:5px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover{width:6px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle{width:6px;background:#ddd}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle:after{left:-10px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover .resize-handle-icon{right:2px;display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container.dragging #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container.dragging #resize-handle:after{left:-200px;right:0}@media (min-width:770px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{display:block}}@media (min-width:820px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0 10px 0 0}}.fl-project-editor .row.editor #visualisation{padding:10px 0 0}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{transform-origin:left top}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview.mini-preview{z-index:1000;opacity:1;box-shadow:none;animation:fadeIn .5s;overflow:hidden;pointer-events:none}@keyframes fadeIn{0%{opacity:0}1%{opacity:0}to{opacity:1}}@media (min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{width:100%}}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe{height:calc(100% - 64px)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview.nav-style-none iframe{height:100%}@media (min-width:820px){.fl-project-editor .row.editor #story .editor-core{max-width:calc(100% - 220px);margin-left:220px;min-height:calc(100vh - 94px)}}.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder iframe{width:320px}.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder iframe{width:500px}.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder iframe{width:768px}.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder iframe{width:1024px}@media (min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core{max-width:calc(100% - 350px)}}.fl-project-editor .project-header{padding:0 10px;position:absolute;top:2px;left:48px;right:0;width:auto}@media (min-width:420px){.fl-project-editor .project-header{left:60px}.fl-project-editor .project-header:after{clear:both;display:block;content:""}}@media (min-width:620px){.fl-project-editor .project-header{height:60px;z-index:110}}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{text-align:left;margin:-1px 0 0 3px;height:auto;line-height:1em;display:inline-block;border-radius:3px;vertical-align:top}@media (min-width:420px){.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{font-size:11px;padding:2px 3px 1px}}.fl-project-editor .project-header #visibility-status{cursor:pointer}.fl-project-editor .project-header #visibility-status:hover{color:#333}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .read-only{color:#aaa;font-weight:400;padding:1px 3px 2px;background:#eee}.fl-project-editor .project-header #visibility-status.public,.fl-project-editor .project-header .read-only.public{background:#ffdc98;color:#000}.fl-project-editor .project-header #visibility-status.public:hover,.fl-project-editor .project-header .read-only.public:hover{background:#eec26d;color:#000}.fl-project-editor .project-header .blueprint-tag{font-size:9px;font-weight:700;background:#2886b2;color:#fff;text-transform:uppercase;padding:1px 5px 2px;cursor:default}.fl-project-editor .project-header .project-settings{margin-left:10px;font-size:14px;font-weight:400;line-height:0;vertical-align:top;margin-bottom:-3px;display:inline-block;margin-top:-2px;z-index:110;height:auto}.fl-project-editor .project-header .project-settings .dropdown-head{padding-right:5px;padding-left:5px;padding-bottom:10px;font-size:16px}.fl-project-editor .project-header .project-settings .dropdown-list{margin-right:0}@media (min-width:420px){.fl-project-editor .project-header .project-settings{top:0;margin-top:-4px;padding-top:19px}}@media (min-width:620px){.fl-project-editor .project-header .project-settings{padding-top:18px}}.fl-project-editor .project-header .has-name+.project-settings{margin-left:0}.fl-project-editor .project-header .name{position:relative;vertical-align:top;font-weight:400;font-style:italic;height:23px;margin-left:0;width:auto;display:inline-block;font-size:16px;z-index:110;margin-top:3px}@media (min-width:420px){.fl-project-editor .project-header .name{margin-top:5px;height:26px}}@media (min-width:620px){.fl-project-editor .project-header .name{font-size:18px}}@media (min-width:820px){.fl-project-editor .project-header .name{font-size:18px}}.fl-project-editor .project-header .name input{font-size:1em;font-size:inherit;border:none;border-bottom:1px solid #ccc;border-radius:0;background:#fff;font-style:italic;padding:0;display:inline-block;color:#aaa;position:absolute;left:0;top:0;box-sizing:initial;outline:none;height:23px}@media (min-width:420px){.fl-project-editor .project-header .name input{height:26px}}.fl-project-editor .project-header .name .name-width-setter{font-size:inherit;padding:0;display:inline-block;opacity:0;pointer-events:none;max-width:140px;min-width:40px;white-space:pre}@media (min-width:420px){.fl-project-editor .project-header .name .name-width-setter{max-width:240px}}@media (min-width:620px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}@media (min-width:820px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}.fl-project-editor .project-header .name.not-editable input{border-color:transparent;color:#333;top:0;background:transparent;font-style:normal}.fl-project-editor .project-header .name.has-name .name-width-setter,.fl-project-editor .project-header .name.has-name input{font-style:normal;background:none}.fl-project-editor .project-header .name.has-name input{color:#333;border-color:#ccc;top:0;font-style:normal}.fl-project-editor .project-header .name.has-name .name-overlay{display:block;top:0}.fl-project-editor .project-header .name .name-overlay{display:none;content:"";position:absolute;left:125px;top:0;width:20px;height:100%;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff 80%)}@media (min-width:420px){.fl-project-editor .project-header .name .name-overlay{left:225px}}@media (min-width:620px){.fl-project-editor .project-header .name .name-overlay{left:325px}}@media (min-width:820px){.fl-project-editor .project-header .name .name-overlay{left:325px}}.fl-project-editor .project-header .project-author{color:#aaa;font-weight:400;top:30px;font-size:11px;line-height:1em;position:absolute}@media (min-width:420px){.fl-project-editor .project-header .project-author{top:38px;font-size:12px}}@media (min-width:820px){.fl-project-editor .project-header .project-author{font-size:12px}}.fl-project-editor .project-header .project-author+.dropdown .dropdown-head{display:inline-block}.fl-project-editor .project-header .project-author+.dropdown .badge{top:-14px}.fl-project-editor .project-header .project-author+.dropdown .dropdown-list .badge{position:absolute;right:10px;top:12px;pointer-events:none}.fl-project-editor .project-header #export-btn-group{float:right;margin-bottom:0;margin-right:0;margin-top:9px}.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px;padding:0;text-align:center}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:none}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:0}@media (min-width:420px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px}}@media (min-width:820px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{padding:0 8px;height:36px;width:auto}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:inline}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:3px}}.fl-project-editor .project-header #export-btn-group #create-btn{height:36px;line-height:34px}.visualisation-editor.no-template .fl-project-editor .project-header #export-btn-group{display:none}.fl-project-editor .project-header #export-btn-group #story-btn-form{display:inline-block}.fl-project-editor .project-header #export-btn-group #story-btn{border:1px solid #ddd;background-color:#eee;color:#333;font-family:Canva Sans Variable;margin-right:8px;overflow:visible}@media (min-width:420px){.fl-project-editor .project-header #export-btn-group{margin-top:15px}}@media (min-width:820px){.fl-project-editor .project-header #export-btn-group{margin-top:12px}}.fl-project-editor .row.editor-bar{background:#e3e3e3;height:30px;font-size:12px;padding:0 10px}.fl-project-editor .row.editor-bar #visualisation-tabs{z-index:110;width:calc(100% - 120px);margin-left:60px;text-align:center}.fl-project-editor .row.editor-bar #visualisation-tabs button{font-size:12px;line-height:1em}.fl-project-editor .row.editor-bar #visualisation-tabs button i{margin-right:3px;font-size:11px}.fl-project-editor .row.editor-bar #visibility-status,.fl-project-editor .row.editor-bar .read-only{display:inline-block;float:left;font-weight:700;color:#aaa;margin-top:7px}.fl-project-editor .row.editor-bar .confirm-saved{float:right;margin-top:8px;margin-left:0;width:60px}@media (min-width:820px){.fl-project-editor .row.editor-bar #visualisation-tabs{width:calc(100% - 380px);margin-left:0}}.fl-project-editor .tab-data .tab-preview{position:fixed;z-index:2}.fl-project-editor .tab-data #preview-menu{opacity:0;pointer-events:none}.fl-project-editor .side-panel{text-align:left;position:relative;background:#f9f9f9;line-height:1.1;margin-left:0;padding:10px 0 1px;width:100%}.fl-project-editor .side-panel.closed{margin-left:-300px}.fl-project-editor .side-panel .side-panel-inner{margin-bottom:87px;background:#fff}@media (min-width:820px){.fl-project-editor .side-panel .side-panel-inner{border:none;background:transparent}}.fl-project-editor .side-panel .side-panel-close{position:absolute;top:15px;right:10px;font-size:1.25em;width:1.5em;height:1.5em;padding:.1em;text-align:center;border:1px solid rgba(0,0,0,.4);border-radius:3px;background:#eaeaea;transition:right .5s ease;z-index:1}.fl-project-editor .side-panel .side-panel-close.opener{right:calc(-1.5em + 1px);border-bottom-left-radius:0;border-top-left-radius:0}.fl-project-editor .side-panel .side-panel-close:hover{opacity:1}.fl-project-editor .side-panel .side-panel-close:hover i{opacity:.7}.fl-project-editor .side-panel#slides-panel{height:100%;padding:0;background:#fff;margin-top:20px}.fl-project-editor .side-panel#slides-panel .side-panel-scrollbox{padding:0 15px 10px}@media (min-width:820px){.fl-project-editor .side-panel#slides-panel{max-width:200px;right:auto;position:absolute;top:0;margin-top:0;border-right:1px solid #ddd}}.fl-project-editor .side-panel .side-panel-scrollbox{width:100%;height:100%;padding:10px 10px 20px;overflow-y:scroll}.fl-project-editor .side-panel .side-panel-scrollbox .side-panel-inner{width:100%}@media (min-width:1220px){.fl-project-editor .side-panel .side-panel-scrollbox{padding:20px}}.fl-project-editor .side-panel h1{margin:1em 0 .5em;font-size:.9em;opacity:.5;cursor:default}.fl-project-editor .side-panel h2{font-size:13px;letter-spacing:0;font-weight:500;margin:0 0 .6em;position:relative;color:#333;word-wrap:break-word}.fl-project-editor .side-panel .toplevel-settings-block{padding:0 5px 20px}.fl-project-editor .side-panel .toplevel-settings-block .settings-option{display:inline-block}.fl-project-editor .side-panel .toplevel-settings-block .settings-option:first-child{margin-top:9px}.fl-project-editor .side-panel .settings-divider{margin:1rem -10px 0;clear:both;width:calc(100% + 20px);height:1px;background:#eee}.fl-project-editor .side-panel .settings-subhead{text-transform:uppercase;font-size:.7rem;font-weight:700;color:#999;padding:.5rem 5px .25rem;margin:0;width:100%}.fl-project-editor .side-panel .settings-block{margin:0;display:inline-block;width:100%;background-color:#fff;padding:0 10px;min-height:24px}.fl-project-editor .side-panel .settings-block h2{margin:0 -10px;font-size:.8rem;padding:.75em 30px;font-weight:700;background-color:#f5f5f5;border-top:1px solid #ddd;cursor:pointer;color:#535e65}.fl-project-editor .side-panel .settings-block h2:focus{outline:none}.fl-project-editor .side-panel .settings-block h2:focus,.fl-project-editor .side-panel .settings-block h2:hover{background:#e8e8e8}.fl-project-editor .side-panel .settings-block h2:after{content:"";width:.6rem;height:.8rem;position:absolute;left:15px;background-repeat:no-repeat;background-position:50%;background-image:url(data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJjYXJldC1yaWdodCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTkyIDUxMiIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWNhcmV0LXJpZ2h0IGZhLXctNiBmYS0zeCI+PHBhdGggZmlsbD0iIzUzNWU2NSIgZD0iTTAgMzg0LjY2MlYxMjcuMzM4YzAtMTcuODE4IDIxLjU0My0yNi43NDEgMzQuMTQyLTE0LjE0MmwxMjguNjYyIDEyOC42NjJjNy44MSA3LjgxIDcuODEgMjAuNDc0IDAgMjguMjg0TDM0LjE0MiAzOTguODA0QzIxLjU0MyA0MTEuNDA0IDAgNDAyLjQ4IDAgMzg0LjY2MnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .settings-block .settings-divider,.fl-project-editor .side-panel .settings-block .settings-option,.fl-project-editor .side-panel .settings-block .settings-subhead{display:none}.fl-project-editor .side-panel .settings-block input::-webkit-contacts-auto-fill-button{visibility:hidden;display:none!important;pointer-events:none;position:absolute;right:0}.fl-project-editor .side-panel .settings-block.open{padding-bottom:1rem}.fl-project-editor .side-panel .settings-block.open h2:after{transform:rotate(90deg)}.fl-project-editor .side-panel .settings-block.open .settings-option{display:inline-block}.fl-project-editor .side-panel .settings-block.open .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker{vertical-align:top;line-height:0;position:relative}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker:hover:not(.is-null) .cancel-setting{transform:translateX(27px)}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker.is-null .color-wrapper input{opacity:0}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting{width:30px;border:1px solid #ddd;background:#fff;position:absolute;padding:0;height:30px;vertical-align:top;left:0;transition:transform .2s}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting svg{margin-left:2px;width:8px;height:8px;pointer-events:none;transition:opacity .2s}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting:focus{border:1px solid #ddd}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting:hover svg{opacity:.4}.fl-project-editor .side-panel .settings-block.open .settings-divider,.fl-project-editor .side-panel .settings-block.open .settings-subhead{display:block}.fl-project-editor .side-panel .settings-block.open h2+.settings-divider{background:transparent;margin-top:.25rem}.fl-project-editor .side-panel .settings-block.hidden{display:none}.fl-project-editor .side-panel h3{font-size:.8rem;line-height:1.2em;font-weight:400;margin-top:0;margin-bottom:3px;color:#333;display:inline-block;cursor:default;overflow:hidden;vertical-align:top;background:#fff;text-overflow:ellipsis}.fl-project-editor .side-panel p{font-size:12px;margin-top:0;font-weight:300}.fl-project-editor .side-panel .settings-option{position:relative;margin-top:.75rem;display:none;vertical-align:bottom;width:100%;padding:0 5px}.fl-project-editor .side-panel .settings-option label{font-size:13px;display:inline-block;vertical-align:top;width:100%}.fl-project-editor .side-panel .settings-option label .help-tip{margin-left:3px;color:#d0d0d0;font-style:normal}.fl-project-editor .side-panel .settings-option label .help-tip:hover{color:#aaa}.fl-project-editor .side-panel .settings-option label:hover{z-index:2;position:relative}.fl-project-editor .side-panel .settings-option button,.fl-project-editor .side-panel .settings-option input,.fl-project-editor .side-panel .settings-option select,.fl-project-editor .side-panel .settings-option textarea{border-radius:3px;border:1px solid #ddd;padding:.2em .1em .2em .3em;min-height:30px;font-size:13px;display:block;outline:none;transition:border .2s linear;max-width:100%}.fl-project-editor .side-panel .settings-option button:focus,.fl-project-editor .side-panel .settings-option input:focus,.fl-project-editor .side-panel .settings-option select:focus,.fl-project-editor .side-panel .settings-option textarea:focus{border:1px solid #777}.fl-project-editor .side-panel .settings-option ::-webkit-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option :-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option ::-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option .autocomplete .dropdown-list .dropdown-item{font-size:13px;padding:10px 10px 10px 6px}.fl-project-editor .side-panel .settings-option .color-wrapper{width:30px;height:30px;overflow:hidden;border-radius:3px;position:relative;display:inline-block;background-color:#fff}.fl-project-editor .side-panel .settings-option .color-wrapper input{transform:scale(10);position:absolute}.fl-project-editor .side-panel .settings-option .color-wrapper:before{display:block;position:absolute;content:"";top:0;bottom:-10px;left:0;width:1px;pointer-events:none;background:rgba(0,0,0,.1);transform-origin:top;transform:rotate(-45deg)}.fl-project-editor .side-panel .settings-option .color-wrapper:after{display:block;position:absolute;content:"";border:1px solid rgba(0,0,0,.1);left:0;right:0;top:0;bottom:0;pointer-events:none}.fl-project-editor .side-panel .settings-option .color-wrapper:invalid{box-shadow:none}.fl-project-editor .side-panel .settings-option .single-button{background:#eee;color:#333;width:100%;border:none;padding:0;cursor:pointer;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .single-button:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .single-button:focus{border:none}.fl-project-editor .side-panel .settings-option .buttons-container{display:flex}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]{width:0;height:0;opacity:0;margin:0;display:inline-block;display:none}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label{font-size:13px;background:#eee;color:#333;display:inline-block;height:30px;cursor:pointer;text-align:center;padding-top:8px;border-right:1px solid #fff;border-bottom:1px solid #fff;background-size:cover;background-position:50% 50%;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label i{color:#555}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label img{margin-top:-8px}.fl-project-editor .side-panel .settings-option .buttons-container.large input[type=radio]+label{height:60px}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:not([disabled])+label:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:disabled+label{cursor:default}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label{background-color:#ccdee6;cursor:default;position:relative}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:hover{background-color:#ccdee6}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:after{width:100%;height:2px;background:#2886b2;bottom:0;position:absolute;content:"";left:0}.fl-project-editor .side-panel .settings-option input[data-autocomplete]+.fa{position:absolute;right:10px;margin-top:-21px;font-size:12px;pointer-events:none}.fl-project-editor .side-panel .settings-option select{width:100%;height:30px}.fl-project-editor .side-panel .settings-option.option-type-color input{padding:0;background:#fff}.fl-project-editor .side-panel .settings-option.option-type-color,.fl-project-editor .side-panel .settings-option.option-type-number,.fl-project-editor .side-panel .settings-option.option-type-rows{width:50%}.fl-project-editor .side-panel .settings-option.option-type-color.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-number.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-rows.width-quarter input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-color input,.fl-project-editor .side-panel .settings-option.option-type-number input,.fl-project-editor .side-panel .settings-option.option-type-rows input{width:calc(50% - 5px);min-width:40px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons).settings-buttons>label{height:auto}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input{display:none}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons)>label:first-child{position:absolute;padding-left:37px;padding-top:7px;width:auto;right:5px;left:5px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider{position:relative;cursor:pointer;width:33px;height:30px;background:transparent;padding-left:0;padding-top:0}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:hover:after{border-color:#bbb}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:before{position:absolute;content:"";height:12px;width:33px;top:9px;left:0;border-radius:6px;background-color:#ddd;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:after{position:absolute;content:"";height:24px;width:24px;left:0;bottom:3px;border-radius:50%;background-color:#fff;border:1px solid #ddd;box-sizing:border-box;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:before{background:#ccdee6}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:after{left:9px;background:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:hover:after{background-color:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-code textarea,.fl-project-editor .side-panel .settings-option.option-type-string input,.fl-project-editor .side-panel .settings-option.option-type-text textarea,.fl-project-editor .side-panel .settings-option.option-type-url input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-code textarea.size-large,.fl-project-editor .side-panel .settings-option.option-type-text textarea.size-large{height:50vh}.fl-project-editor .side-panel .settings-option.option-type-code label{width:calc(100% - 18px)}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control{font-size:.7em;color:#999;transform:scaleY(-1);margin-bottom:.3em;display:inline-block;vertical-align:bottom}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control.selected{transform:scale(-1);cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control{transition:transform .1s ease}.fl-project-editor .side-panel .settings-option.option-type-code textarea{font-family:monospace;font-size:13px}.fl-project-editor .side-panel .settings-option.option-type-font input.font-menu{width:100%;outline:none}.fl-project-editor .side-panel .settings-option.option-type-colors input{width:100%;margin:0;z-index:1;cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{display:flex;align-items:stretch;min-height:30px;overflow:hidden}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches em,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item em{font-style:normal;color:#777;display:block;padding:8px;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{display:inline-block;height:30px;flex:1}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span:nth-child(n+13):nth-child(-n+99),.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span:nth-child(n+13):nth-child(-n+99){display:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches{padding:0;position:absolute;left:4px;right:26px;z-index:0;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{padding:2px 0!important;width:100%}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item label{position:absolute;top:6px;left:8px;color:hsla(0,0%,98%,.9);pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors.custom input{opacity:0}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches{align-items:flex-start}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span{max-width:28px;pointer-events:auto;transition:transform .1s;transform-origin:center center}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span:hover{transform:scale(1.2)}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa{font-size:24px;color:#ccc;margin-left:4px}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa:before{position:relative;top:2px}.fl-project-editor .side-panel .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-option.width-full{width:100%!important}.fl-project-editor .side-panel .settings-option.width-half{width:50%!important}.fl-project-editor .side-panel .settings-option.width-quarter{width:25%!important}.fl-project-editor .side-panel .settings-option.width-three-quarters{width:75%!important}.fl-project-editor .side-panel .settings-option .description-link{cursor:pointer;color:#dd4141}.fl-project-editor .side-panel .detailed-settings h2{margin-bottom:.75rem}.fl-project-editor .side-panel .detailed-settings h2:after{content:"ï "}.fl-project-editor .side-panel .palette{max-height:calc(100vh - 210px);overflow-y:auto;padding:1px}.fl-project-editor .side-panel .palette .swatch-color,.fl-project-editor .side-panel .palette button,.fl-project-editor .side-panel .palette input[type=color]{-webkit-appearance:none;appearance:none;display:inline-block;width:28px;height:28px;padding:0;margin:1px;border:none;outline:none;background:transparent}.fl-project-editor .side-panel .palette .swatch-color.fa-plus-square:before,.fl-project-editor .side-panel .palette button.fa-plus-square:before,.fl-project-editor .side-panel .palette input[type=color].fa-plus-square:before{font-size:32px;color:#ddd;margin-left:1px}.fl-project-editor .side-panel .palette .swatch-color.fa-times,.fl-project-editor .side-panel .palette button.fa-times,.fl-project-editor .side-panel .palette input[type=color].fa-times{position:absolute;right:0;opacity:0;color:#aaa}.fl-project-editor .side-panel .palette .swatch-color.fa-times:hover,.fl-project-editor .side-panel .palette button.fa-times:hover,.fl-project-editor .side-panel .palette input[type=color].fa-times:hover{color:#888}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette button::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch-wrapper{padding:0}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch,.fl-project-editor .side-panel .palette button::-webkit-color-swatch,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch{border:none}.fl-project-editor .side-panel .palette [draggable]{cursor:move;cursor:grab;cursor:-webkit-grab}.fl-project-editor .side-panel .palette [draggable]:active{cursor:grabbing;cursor:-webkit-grabbing}.fl-project-editor .side-panel .palette .swatch-handle{display:block;width:15px;height:28px;color:#ddd;position:absolute;left:1px;top:7px;text-align:center;font-size:18px;font-weight:700;line-height:5.5px;pointer-events:none}.fl-project-editor .side-panel .palette input[type=text]{width:120px;width:calc(100% - 52px);background:transparent;padding:5px 8px;border-width:0;margin:0}.fl-project-editor .side-panel .palette p{position:relative;display:flex;align-items:center;margin:0;padding:5px 5px 5px 20px;border-bottom:1px solid #eee}.fl-project-editor .side-panel .palette p:first-child{border-top:1px solid #eee}.fl-project-editor .side-panel .palette p:hover button.fa-times{opacity:.5}.fl-project-editor .side-panel .palette p:hover [draggable]:before{opacity:1}.fl-project-editor .side-panel .side-panel-top{border-top:none;border-bottom:1px solid rgba(0,0,0,.1);margin-top:0;padding:17px 10px 20px;font-size:1em}.fl-project-editor .side-panel .side-panel-top.shadow{box-shadow:3px 3px 5px rgba(0,0,0,.1)}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .side-panel-icon-btn{color:#fff;background:#9a9a9a;padding:7px 0 0;border-radius:9999px;width:30px;height:30px;text-align:center;margin:0}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .4em}#story .fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .25em}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{height:1em;border-left:1px solid rgba(0,0,0,.25);display:inline-block;vertical-align:middle}.fl-project-editor .side-panel .current-template{margin:0;opacity:0;transition:opacity .2s;position:relative;padding:10px 10px 0;min-height:56px;border-bottom:1px solid #ddd}.fl-project-editor .side-panel .current-template h1{padding-right:76px;opacity:1;font-size:12px;font-weight:400;min-height:36px;margin:0;padding-top:3px}.fl-project-editor .side-panel .current-template h1>span{display:block;font-weight:700;font-size:16px}.fl-project-editor .side-panel .current-template h3{margin-top:.7em}.fl-project-editor .side-panel .current-template h3 i{margin-left:.2em;color:rgba(0,0,0,.5)}.fl-project-editor .side-panel .current-template .current-template-title{position:relative}.fl-project-editor .side-panel .current-template .current-template-title .current-template-version{margin-left:4px;font-size:12px}.fl-project-editor .side-panel .current-template .current-template-thumbnail{position:absolute;right:-10px;top:-10px;width:76px;height:calc(100% + 19px);background-size:cover;background-position:50%;background-repeat:no-repeat}.fl-project-editor .side-panel .current-template .current-template-thumbnail:after{width:20px;height:100%;position:absolute;left:0;right:0;background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0));content:"";display:block}.fl-project-editor .side-panel .template-theme button#reset-to-theme:disabled{color:#d3d3d3}@media (min-width:620px) and (max-width:819px){.fl-project-editor .side-panel .side-panel-inner{max-width:500px;margin:20px auto}}@media (min-width:820px){.fl-project-editor .side-panel{max-width:size(3.5);position:fixed;right:0;top:93px;background:#fff;overflow-y:auto;height:calc(100vh - 93px);border-left:1px solid #ddd}.fl-project-editor .side-panel .current-template{padding-top:0;min-height:46px}}.fl-project-editor .tab-preview #visualisation .editor-core{overflow:visible!important}.fl-project-editor .tab-preview.active #visualisation .editor-core{overflow:auto!important}.fl-project-editor body.full-screen .row.editor #story,.fl-project-editor body.full-screen .row.editor #visualisation{position:fixed!important;top:0!important;left:0!important;width:100%!important;height:100%!important}.fl-project-editor body.full-screen .row.editor #story .editor-core #preview,.fl-project-editor body.full-screen .row.editor #visualisation .editor-core #preview{width:100%!important}.fl-project-editor body.full-screen .row.editor #story #exit-full-screen,.fl-project-editor body.full-screen .row.editor #visualisation #exit-full-screen{display:block}.fl-project-editor body.loading .loading-spinner{opacity:1!important;animation-name:spin;animation-duration:1.2s;animation-iteration-count:infinite;animation-timing-function:linear;transform-origin:center center}.fl-project-editor body.loading .content{min-height:100vh}.fl-project-editor body.loading .preview-holder{pointer-events:none;background-color:#f3f3f3}.fl-project-editor body.loading .preview-holder #preview{background:transparent!important}.fl-project-editor body.loading .preview-holder iframe{opacity:.1}.fl-project-editor body.loading #blank-slide,.fl-project-editor body.loading .row.data{opacity:0;pointer-events:none}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.fl-project-editor #private-publishing{display:inline-block;padding-right:15px;margin-top:10px;width:100%}.fl-project-editor #private-publishing+input{width:100%;padding:5px}.fl-project-editor #private-publishing+input.hidden{display:none}.fl-project-editor #private-publishing+input.error{border-color:#dd4141}.fl-project-editor #private-publishing.upgrade-btn{width:auto;color:#999}.fl-project-editor #private-publishing.upgrade-btn:after{top:4px}.fl-annotations-source-element{position:absolute;left:-3rem;width:3rem;height:3rem;z-index:9999;background:#333;background-position:50%;background-size:40%;background-repeat:no-repeat;border:none;border-radius:100% 0 0 100%;top:.25rem;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg data-prefix=\'fas\' data-icon=\'pencil-alt\' xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 512 512\'%3E%3Cpath fill=\'%23fff\' d=\'M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\'/%3E%3C/svg%3E")}.fl-annotations-add-element,.fl-annotations-source-element{cursor:pointer;-webkit-appearance:none;appearance:none;pointer-events:all}.fl-annotations-add-element{display:block;border:none;margin:1rem;border-radius:2rem;color:#fff;font-weight:700;text-align:center;padding-left:1.5rem;padding-right:0;font-size:1rem;height:2.5rem;line-height:2.5rem;background:#333;background-position:.5rem;background-size:1.5rem;background-repeat:no-repeat;-webkit-user-select:none;user-select:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 36 36\'%3E%3Cstyle%3E.fl-annotations-cursor rect{fill:%23fff}%3C/style%3E%3Cg xmlns=\'http://www.w3.org/2000/svg\' class=\'fl-annotations-cursor\' transform=\'translate(18 18)\'%3E%3Ccircle r=\'16\' style=\'transition:stroke .25s\' fill=\'none\' stroke=\'%23fff\' stroke-width=\'2\' stroke-dasharray=\'4,4\'/%3E%3Cpath fill=\'%23FFF\' d=\'M-1-6h2V6h-2z\'/%3E%3Cpath fill=\'%23FFF\' d=\'M-6-1H6v2H-6z\'/%3E%3C/g%3E%3C/svg%3E")}.fl-annotations .fl-annotations-node{pointer-events:none}.fl-annotations .fl-annotations-node.fl-connector-popup,.fl-annotations.is-editing .fl-annotations-node{pointer-events:all}.fl-annotations .fl-annotations-node.fl-marker text,.fl-annotations .fl-annotations-node.fl-point text{fill:#fff;text-anchor:middle;dominant-baseline:middle;alignment-baseline:middle;font-size:.8rem;font-weight:800}.fl-annotations .fl-annotations-node.fl-marker.selected circle{fill:#333}.fl-annotations .fl-notch{fill:none;stroke-dasharray:4,4;pointer-events:none}.fl-annotations.is-editing .fl-notch{pointer-events:all}.fl-annotations .fl-annotations-node .fl-connector,.fl-annotations .fl-annotations-node text,.fl-annotations.is-editing.is-dragging .fl-notch{pointer-events:none}.fl-annotations .fl-annotations-inline a,.fl-annotations.is-editing .fl-annotations-inline{pointer-events:all}.fl-annotations .fl-annotations-cursor,.fl-annotations.is-hiding .fl-annotations-inline,.fl-annotations.is-hiding .fl-annotations-node,.fl-annotations.is-hiding .fl-annotations-node .main-circle,.fl-annotations.is-hiding .fl-connector,.fl-annotations.is-hiding .fl-label-bg,.fl-annotations.is-hiding .fl-label-fg{pointer-events:none;visibility:hidden}.fl-annotations.is-edit-add .fl-annotations-cursor{visibility:visible}.fl-annotations.is-hiding .fl-annotations-cursor{visibility:hidden}.fl-annotations .fl-annotations-cursor circle{fill:none;stroke:#eee;stroke-width:2px;stroke-dasharray:4,4;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid circle{stroke:#333;animation:cursorRotate 5s linear 0s infinite normal}.fl-annotations .fl-annotations-cursor line{stroke:#eee;stroke-width:2px;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid line{stroke:#333}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle{stroke-dasharray:6,2;stroke-dashoffset:1}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.inner-outline line,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline line{stroke:#fff;stroke-width:4px}@keyframes cursorRotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.fl-project-editor .fl-annotation-list{list-style-type:none;margin:0;padding:1rem;border-bottom:1px solid #eee}.fl-project-editor .fl-annotation-list:empty{padding:0}.fl-annotation-list-wrap{background:#fff;margin:0;font-size:.8rem;max-height:10rem;overflow:auto;position:relative;box-shadow:inset 0 -10px 10px -10px rgba(0,0,0,.25);transition:box-shadow .5s}.fl-annotation-list-wrap.scroll-end{box-shadow:inset 0 -10px 10px -10px transparent}.fl-project-editor .fl-annotation-list>li{display:flex;position:relative;flex-direction:row;align-items:center;justify-content:space-between;list-style-type:none;line-height:1.35rem;color:#b1b1b1;cursor:pointer}.fl-project-editor .fl-annotation-list .drop-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;flex-direction:column;display:none}.fl-project-editor .fl-annotation-list.dragging .drop-overlay{display:flex}.fl-project-editor .fl-annotation-list .drop-above,.fl-project-editor .fl-annotation-list .drop-below{flex-grow:1}.fl-project-editor .fl-annotation-list .drop-above{border-top:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-below{border-bottom:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-above.dropping{border-top:1px solid #666}.fl-project-editor .fl-annotation-list .drop-below.dropping{border-bottom:1px solid #666}.fl-project-editor .fl-annotation-list>li .text{display:block;overflow:hidden;text-overflow:ellipsis;flex-grow:1;white-space:nowrap}.fl-project-editor .fl-annotation-list>li .icon{display:none;margin-left:.5rem;color:#333;opacity:0;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected .icon,.fl-project-editor .fl-annotation-list>li:hover .icon{display:inline-block;margin-left:.5rem;opacity:.5}.fl-project-editor .fl-annotation-list>li .icon:hover{opacity:1}.fl-project-editor .fl-annotation-list>li:hover{color:#000}.fl-project-editor .fl-annotation-list>li:before{content:"";width:.75rem;height:.75rem;display:inline-block;background:#b1b1b1;vertical-align:middle;margin-right:.5rem;border-radius:100%;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected{cursor:default}.fl-project-editor .fl-annotation-list>li.selected:before{background:#333}.fl-project-editor .fl-annotation-list>li.selected .text{color:#333}.fl-annotation-list li.drag-over{background:red}.icon-pencil{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguNjYgNC4wODZMOS43NTYgMi45OUEuODA5LjgwOSAwIDAwMTAgMi4zOTZhLjg0NS44NDUgMCAwMC0uMjQ0LS42TDguMjA1LjI1QS44Mi44MiAwIDAwNy42MDQgMGEuNzg0Ljc4NCAwIDAwLS41OTQuMjVMNS45MTQgMS4zNCA4LjY2IDQuMDg2ek0yLjc0NiAxMGw1LjQ5Mi01LjQ5Mi0yLjc0Ni0yLjc0NkwwIDcuMjU0VjEwaDIuNzQ2em0tLjYzNC0zLjIzNGMtLjA5NyAwLS4xNDUtLjA0OS0uMTQ1LS4xNDYgMC0uMDQ0LjAxNS0uMDguMDQ2LS4xMTJsMy41NzgtMy41NzdhLjE1My4xNTMgMCAwMS4xMTItLjA0N2MuMDk3IDAgLjE0NS4wNDkuMTQ1LjE0NmEuMTUzLjE1MyAwIDAxLS4wNDYuMTEyTDIuMjI0IDYuNzE5YS4xNTMuMTUzIDAgMDEtLjExMi4wNDd6bS4yODQgMi4zOUgxLjY5VjguMzFILjg0NXYtLjcwNmwuNi0uNiAxLjU1MiAxLjU1LS42MDEuNjAxeiIgZmlsbD0iIzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+")}.icon-clone{width:10px;height:10px;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg aria-hidden="true" data-prefix="fas" data-icon="clone" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-clone fa-w-16 fa-3x"><path fill="currentColor" d="M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"/></svg>\')}.icon-trash{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEiIGhlaWdodD0iMTEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMjg2IDEwLjg1N2MuMjk0IDAgLjU0Ny0uMTM1Ljc1Ni0uNDA1LjIxLS4yNy4zMTUtLjU5LjMxNS0uOTZ2LTYuMzVIMTBjLjA2MyAwIC4xMTQtLjAyLjE1NC0uMDYuMDQtLjA0LjA2LS4wOS4wNi0uMTUzVjIuNWEuMjA5LjIwOSAwIDAwLS4wNi0uMTU0LjIwOS4yMDkgMCAwMC0uMTU0LS4wNkg3LjkzbC0uNDY4LTEuMTE5QS45MjguOTI4IDAgMDA3LjEuNzQ2Ljk0NS45NDUgMCAwMDYuNTcxLjU3SDQuNDNhLjk0NS45NDUgMCAwMC0uNTMuMTc1LjkyOC45MjggMCAwMC0uMzYxLjQyMWwtLjQ2OSAxLjExOUgxYS4yMDkuMjA5IDAgMDAtLjE1NC4wNi4yMDkuMjA5IDAgMDAtLjA2LjE1NHYuNDI5YzAgLjA2Mi4wMi4xMTMuMDYuMTU0LjA0LjA0LjA5Mi4wNi4xNTQuMDZoLjY0M3Y2LjM3NWMwIC4zNy4xMDUuNjg2LjMxNS45NDcuMjEuMjYyLjQ2Mi4zOTIuNzU2LjM5Mmg1LjU3MnpNNyAyLjI4Nkg0bC4zMjgtLjc4NGEuMTg5LjE4OSAwIDAxLjExNC0uMDczaDIuMTIzYS4xODkuMTg5IDAgMDEuMTE0LjA3M0w3IDIuMjg2ek00IDkuMTQzaC0uNDI5YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5Mi0uMDYuMTU0LS4wNkg0Yy4wNjMgMCAuMTE0LjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6bTEuNzE0IDBoLS40MjhhLjIwOS4yMDkgMCAwMS0uMTU0LS4wNi4yMDkuMjA5IDAgMDEtLjA2LS4xNTRWNC4yMTRjMC0uMDYyLjAyLS4xMTQuMDYtLjE1NC4wNC0uMDQuMDkxLS4wNi4xNTQtLjA2aC40MjhjLjA2MyAwIC4xMTQuMDIuMTU0LjA2LjA0LjA0LjA2LjA5Mi4wNi4xNTRWOC45M2MwIC4wNjItLjAyLjExMy0uMDYuMTU0YS4yMDkuMjA5IDAgMDEtLjE1NC4wNnptMS43MTUgMEg3YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5MS0uMDYuMTU0LS4wNmguNDI5Yy4wNjIgMCAuMTEzLjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6IiBmaWxsPSIjMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=")}.fl-project-editor .side-panel .help-tip{display:inline-block;position:relative;width:.7rem;height:.7rem;transform:translateY(1px);opacity:.6;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtcXVlc3Rpb24tY2lyY2xlIGZhLXctMTYgZmEtM3giPjxwYXRoIGZpbGw9IiNhYWEiIGQ9Ik01MDQgMjU2YzAgMTM2Ljk5Ny0xMTEuMDQzIDI0OC0yNDggMjQ4UzggMzkyLjk5NyA4IDI1NkM4IDExOS4wODMgMTE5LjA0MyA4IDI1NiA4czI0OCAxMTEuMDgzIDI0OCAyNDh6TTI2Mi42NTUgOTBjLTU0LjQ5NyAwLTg5LjI1NSAyMi45NTctMTE2LjU0OSA2My43NTgtMy41MzYgNS4yODYtMi4zNTMgMTIuNDE1IDIuNzE1IDE2LjI1OGwzNC42OTkgMjYuMzFjNS4yMDUgMy45NDcgMTIuNjIxIDMuMDA4IDE2LjY2NS0yLjEyMiAxNy44NjQtMjIuNjU4IDMwLjExMy0zNS43OTcgNTcuMzAzLTM1Ljc5NyAyMC40MjkgMCA0NS42OTggMTMuMTQ4IDQ1LjY5OCAzMi45NTggMCAxNC45NzYtMTIuMzYzIDIyLjY2Ny0zMi41MzQgMzMuOTc2QzI0Ny4xMjggMjM4LjUyOCAyMTYgMjU0Ljk0MSAyMTYgMjk2djRjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg1NmM2LjYyNyAwIDEyLTUuMzczIDEyLTEydi0xLjMzM2MwLTI4LjQ2MiA4My4xODYtMjkuNjQ3IDgzLjE4Ni0xMDYuNjY3IDAtNTguMDAyLTYwLjE2NS0xMDItMTE2LjUzMS0xMDJ6TTI1NiAzMzhjLTI1LjM2NSAwLTQ2IDIwLjYzNS00NiA0NiAwIDI1LjM2NCAyMC42MzUgNDYgNDYgNDZzNDYtMjAuNjM2IDQ2LTQ2YzAtMjUuMzY1LTIwLjYzNS00Ni00Ni00NnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .help-tip:hover{opacity:1}.fl-project-editor .side-panel .help-tip:after{content:attr(data-popup-body);position:absolute;bottom:100%;left:50%;transform:translate(-50%)}.fl-annotations-tip{font-family:Canva Sans Variable,sans-serif;max-width:15rem;background:#fff;color:#333;box-shadow:0 0 8px rgba(0,0,0,.2);border-radius:.5rem;padding:.625rem;font-size:.72rem;line-height:1.25em;position:absolute;z-index:999999;pointer-events:none}.fl-annotations-tip:after{content:"";position:absolute;bottom:-8px;left:50%;margin-left:-8px;width:0;height:0;border-color:#fff transparent transparent;border-style:solid;border-width:8px 8px 0}.fl-annotations-tip.hidden{display:none}.fl-disable-selection,.fl-disable-selection *{-webkit-user-select:none!important;user-select:none!important}.fl-project-editor{z-index:100000;overflow-y:auto;width:18rem;background:#fff;box-shadow:0 -2px 5px 0 rgba(0,0,0,.2);height:100vh;overflow:auto}.fl-project-editor .side-panel .side-panel-inner{margin:0;max-width:none}.fl-project-editor .side-panel{padding:0;background:transparent;height:auto;position:static;overflow:none}.fl-annotation-settings{border-top:1px solid #eee}.fl-annotation-contents :first-child{margin-top:0}.fl-annotation-contents :last-child{margin-bottom:0}.fl-annotation-contents a{color:inherit;-webkit-text-stroke-color:inherit}.fl-annotation-contents img{-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;pointer-events:none}.empty-annotation-message{padding:1rem;font-size:1rem;text-align:center;color:#aaa}.fl-project-editor .fl-annotation-settings .settings-block,.fl-project-editor .fl-annotation-settings .toplevel-settings-block{display:none}.fl-project-editor.active-annotation .fl-annotation-settings .settings-block,.fl-project-editor.active-annotation .fl-annotation-settings .toplevel-settings-block{display:block}.fl-project-editor.active-annotation .fl-annotation-settings .empty-annotation-message{display:none}@media screen and (min-width:521px){.fl-annotations-add-element{display:none}}@media screen and (max-width:520px){.fl-project-editor{right:0;position:absolute}.is-edit-settings .fl-annotations-add-element,.is-edit-settings.is-editing .fl-annotations-source-element{left:-21rem}}');var Vv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xv={exports:{}};!function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Xv);var Jv=Xv.exports,Kv=function(t,e){"string"==typeof e&&(n=e,n=String(n).toUpperCase(),e=function(t){return n===t.nodeName});var n;"function"!=typeof e&&(r=e,e=function(t){return r===t});var r;for(;t&&!e(t);)t=t.parentNode;return t||null};function tw(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var ew=tw;function nw(t){return"function"==typeof t}function rw(t){return"object"==typeof t&&null!==t}function iw(t){return void 0===t}tw.EventEmitter=tw,tw.prototype._events=void 0,tw.prototype._maxListeners=void 0,tw.defaultMaxListeners=10,tw.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},tw.prototype.emit=function(t){var e,n,r,i,o,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||rw(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(iw(n=this._events[t]))return!1;if(nw(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(rw(n))for(i=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,o=0;o<r;o++)a[o].apply(this,i);return!0},tw.prototype.addListener=function(t,e){var n;if(!nw(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,nw(e.listener)?e.listener:e),this._events[t]?rw(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,rw(this._events[t])&&!this._events[t].warned&&(n=iw(this._maxListeners)?tw.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},tw.prototype.on=tw.prototype.addListener,tw.prototype.once=function(t,e){if(!nw(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},tw.prototype.removeListener=function(t,e){var n,r,i,o;if(!nw(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||nw(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(rw(n)){for(o=i;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},tw.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(nw(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},tw.prototype.listeners=function(t){return this._events&&this._events[t]?nw(this._events[t])?[this._events[t]]:this._events[t].slice():[]},tw.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(nw(e))return 1;if(e)return e.length}return 0},tw.listenerCount=function(t,e){return t.listenerCount(e)};var ow,aw=ew,sw=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup"],lw={left:0,top:0},cw=function(t,e){e=e||{},t=t||window;var n=new aw;n.target=e.target||t;var r=null,i=e.filtered,o=sw;"string"==typeof e.type&&(o=sw.filter((function(t){return 0===t.indexOf(e.type)})));var a=o.map((function(t){var o=function(t){return t.replace(/^(touch|mouse)/,"").replace(/up$/,"end").replace(/down$/,"start")}(t);return{type:t,listener:function(a){var s=a;if(/^touch/.test(t)&&(/^touchend$/.test(t)&&!1!==e.preventSimulated&&a.preventDefault(),s=i?function(t,e){var i;r&&/^touch(end|cancel)/.test(e)?(i=pw(t.changedTouches,r.identifier||0))&&(r=null):!r&&/^touchstart/.test(e)?r=i=uw(t.changedTouches,n.target):r&&(i=pw(t.changedTouches,r.identifier||0));return i}(a,t):uw(a.changedTouches,n.target)),s){var l=function(t,e){var n=t.clientX||0,r=t.clientY||0,i=function(t){return t===window||t===document||t===document.body?lw:t.getBoundingClientRect()}(e);return[n-i.left,r-i.top]}(s,n.target);n.emit(o,a,l)}}}}));return n.enable=function(){return a.forEach(dw(t,!0)),n},n.disable=function(){return r=null,a.forEach(dw(t,!1)),n},n.enable(),n};function uw(t,e){return Array.prototype.slice.call(t).filter((function(t){return t.target===e}))[0]||t[0]}function pw(t,e){for(var n=0;n<t.length;n++)if(t[n].identifier===e)return t[n];return null}function dw(t,e){return function(n){e?t.addEventListener(n.type,n.listener,{passive:!1}):t.removeEventListener(n.type,n.listener,{passive:!1})}}var fw=void 0!==Vv&&(Vv.crypto||Vv.msCrypto);if(fw&&fw.getRandomValues){var hw=new Uint8Array(16);ow=function(){return fw.getRandomValues(hw),hw}}if(!ow){var gw=new Array(16);ow=function(){for(var t,e=0;e<16;e++)3&e||(t=4294967296*Math.random()),gw[e]=t>>>((3&e)<<3)&255;return gw}}for(var _w=ow,bw=[],mw=0;mw<256;++mw)bw[mw]=(mw+256).toString(16).substr(1);var yw=function(t,e){var n=e||0,r=bw;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]},vw=_w,ww=yw;var xw=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||vw)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||ww(i)};const Mw={origin:[0,0],content_position:{x:0,y:0}};class kw{constructor(t,e,n){this.id="",this.position=t,this.device_visibility="all",this.text_size=1,this.text_color="#333333",this.text_background_mode="outline",this.text_bg="#ffffff",this.text_alignment="auto",this.text_weight="bold",this.text_line_height=1.25,this.label_width=10,this.label_bg="#f2efea",this.popup_position="center",this.popup_bg="#ffffff",this.line_marker="arrowhead_open",this.stroke_color="#333333",this.stroke_opacity=1,this.stroke_width=2,this.subject_fill="#333333",this.point_radius=.5,this.point_text="",this.point_text_color="#FFFFFF",this.subject_fill_opacity=0,this.subject_type="none",this.connector_type="curve",this.connector_extend_line="enabled",this.contents="Type your annotation...",n&&Object.assign(this,n),this.view=Object.assign({},Mw),this.view.origin=this.view.origin.slice(),this.view.content_position={...e}}}var jw,zw;kw.getDefaultSettings=function(){const t=new kw,e=Object.assign({},t);return delete e.view,delete e.position,delete e.id,delete e.contents,e};function Nw(){return window.innerWidth!==jw&&(jw=window.innerWidth,zw=jw<=520),zw}var Aw={exports:{}};!function(t){t.exports=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(e,n,r){return r&&t(e,r),e}function n(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=n(t))||e){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function o(t){var e={exports:{}};return t(e,e.exports),e.exports}var a=o((function(t){function e(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function n(e){t.exports.defaults=e}t.exports={defaults:e(),getDefaults:e,changeDefaults:n}})),s=/[&<>"']/,l=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=function(t){return p[t]};function f(t,e){if(e){if(s.test(t))return t.replace(l,d)}else if(c.test(t))return t.replace(u,d);return t}var h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g(t){return t.replace(h,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}var _=/(^|[^\[])\^/g;function b(t,e){t=t.source||t,e=e||"";var n={replace:function(e,r){return r=(r=r.source||r).replace(_,"$1"),t=t.replace(e,r),n},getRegex:function(){return new RegExp(t,e)}};return n}var m=/[^\w:]/g,y=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function v(t,e,n){if(t){var r;try{r=decodeURIComponent(g(n)).replace(m,"").toLowerCase()}catch(t){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!y.test(n)&&(n=j(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}var w={},x=/^[^:]+:\/*[^/]*$/,M=/^([^:]+:)[\s\S]*$/,k=/^([^:]+:\/*[^/]*)[\s\S]*$/;function j(t,e){w[" "+t]||(x.test(t)?w[" "+t]=t+"/":w[" "+t]=A(t,"/",!0));var n=-1===(t=w[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(M,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(k,"$1")+e:t+e}function z(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function N(t,e){var n=t.replace(/\|/g,(function(t,e,n){for(var r=!1,i=e;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})),r=n.split(/ \|/),i=0;if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function A(t,e,n){var r=t.length;if(0===r)return"";for(var i=0;i<r;){var o=t.charAt(r-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.substr(0,r-i)}function I(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=t.length,r=0,i=0;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&--r<0)return i;return-1}function C(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function D(t,e){if(e<1)return"";for(var n="";e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t}var T={escape:f,unescape:g,edit:b,cleanUrl:v,resolveUrl:j,noopTest:{exec:function(){}},merge:z,splitCells:N,rtrim:A,findClosingBracket:I,checkSanitizeDeprecation:C,repeatString:D},E=a.defaults,S=T.rtrim,L=T.splitCells,O=T.escape,P=T.findClosingBracket;function Y(t,e,n){var r=e.href,i=e.title?O(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");return"!"!==t[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:O(o)}}function F(t,e){var n=t.match(/^(\s+)(?:```)/);if(null===n)return e;var r=n[1];return e.split("\n").map((function(t){var e=t.match(/^\s+/);return null===e?t:e[0].length>=r.length?t.slice(r.length):t})).join("\n")}var U=function(){function t(t){this.options=t||E}var e=t.prototype;return e.space=function(t){var e=this.rules.block.newline.exec(t);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:"\n"}},e.code=function(t,e){var n=this.rules.block.code.exec(t);if(n){var r=e[e.length-1];if(r&&"paragraph"===r.type)return{raw:n[0],text:n[0].trimRight()};var i=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:S(i,"\n")}}},e.fences=function(t){var e=this.rules.block.fences.exec(t);if(e){var n=e[0],r=F(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim():e[2],text:r}}},e.heading=function(t){var e=this.rules.block.heading.exec(t);if(e){var n=e[2].trim();if(/#$/.test(n)){var r=S(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n}}},e.nptable=function(t){var e=this.rules.block.nptable.exec(t);if(e){var n={type:"table",header:L(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(n.header.length===n.align.length){var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=L(n.cells[r],n.header.length);return n}}},e.hr=function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}},e.blockquote=function(t){var e=this.rules.block.blockquote.exec(t);if(e){var n=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],text:n}}},e.list=function(t){var e=this.rules.block.list.exec(t);if(e){var n,r,i,o,a,s,l,c,u=e[0],p=e[2],d=p.length>1,f={type:"list",raw:u,ordered:d,start:d?+p.slice(0,-1):"",loose:!1,items:[]},h=e[0].match(this.rules.block.item),g=!1,_=h.length;i=this.rules.block.listItemStart.exec(h[0]);for(var b=0;b<_;b++){if(u=n=h[b],b!==_-1){if(o=this.rules.block.listItemStart.exec(h[b+1]),this.options.pedantic?o[1].length>i[1].length:o[1].length>i[0].length||o[1].length>3){h.splice(b,2,h[b]+"\n"+h[b+1]),b--,_--;continue}(!this.options.pedantic||this.options.smartLists?o[2][o[2].length-1]!==p[p.length-1]:d===(1===o[2].length))&&(a=h.slice(b+1).join("\n"),f.raw=f.raw.substring(0,f.raw.length-a.length),b=_-1),i=o}r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+r+"}","gm"),"")),s=g||/\n\n(?!\s*$)/.test(n),b!==_-1&&(g="\n"===n.charAt(n.length-1),s||(s=g)),s&&(f.loose=!0),this.options.gfm&&(c=void 0,(l=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:u,task:l,checked:c,loose:s,text:n})}return f}},e.html=function(t){var e=this.rules.block.html.exec(t);if(e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):O(e[0]):e[0]}},e.def=function(t){var e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},e.table=function(t){var e=this.rules.block.table.exec(t);if(e){var n={type:"table",header:L(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=e[0];var r,i=n.align.length;for(r=0;r<i;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=L(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},e.lheading=function(t){var e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}},e.paragraph=function(t){var e=this.rules.block.paragraph.exec(t);if(e)return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}},e.text=function(t,e){var n=this.rules.block.text.exec(t);if(n){var r=e[e.length-1];return r&&"text"===r.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},e.escape=function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:O(e[1])}},e.tag=function(t,e,n){var r=this.rules.inline.tag.exec(t);if(r)return!e&&/^<a /i.test(r[0])?e=!0:e&&/^<\/a>/i.test(r[0])&&(e=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:e,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):O(r[0]):r[0]}},e.link=function(t){var e=this.rules.inline.link.exec(t);if(e){var n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=S(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=P(e[2],"()");if(i>-1){var o=(0===e[0].indexOf("!")?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}var a=e[2],s="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);l&&(a=l[1],s=l[3])}else s=e[3]?e[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(n)?a.slice(1):a.slice(1,-1)),Y(e,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:s?s.replace(this.rules.inline._escapes,"$1"):s},e[0])}},e.reflink=function(t,e){var n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=e[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Y(n,r,n[0])}},e.strong=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.strong.start.exec(t);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){e=e.slice(-1*t.length);var i,o="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(o.lastIndex=0;null!=(r=o.exec(e));)if(i=this.rules.inline.strong.middle.exec(e.slice(0,r.index+3)))return{type:"strong",raw:t.slice(0,i[0].length),text:t.slice(2,i[0].length-2)}}},e.em=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.em.start.exec(t);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){e=e.slice(-1*t.length);var i,o="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(o.lastIndex=0;null!=(r=o.exec(e));)if(i=this.rules.inline.em.middle.exec(e.slice(0,r.index+2)))return{type:"em",raw:t.slice(0,i[0].length),text:t.slice(1,i[0].length-1)}}},e.codespan=function(t){var e=this.rules.inline.code.exec(t);if(e){var n=e[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=O(n,!0),{type:"codespan",raw:e[0],text:n}}},e.br=function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}},e.del=function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2]}},e.autolink=function(t,e){var n,r,i=this.rules.inline.autolink.exec(t);if(i)return r="@"===i[2]?"mailto:"+(n=O(this.options.mangle?e(i[1]):i[1])):n=O(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},e.url=function(t,e){var n;if(n=this.rules.inline.url.exec(t)){var r,i;if("@"===n[2])i="mailto:"+(r=O(this.options.mangle?e(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=O(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},e.inlineText=function(t,e,n){var r,i=this.rules.inline.text.exec(t);if(i)return r=e?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):O(i[0]):i[0]:O(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}},t}(),B=T.noopTest,R=T.edit,Z=T.merge,G={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:B,table:B,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};G.def=R(G.def).replace("label",G._label).replace("title",G._title).getRegex(),G.bullet=/(?:[*+-]|\d{1,9}[.)])/,G.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,G.item=R(G.item,"gm").replace(/bull/g,G.bullet).getRegex(),G.listItemStart=R(/^( *)(bull)/).replace("bull",G.bullet).getRegex(),G.list=R(G.list).replace(/bull/g,G.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+G.def.source+")").getRegex(),G._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",G._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,G.html=R(G.html,"i").replace("comment",G._comment).replace("tag",G._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),G.paragraph=R(G._paragraph).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",G._tag).getRegex(),G.blockquote=R(G.blockquote).replace("paragraph",G.paragraph).getRegex(),G.normal=Z({},G),G.gfm=Z({},G.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),G.gfm.nptable=R(G.gfm.nptable).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",G._tag).getRegex(),G.gfm.table=R(G.gfm.table).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",G._tag).getRegex(),G.pedantic=Z({},G.normal,{html:R("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",G._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:B,paragraph:R(G.normal._paragraph).replace("hr",G.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",G.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var H={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:B,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:B,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};H.punctuation=R(H.punctuation).replace(/punctuation/g,H._punctuation).getRegex(),H._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",H._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",H._comment=R(G._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),H.em.start=R(H.em.start).replace(/punctuation/g,H._punctuation).getRegex(),H.em.middle=R(H.em.middle).replace(/punctuation/g,H._punctuation).replace(/overlapSkip/g,H._overlapSkip).getRegex(),H.em.endAst=R(H.em.endAst,"g").replace(/punctuation/g,H._punctuation).getRegex(),H.em.endUnd=R(H.em.endUnd,"g").replace(/punctuation/g,H._punctuation).getRegex(),H.strong.start=R(H.strong.start).replace(/punctuation/g,H._punctuation).getRegex(),H.strong.middle=R(H.strong.middle).replace(/punctuation/g,H._punctuation).replace(/overlapSkip/g,H._overlapSkip).getRegex(),H.strong.endAst=R(H.strong.endAst,"g").replace(/punctuation/g,H._punctuation).getRegex(),H.strong.endUnd=R(H.strong.endUnd,"g").replace(/punctuation/g,H._punctuation).getRegex(),H.blockSkip=R(H._blockSkip,"g").getRegex(),H.overlapSkip=R(H._overlapSkip,"g").getRegex(),H._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,H._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,H._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,H.autolink=R(H.autolink).replace("scheme",H._scheme).replace("email",H._email).getRegex(),H._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,H.tag=R(H.tag).replace("comment",H._comment).replace("attribute",H._attribute).getRegex(),H._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,H._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,H._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,H.link=R(H.link).replace("label",H._label).replace("href",H._href).replace("title",H._title).getRegex(),H.reflink=R(H.reflink).replace("label",H._label).getRegex(),H.reflinkSearch=R(H.reflinkSearch,"g").replace("reflink",H.reflink).replace("nolink",H.nolink).getRegex(),H.normal=Z({},H),H.pedantic=Z({},H.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:R(/^!?\[(label)\]\((.*?)\)/).replace("label",H._label).getRegex(),reflink:R(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",H._label).getRegex()}),H.gfm=Z({},H.normal,{escape:R(H.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),H.gfm.url=R(H.gfm.url,"i").replace("email",H.gfm._extended_email).getRegex(),H.breaks=Z({},H.gfm,{br:R(H.br).replace("{2,}","*").getRegex(),text:R(H.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Q={block:G,inline:H},$=a.defaults,W=Q.block,q=Q.inline,V=T.repeatString;function X(t){return t.replace(/---/g,"â€”").replace(/--/g,"â€“").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â€˜").replace(/'/g,"â€™").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â€œ").replace(/"/g,"â€").replace(/\.{3}/g,"â€¦")}function J(t){var e,n,r="",i=t.length;for(e=0;e<i;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var K=function(){function t(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||$,this.options.tokenizer=this.options.tokenizer||new U,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var e={block:W.normal,inline:q.normal};this.options.pedantic?(e.block=W.pedantic,e.inline=q.pedantic):this.options.gfm&&(e.block=W.gfm,this.options.breaks?e.inline=q.breaks:e.inline=q.gfm),this.tokenizer.rules=e}t.lex=function(e,n){return new t(n).lex(e)},t.lexInline=function(e,n){return new t(n).inlineTokens(e)};var n=t.prototype;return n.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(t,e,n){var r,i,o,a;for(void 0===e&&(e=[]),void 0===n&&(n=!0),this.options.pedantic&&(t=t.replace(/^ +$/gm,""));t;)if(r=this.tokenizer.space(t))t=t.substring(r.raw.length),r.type&&e.push(r);else if(r=this.tokenizer.code(t,e))t=t.substring(r.raw.length),r.type?e.push(r):((a=e[e.length-1]).raw+="\n"+r.raw,a.text+="\n"+r.text);else if(r=this.tokenizer.fences(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.heading(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.nptable(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.hr(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.blockquote(t))t=t.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),e.push(r);else if(r=this.tokenizer.list(t)){for(t=t.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);e.push(r)}else if(r=this.tokenizer.html(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.def(t)))t=t.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.lheading(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.paragraph(t)))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.text(t,e))t=t.substring(r.raw.length),r.type?e.push(r):((a=e[e.length-1]).raw+="\n"+r.raw,a.text+="\n"+r.text);else if(t){var s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}return e},n.inline=function(t){var e,n,r,i,o,a,s=t.length;for(e=0;e<s;e++)switch((a=t[e]).type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},i=a.header.length,n=0;n<i;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(i=a.cells.length,n=0;n<i;n++)for(o=a.cells[n],a.tokens.cells[n]=[],r=0;r<o.length;r++)a.tokens.cells[n][r]=[],this.inlineTokens(o[r],a.tokens.cells[n][r]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(i=a.items.length,n=0;n<i;n++)this.inline(a.items[n].tokens)}return t},n.inlineTokens=function(t,e,n,r){var i;void 0===e&&(e=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var o,a,s,l=t;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+V("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+V("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;t;)if(a||(s=""),a=!1,i=this.tokenizer.escape(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.tag(t,n,r))t=t.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,e.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.strong(t,l,s))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.em(t,l,s))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.autolink(t,J))t=t.substring(i.raw.length),e.push(i);else if(n||!(i=this.tokenizer.url(t,J))){if(i=this.tokenizer.inlineText(t,r,X))t=t.substring(i.raw.length),s=i.raw.slice(-1),a=!0,e.push(i);else if(t){var u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}else t=t.substring(i.raw.length),e.push(i);return e},e(t,null,[{key:"rules",get:function(){return{block:W,inline:q}}}]),t}(),tt=a.defaults,et=T.cleanUrl,nt=T.escape,rt=function(){function t(t){this.options=t||tt}var e=t.prototype;return e.code=function(t,e,n){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(t,r);null!=i&&i!==t&&(n=!0,t=i)}return t=t.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+nt(r,!0)+'">'+(n?t:nt(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:nt(t,!0))+"</code></pre>\n"},e.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},e.html=function(t){return t},e.heading=function(t,e,n,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},e.listitem=function(t){return"<li>"+t+"</li>\n"},e.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(t){return"<p>"+t+"</p>\n"},e.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},e.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},e.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},e.strong=function(t){return"<strong>"+t+"</strong>"},e.em=function(t){return"<em>"+t+"</em>"},e.codespan=function(t){return"<code>"+t+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(t){return"<del>"+t+"</del>"},e.link=function(t,e,n){if(null===(t=et(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<a href="'+nt(t)+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>"},e.image=function(t,e,n){if(null===(t=et(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">"},e.text=function(t){return t},t}(),it=function(){function t(){}var e=t.prototype;return e.strong=function(t){return t},e.em=function(t){return t},e.codespan=function(t){return t},e.del=function(t){return t},e.html=function(t){return t},e.text=function(t){return t},e.link=function(t,e,n){return""+n},e.image=function(t,e,n){return""+n},e.br=function(){return""},t}(),ot=function(){function t(){this.seen={}}var e=t.prototype;return e.serialize=function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function(t,e){var n=t,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[t];do{n=t+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=r,this.seen[n]=0),n},e.slug=function(t,e){void 0===e&&(e={});var n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)},t}(),at=a.defaults,st=T.unescape,lt=function(){function t(t){this.options=t||at,this.options.renderer=this.options.renderer||new rt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new it,this.slugger=new ot}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var e=t.prototype;return e.parse=function(t,e){void 0===e&&(e=!0);var n,r,i,o,a,s,l,c,u,p,d,f,h,g,_,b,m,y,v="",w=t.length;for(n=0;n<w;n++)switch((p=t[n]).type){case"space":continue;case"hr":v+=this.renderer.hr();continue;case"heading":v+=this.renderer.heading(this.parseInline(p.tokens),p.depth,st(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue;case"code":v+=this.renderer.code(p.text,p.lang,p.escaped);continue;case"table":for(c="",l="",o=p.header.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(p.tokens.header[r]),{header:!0,align:p.align[r]});for(c+=this.renderer.tablerow(l),u="",o=p.cells.length,r=0;r<o;r++){for(l="",a=(s=p.tokens.cells[r]).length,i=0;i<a;i++)l+=this.renderer.tablecell(this.parseInline(s[i]),{header:!1,align:p.align[i]});u+=this.renderer.tablerow(l)}v+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(p.tokens),v+=this.renderer.blockquote(u);continue;case"list":for(d=p.ordered,f=p.start,h=p.loose,o=p.items.length,u="",r=0;r<o;r++)b=(_=p.items[r]).checked,m=_.task,g="",_.task&&(y=this.renderer.checkbox(b),h?_.tokens.length>0&&"text"===_.tokens[0].type?(_.tokens[0].text=y+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&"text"===_.tokens[0].tokens[0].type&&(_.tokens[0].tokens[0].text=y+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:y}):g+=y),g+=this.parse(_.tokens,h),u+=this.renderer.listitem(g,m,b);v+=this.renderer.list(u,d,f);continue;case"html":v+=this.renderer.html(p.text);continue;case"paragraph":v+=this.renderer.paragraph(this.parseInline(p.tokens));continue;case"text":for(u=p.tokens?this.parseInline(p.tokens):p.text;n+1<w&&"text"===t[n+1].type;)u+="\n"+((p=t[++n]).tokens?this.parseInline(p.tokens):p.text);v+=e?this.renderer.paragraph(u):u;continue;default:var x='Token with "'+p.type+'" type was not found.';if(this.options.silent)return void console.error(x);throw new Error(x)}return v},e.parseInline=function(t,e){e=e||this.renderer;var n,r,i="",o=t.length;for(n=0;n<o;n++)switch((r=t[n]).type){case"escape":case"text":i+=e.text(r.text);break;case"html":i+=e.html(r.text);break;case"link":i+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":i+=e.image(r.href,r.title,r.text);break;case"strong":i+=e.strong(this.parseInline(r.tokens,e));break;case"em":i+=e.em(this.parseInline(r.tokens,e));break;case"codespan":i+=e.codespan(r.text);break;case"br":i+=e.br();break;case"del":i+=e.del(this.parseInline(r.tokens,e));break;default:var a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}return i},t}(),ct=T.merge,ut=T.checkSanitizeDeprecation,pt=T.escape,dt=a.getDefaults,ft=a.changeDefaults,ht=a.defaults;function gt(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),e=ct({},gt.defaults,e||{}),ut(e),n){var r,i=e.highlight;try{r=K.lex(t,e)}catch(t){return n(t)}var o=function(t){var o;if(!t)try{o=lt.parse(r,e)}catch(e){t=e}return e.highlight=i,t?n(t):n(null,o)};if(!i||i.length<3)return o();if(delete e.highlight,!r.length)return o();var a=0;return gt.walkTokens(r,(function(t){"code"===t.type&&(a++,setTimeout((function(){i(t.text,t.lang,(function(e,n){if(e)return o(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),0==--a&&o()}))}),0))})),void(0===a&&o())}try{var s=K.lex(t,e);return e.walkTokens&&gt.walkTokens(s,e.walkTokens),lt.parse(s,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+pt(t.message+"",!0)+"</pre>";throw t}}gt.options=gt.setOptions=function(t){return ct(gt.defaults,t),ft(gt.defaults),gt},gt.getDefaults=dt,gt.defaults=ht,gt.use=function(t){var e=ct({},t);if(t.renderer&&function(){var n=gt.defaults.renderer||new rt,r=function(e){var r=n[e];n[e]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=t.renderer[e].apply(n,o);return!1===s&&(s=r.apply(n,o)),s}};for(var i in t.renderer)r(i);e.renderer=n}(),t.tokenizer&&function(){var n=gt.defaults.tokenizer||new U,r=function(e){var r=n[e];n[e]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=t.tokenizer[e].apply(n,o);return!1===s&&(s=r.apply(n,o)),s}};for(var i in t.tokenizer)r(i);e.tokenizer=n}(),t.walkTokens){var n=gt.defaults.walkTokens;e.walkTokens=function(e){t.walkTokens(e),n&&n(e)}}gt.setOptions(e)},gt.walkTokens=function(t,e){for(var n,r=i(t);!(n=r()).done;){var o=n.value;switch(e(o),o.type){case"table":for(var a,s=i(o.tokens.header);!(a=s()).done;){var l=a.value;gt.walkTokens(l,e)}for(var c,u=i(o.tokens.cells);!(c=u()).done;)for(var p,d=i(c.value);!(p=d()).done;){var f=p.value;gt.walkTokens(f,e)}break;case"list":gt.walkTokens(o.items,e);break;default:o.tokens&&gt.walkTokens(o.tokens,e)}}},gt.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ct({},gt.defaults,e||{}),ut(e);try{var n=K.lexInline(t,e);return e.walkTokens&&gt.walkTokens(n,e.walkTokens),lt.parseInline(n,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+pt(t.message+"",!0)+"</pre>";throw t}},gt.Parser=lt,gt.parser=lt.parse,gt.Renderer=rt,gt.TextRenderer=it,gt.Lexer=K,gt.lexer=K.lex,gt.Tokenizer=U,gt.Slugger=ot,gt.parse=gt;var _t=gt;return _t}()}(Aw);var Iw=Aw.exports,Cw={gfm:!0,breaks:!0};function Dw(t){return t=String(t||""),"<div class='fl-annotation-contents'>"+(t=Iw(t,Cw))+"</div>"}var Tw,Ew={exports:{}},Sw={exports:{}},Lw=function(t){return null!=t},Ow=Lw,Pw=Object.keys,Yw=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}()?Object.keys:function(t){return Pw(Ow(t)?Object(t):t)},Fw=Lw,Uw=Yw,Bw=function(t){if(!Fw(t))throw new TypeError("Cannot use null or undefined");return t},Rw=Math.max,Zw=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}()?Object.assign:function(t,e){var n,r,i,o=Rw(arguments.length,2);for(t=Object(Bw(t)),i=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},r=1;r<o;++r)Uw(e=arguments[r]).forEach(i);if(void 0!==n)throw n;return t},Gw=Lw,Hw=Array.prototype.forEach,Qw=Object.create,$w="razdwatrzy",Ww=String.prototype.indexOf,qw="function"==typeof $w.contains&&!0===$w.contains("dwa")&&!1===$w.contains("foo")?String.prototype.contains:function(t){return Ww.call(this,t,arguments[1])>-1},Vw=Zw,Xw=function(t){var e=Qw(null);return Hw.call(arguments,(function(t){Gw(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)})),e},Jw=function(t){return"function"==typeof t},Kw=qw;Tw=Sw.exports=function(t,e){var n,r,i,o,a;return arguments.length<2||"string"!=typeof t?(o=e,e=t,t=null):o=arguments[2],null==t?(n=i=!0,r=!1):(n=Kw.call(t,"c"),r=Kw.call(t,"e"),i=Kw.call(t,"w")),a={value:e,configurable:n,enumerable:r,writable:i},o?Vw(Xw(o),a):a},Tw.gs=function(t,e,n){var r,i,o,a;return"string"!=typeof t?(o=n,n=e,e=t,t=null):o=arguments[3],null==e?e=void 0:Jw(e)?null==n?n=void 0:Jw(n)||(o=n,n=void 0):(o=e,e=n=void 0),null==t?(r=!0,i=!1):(r=Kw.call(t,"c"),i=Kw.call(t,"e")),a={get:e,set:n,configurable:r,enumerable:i},o?Vw(Xw(o),a):a};var tx,ex,nx,rx=function(t){return t&&("symbol"==typeof t||"Symbol"===t["@@toStringTag"])||!1},ix=Sw.exports,ox=function(t){if(!rx(t))throw new TypeError(t+" is not a symbol");return t},ax=Object.create,sx=Object.defineProperties,lx=Object.defineProperty,cx=Object.prototype,ux=ax(null),px=(nx=ax(null),function(t){for(var e,n=0;nx[t+(n||"")];)++n;return nx[t+=n||""]=!0,lx(cx,e="@@"+t,ix.gs(null,(function(t){lx(this,e,ix(t))}))),e});ex=function t(e){if(this instanceof ex)throw new TypeError("TypeError: Symbol is not a constructor");return t()};var dx=tx=function t(e){var n;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return n=ax(ex.prototype),e=void 0===e?"":String(e),sx(n,{__description__:ix("",e),__name__:ix("",px(e))})};sx(tx,{for:ix((function(t){return ux[t]?ux[t]:ux[t]=tx(String(t))})),keyFor:ix((function(t){var e;for(e in ox(t),ux)if(ux[e]===t)return e})),hasInstance:ix("",tx("hasInstance")),isConcatSpreadable:ix("",tx("isConcatSpreadable")),iterator:ix("",tx("iterator")),match:ix("",tx("match")),replace:ix("",tx("replace")),search:ix("",tx("search")),species:ix("",tx("species")),split:ix("",tx("split")),toPrimitive:ix("",tx("toPrimitive")),toStringTag:ix("",tx("toStringTag")),unscopables:ix("",tx("unscopables"))}),sx(ex.prototype,{constructor:ix(tx),toString:ix("",(function(){return this.__name__}))}),sx(tx.prototype,{toString:ix((function(){return"Symbol ("+ox(this).__description__+")"})),valueOf:ix((function(){return ox(this)}))}),lx(tx.prototype,tx.toPrimitive,ix("",(function(){return ox(this)}))),lx(tx.prototype,tx.toStringTag,ix("c","Symbol")),lx(ex.prototype,tx.toPrimitive,ix("c",tx.prototype[tx.toPrimitive])),lx(ex.prototype,tx.toStringTag,ix("c",tx.prototype[tx.toStringTag]));var fx=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return"symbol"==typeof Symbol.iterator||"object"==typeof Symbol.isConcatSpreadable&&("object"==typeof Symbol.iterator&&("object"==typeof Symbol.toPrimitive&&("object"==typeof Symbol.toStringTag&&"object"==typeof Symbol.unscopables)))}()?Symbol:dx;Ew.exports=gx,Ew.exports.array=function(t){var e,n=t.length;return i(),r[hx]=!0,r;function r(){return t.length!==n?(n=t.length,i(),!0):e()}function i(){for(var n=[],r=0;r<t.length;r++)!function(e){n[e]=function(){return t[e]}}(r);e=gx(n)}};var hx=fx("see-change-array");function gx(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n]();return function(){for(var n=!1,r=0;r<t.length;r++){var i=t[r],o=i();if(i[hx])o&&(n=!0,e[r]=o);else o!==e[r]&&(n=!0,e[r]=o)}return n}}var _x=Ew.exports;function bx(t,e,n,r){const{anchor:i,label_bbox:o}=r;let a=e[0],s=e[1],l=n[0]-i.x,c=n[1]-i.y;const u=o[2],p=o[3],d=.1*i.padding;let f=l-a,h=c-s,g=!!r.extend_line,_=yx(t,e,n,g,r);if(!g&&f<0&&_<=0&&(l+=u/(2+_),f=l-a),"rect"===t){var b=r.radius_x+r.radius_pad,m=r.radius_y+r.radius_pad;f=l,h=c,b>0&&f>-b||b<0&&f<+b?a=Math.abs(b)>Math.abs(f)?0:b:a-=b,m>0&&h>-m||m<0&&h<+m?s=Math.abs(m)>Math.abs(h)?0:m:s-=m}c<0?c+=p+d:c-=d,a===u/2&&s===p/2&&(a=l,s=c),f=l-a,h=c-s;let y=l,v=c,w=c<s&&l>a||l<a&&c>s?-1:1;if(Math.abs(f)<Math.abs(h)?(y=l,v=s+f*w):(v=c,y=a+h*w),("circle"===t||"point"===t)&&r.radius){let t=r.radius;const e=Math.sqrt(f*f+h*h);e<t-r.radius_pad?t-=r.radius_pad:e>t+r.radius_pad&&(t+=r.radius_pad);const n=t/Math.sqrt(2);if(Math.abs(f)>n&&Math.abs(h)>n)return a=n*(l<0?-1:1),s=n*(c<0?-1:1),mx(g?[[[a,s],[y,v],[l,c]],[[l,c],[l+u,c]]]:[[[a,s],[y,v],[l,c]]]);if(Math.abs(f)>Math.abs(h)){const e=Math.asin(-c/t);a=Math.abs(Math.cos(e)*t)*(l<0?-1:1);return mx(g?[[[a,c],[l,c]],[[l,c],[l+u,c]]]:[[[a,c],[l,c]]])}{const e=Math.acos(l/t);s=Math.abs(Math.sin(e)*t)*(c<0?-1:1);return mx(g?[[[l,s],[l,c]],[[l,c],[l+u,c]]]:[[[l,s],[l,c]]])}}return mx(g?[[[a,s],[y,v],[l,c]],[[l,c],[l+u,c]]]:[[[a,s],[y,v],[l,c]]])}function mx(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=0===r?"M":"L",o=t[n][r][0],a=t[n][r][1];e.push(i+o+","+a)}return e.join(" ")}function yx(t,e,n,r,i){const o=i.label_bbox;let a=e[0],s=o[0],l=o[2];return!!r||s-a>0?1:s-a<-l?-1:0}function vx(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1],a=r[0]-n[0],s=r[1]-n[1],l=i*s-o*a;if(0===l)return 1/0;var c=n[0]-t[0],u=n[1]-t[1],p=(c*s-u*a)/l;if(p<0||p>1)return 1/0;var d=(c*o-u*i)/l;return d<0||d>1?1/0:p}function wx(t,e,n,r){var i=n[1][1],o=n[0][1],a=n[0][0],s=n[1][0],l=vx(t,e,[i,a],[i,s]),c=vx(t,e,[i,a],[o,a]),u=vx(t,e,[o,a],[o,s]),p=vx(t,e,[i,s],[o,s]);return!((i=Math.min(l,c,u,p))>=1/0)&&(r&&(r[0]=t[0]+(e[0]-t[0])*i,r[1]=t[1]+(e[1]-t[1])*i),!0)}function xx(t,e,n,r){const i=r[2],o=r[3],a=r[0]+i/2,s=r[1]+o/2,l=Math.abs(t-a),c=Math.abs(e-s);if(l>i/2+n)return!1;if(c>o/2+n)return!1;if(l<=i/2)return!0;if(c<=o/2)return!0;return(l-i/2)**2+(c-o/2)**2<=n**2}bx.align=yx;var Mx=[0,0];function kx(t,e,n,r){const{label_bbox:i,radius_x:o,radius_y:a,radius:s,radius_pad:l}=r,c=e[0],u=e[1],p=n[0],d=n[1];if("rect"===t){return wx([p,d],[0,0],[[-a-l,-o-l],[+a+l,+o+l]],Mx)?jx([[Mx,[p,d]]]):void 0}if("circle"===t||"point"===t||"none"===t){var f=Math.sqrt(p*p+d*d),h=s+l,g=h*p/f,_=h*d/f;if(Mx[0]=g,Mx[1]=_,xx(c,u,h,i))return;return jx([[Mx,[p,d]]])}return jx([[[c,u],[p,d]]])}function jx(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=0===r?"M":"L",o=t[n][r][0],a=t[n][r][1];e.push(i+o+","+a)}return e.join(" ")}function zx(t,e,n,r){const{anchor:i,label_bbox:o}=r;let a=e[0],s=e[1],l=n[0]-i.x,c=n[1]-i.y;const u=o[2],p=o[3],d=.1*i.padding;let f=l-a,h=c-s,g=!!r.extend_line,_=Ax(t,e,n,g,r);if(!g&&f<0&&0===_&&(l+=u/2,f=l-a),"rect"===t){var b=r.radius_x+2*r.radius_pad,m=r.radius_y+2*r.radius_pad;f=l,h=c;var y=f<b&&f+u>-b;y?(a=0,s=Math.sign(h)*m):(a=Math.sign(f)*b,s=0)}if(c<0?c+=p+d:c-=d,a===u/2&&s===p/2&&(a=l,s=c),"rect"===t){if(y)return Nx(g?[[[0,s],[0,c]],[[Math.min(l,0),c],[Math.max(0,l+u),c]]]:[[[0,s],[0,c]],[[0,c],[l,c]]]);{const t=l<0?(a+l+u)/2:(a+l)/2;return Nx(g?[[[a,s],[t,s],[t,c],[l,c]],[[l,c],[l+u,c]]]:[[[a,s],[t,s],[t,c],[-1===_?l+u:l,c]]])}}if(f=l-a,h=c-s,"circle"===t||"point"===t||"none"===t){let t=r.radius||0;const e=Math.sqrt(f*f+h*h);e<t-r.radius_pad?t-=r.radius_pad:e>t+r.radius_pad&&(t+=r.radius_pad);var v=1;if(Math.abs(l)>t&&(l>0||l<-t-u)){l<-t&&(v*=-1,l+=u),a=t*(l<0?-1:1),s=0;const e=(a+l)/2;return Nx(g?[[[a,s],[e,s],[e,c],[l,c]],[[l,c],[l+u*v,c]]]:0===_?[[[a,s],[l,s],[l,c]]]:[[[a,s],[e,s],[e,c],[l,c]]])}return s=t*(c<0?-1:1),Nx(g?[[[a,s],[a,c],[l,c]],[[l,c],[l+u*v,c]]]:-1===_?[[[a,s],[a,c],[l+u,c]]]:[[[a,s],[a,c],[l,c]]])}throw new Error("Unexpected annotation type for getStep()")}function Nx(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=0===r?"M":"L",o=t[n][r][0],a=t[n][r][1];e.push(i+o+","+a)}return e.join(" ")}function Ax(t,e,n,r,i){const o=i.label_bbox;let a=e[0],s=o[0],l=o[2];return!!r||s-a>0?1:s-a<-l?-1:0}kx.align=function(t,e,n,r,i){return 1===i.anchor.normal_x?-1:1},zx.align=Ax;var Ix=[0,0];function Cx(t,e,n,r){const{anchor:i,label_bbox:o,radius_x:a,radius_y:s,radius:l,radius_pad:c}=r,u=e[0],p=e[1],d=n[0],f=n[1],h=p-f,g=(u-d)*i.normal_y+h*-i.normal_x>=0?1:0,_=Math.sqrt(d*d+f*f),b=("rect"==t?a:l)+c,m=b*d/_,y=b*f/_,v=Math.atan2(y,m)+(g?-.4:.4);if("rect"!==t){if("circle"===t||"point"===t||"none"===t){const t=Math.sqrt(m*m+y*y);if(Ix[0]=Math.cos(v)*t,Ix[1]=Math.sin(v)*t,xx(u,p,b,o))return;return Dx(Ix[0],Ix[1],d,f,g)}return Dx(u,p,d,f,g)}{const t=-s-c,e=-a-c,n=+s+c,r=+a+c;if(wx([d,f],[0,0],[[t,e],[n,r]],Ix)){return wx([5e3*Math.cos(v),5e3*Math.sin(v)],[0,0],[[t,e],[n,r]],Ix),Dx(Ix[0],Ix[1],d,f,g)}}}function Dx(t,e,n,r,i){var o=t-n,a=e-r,s=.8*Math.sqrt(o*o+a*a);return"M"+t+","+e+" A"+s+","+.8*s+" 0 0 "+i+" "+n+","+r}Cx.align=function(t,e,n,r,i){return 1===i.anchor.normal_x?-1:1};var Tx,Ex={polyline:bx,direct:kx,step:zx,curve:Cx,none:()=>"",popup:()=>""};const Sx={},Lx={arrowhead:(t,e,n)=>t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX","7.5").attr("refY","5").attr("markerWidth","5").attr("markerHeight","5").attr("orient","auto-start-reverse").attr("fill",n).append("path").attr("d","M 0 0 L 10 5 L 0 10 z"),arrowhead_open:(t,e,n)=>t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX","7.5").attr("refY","5").attr("markerWidth","5").attr("markerHeight","5").attr("orient","auto-start-reverse").attr("stroke",n).attr("stroke-width",2).attr("fill","none").append("path").attr("d","M 3 0 L 10 5 L 3 10")};var Ox,Px;function Yx(t){return window.innerWidth!==Ox&&(Ox=window.innerWidth,Px=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*Px}Object.keys(Lx).forEach((t=>Sx[t]={}));const Fx=Object.create?Object.create(null):{};class Ux{constructor(t,e,n,r,i){var o;this.id=t,this.state=e.view,this.parent=n,this.parent_svg=r,this.parent_annotations=i,this.settings=e,this.selected=!1,this.editable=!1,this.active=!0,this.shouldUpdatePath=_x(this.pathDependencies().concat([()=>this.parent_annotations,()=>this.getPositionFromData(this.state.content_position)?.[0],()=>this.getPositionFromData(this.state.content_position)?.[1],()=>this.getPositionFromData(this.settings.position)?.[0],()=>this.getPositionFromData(this.settings.position)?.[1],()=>this.settings.contents,()=>this.settings.text_size,()=>this.settings.text_alignment,()=>this.settings.text_weight,()=>this.settings.text_line_height,()=>this.settings.label_width,()=>this.settings.stroke_color,()=>this.settings.stroke_width,()=>this.settings.connector_type,()=>this.settings.subject_type,()=>this.settings.line_marker,()=>this.settings.connector_extend_line,()=>window.innerWidth,()=>window.innerHeight,(o=!1,()=>o||!(o=!0))])),this.shouldUpdateContents=_x([()=>this.parent_annotations,()=>this.getPositionFromData(this.state.content_position)?.[0],()=>this.getPositionFromData(this.state.content_position)?.[1],()=>this.getPositionFromData(this.settings.position)?.[0],()=>this.getPositionFromData(this.settings.position)?.[1],()=>this.settings.contents,()=>this.settings.text_size,()=>this.settings.text_alignment,()=>this.settings.text_weight,()=>this.settings.text_line_height,()=>this.settings.text_background_mode,()=>this.settings.text_bg,()=>this.settings.label_width,()=>this.settings.label_bg,()=>this.settings.connector_type,()=>this.settings.subject_type,()=>this.settings.line_marker,()=>this.settings.connector_extend_line,()=>window.innerWidth,()=>window.innerHeight,function(){var t=!1;return()=>t||!(t=!0)}()]),this.element=Lh(r).append("g").attr("data-annotation-id",this.id).attr("data-annotation-interactive",!0).classed("fl-annotations-node",!0).node(),this.el_path=Lh(this.element).append("path").style("stroke",this.settings.stroke_color).style("stroke-width",this.settings.stroke_width).style("fill","none").classed("fl-connector",!0),this.el_content=Lh(n).append("aside").attr("data-annotation-content","true").style("position","absolute").style("direction","ltr").classed("fl-annotations-inline",!0),this.el_content_bg=this.el_content.append("div").style("position","absolute").classed("fl-label-bg",!0),this.el_content_fg=this.el_content.append("div").style("position","absolute").classed("fl-label-fg",!0),this.id&&(Fx[this.id]=this),this._updateContents()}pathDependencies(){return[]}updatePath(t,e,n){const r=Ex[this.getConnectorType()],i="disabled"!==this.settings.connector_extend_line,o=-1==(r.align?r.align(this.type,t,e,i,n):1)?"right":"left",a="auto"===this.settings.text_alignment?o:this.settings.text_alignment;Object.assign(n,{extend_line:i});const s=r(this.type,t,e,n);this.el_path.attr("d",s||""),this.el_path.attr("visibility",this._displayPath()?"visible":"hidden"),this.el_content_bg.style("text-align",a),this.el_content_fg.style("text-align",a);var l=this.settings.stroke_color;this.el_path.style("stroke",this.settings.stroke_color).style("stroke-opacity",this.settings.stroke_opacity).style("stroke-width",n.connector_width||this.settings.stroke_width).style("stroke-linecap","square").style("stroke-dasharray",n.connector_dash?"4, 4":null).attr("marker-start",function(t,e){var n=Sx[t];if(!n)return null;var r=function(t){return t.replace(/[^a-f0-9]/gi,"-").toLowerCase()}(e),i="marker-"+t+"-"+r;return n[e]=n[e]||Lx[t](Tx,i,e),"url(#"+i+")"}(this.settings.line_marker,l)).attr("filter","url()")}ofType(t){if(t===this.constructor)return this;const{id:e,settings:n,parent:r,parent_svg:i,parent_annotations:o}=this;return this.destroy(),new t(e,n,r,i,o)}get type(){return String(this.constructor.name)}getPositionFromData(t){if(t)return this.parent_annotations.getPositionFromData(t)}getDataFromCursor(t,e){const n=t||{offsetX:e[0],offsetY:e[1]};return this.parent_annotations.getDataFromCursor(n,e)}onDragStart(t,e){return!0}onDragMove(t,e){return!0}onDragEnd(t,e){return!0}update(){var t=this.getConnectorType(),e=this.state.origin[0],n=this.state.origin[1];Lh(this.element).attr("transform",`translate(${e} ${n})`).classed("fl-connector-popup","popup"==t).classed("fl-connector-line","polyline"==t||"step"==t),this.parent_annotations.isDragging()&&this._selectAndUpdateStateAnchor(),this._updateContents()}_selectAndUpdateStateAnchor(){this.state.anchor_normal=this._selectAnchorNormal()}_selectAnchorNormal(){const t=[{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:-1,y:0}];if(!this.state.content_position)return t[2];const e=this.getPositionFromData(this.state.content_position);if(!e)return t[2];const n=this.el_content_fg.node().getBoundingClientRect(),r=e[0]+.5*n.width-this.state.origin[0],i=e[1]+.5*n.height-this.state.origin[1];for(let e=0;e<t.length;e+=1){const o=t[e],a=r+o.x*n.width*.5,s=i+o.y*n.height*.5;o.distance=a*o.x+s*o.y}return t.sort(((t,e)=>t.distance-e.distance)),t[0]}getAnchor(){this.state.anchor_normal||this._selectAndUpdateStateAnchor();const t=this.state.anchor_normal,e=Yx(this.settings.text_size);let n=.5*(parseFloat(this.settings.stroke_width)||1)+Math.min(Math.max(.3*e,5),12);1===t.y?n-=.15*e:-1===t.y?n-=.3*e:-1===t.x&&(n+=.025*e);const r=this.el_content_fg?this.el_content_fg.node().getBoundingClientRect():{width:0,height:0};return{x:t.x*r.width*.5+.5*r.width+t.x*n,y:t.y*r.height*.5+.5*r.height+t.y*n,normal_x:t.x,normal_y:t.y,padding:n}}_displayEditorInterface(){return this.editable&&this.active}_displayPath(){var t=this.getConnectorType();return"none"!==t&&"popup"!==t&&this._displayContent()}_displayContent(){return this.active&&"popup"!==this.getConnectorType()&&!this.popup_mobile_mode}_updateContents(){this._updateContentsDom(),this._updateContentsMarkup()}_updateContentsMarkup(){if(!this.shouldUpdateContents())return;var t=Dw(this.settings.contents);this.el_content_bg.html(t).style("width",null);const e="background"==this.settings.text_background_mode;this.el_content_fg.html(t).style("width",null).selectAll("p").style("background-color",e?this.settings.label_bg:null).style("padding",e?"0 3px":null).style("box-decoration-break","clone").style("-webkit-box-decoration-break","clone").style("display","inline");let n=0;const r=this.el_content_fg.select(".fl-annotation-contents").node().childNodes;for(let t=0;t<r.length;t++)if(r[t].nodeType===Node.ELEMENT_NODE){const e=r[t].getBoundingClientRect().width;e>n&&(n=e)}this.el_content_fg.style("width",`${n}px`),this.el_content_bg.style("width",`${n}px`)}_updateContentsDom(){const t=this.getPositionFromData(this.state.content_position),e="outline"==this.settings.text_background_mode;t&&this.el_content.style("left",t[0]+"px").style("top",t[1]+"px"),this.el_content.style("width","100%").style("color",this.settings.text_color).style("visibility",this._displayContent()?"visible":"hidden").style("font-size",this.settings.text_size+"rem").style("font-weight",this.settings.text_weight).style("line-height",this.settings.text_line_height+"em"),this.el_content_bg.style("display",e?"block":"none").style("-webkit-text-stroke-width",.15*this.settings.text_size+"rem").style("-webkit-text-stroke-color",e?this.settings.text_bg:"transparent").style("max-width",this.settings.label_width+"rem"),this.el_content_fg.style("max-width",this.settings.label_width+"rem")}getPopupPosition(t){return[0,0]}getConnectorType(){return"popup"==this.settings.device_visibility&&Nw()?"popup":this.settings.connector_type}destroy(t){t&&t.stayInDOM||!this.element.parentNode||this.element.parentNode.removeChild(this.element),this.state=null,this.element=null,this.settings=null,delete Fx[this.id]}setSelected(t){return t=!!t,this.selected!==t&&((this.selected=t)?this.element.classList.add("selected"):this.element.classList.remove("selected"),!0)}setActive(t){return this.active!==(t=!!t)&&(this.active=t,this.element.style.visibility=t?"visible":"hidden",this.el_content.style("visibility",this._displayContent()?"visible":"hidden"),this.el_path.attr("visibility",this._displayPath()?"visible":"hidden"),!0)}}Ux.getByID=function(t){return Fx[t]||null};const Bx={circle:class extends Ux{get type(){return"circle"}constructor(t,e,n,r,i){super(t,e,n,r,i),this.state.radius="radius"in this.state?this.state.radius:38,this.radius_range_axis=1.78*Math.PI,this.state.radius_range_scale=.01,this.state.radius_range_end&&this.state.radius_range_start||this.updateRadiusRange();const o=this.getRadiusScale();this.el_content.attr("data-annotation-type","circle"),this.group=Lh(this.element).classed("fl-circle",!0),this.el_circle=this.group.append("circle").classed("main-circle",!0).attr("fill","none").attr("stroke",this.settings.stroke_color).attr("stroke-width",this.settings.stroke_width).attr("cx",0).attr("cy",0).style("opacity",0).attr("r",this.state.radius*o+10),this.el_circle.transition().style("opacity",1).attr("r",this.state.radius*o),this.el_notch_radius=this.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cx",this.state.radius*o),this.el_notch_origin=this.group.append("circle").classed("fl-notch",!0).attr("r",8),this.el_content.attr("data-annotation-id",this.id),this.svg=r,this._is_drag_custom=!1,this._drag_mode_offset=!1,this._drag_mode_radius=!1,this._drag_start=[0,0],this._drag_base_position=[0,0],this._has_run=!1,this.updatePath()}pathDependencies(){return[()=>this.state.radius]}setActive(t){return!!super.setActive(t)&&(this.updateNotchVisibility(),!0)}onDragStart(t,e){this._drag_mode_offset=!!Kv(t.target,(t=>t.hasAttribute&&t.hasAttribute("data-annotation-content"))),this._drag_mode_radius=t.target===this.el_notch_radius.node(),this._drag_start[0]=e[0],this._drag_start[1]=e[1];const n=this.getPositionFromData(this.state.content_position);return this._drag_base_position[0]=n[0]-e[0],this._drag_base_position[1]=n[1]-e[1],this._is_drag_custom=this._drag_mode_offset||this._drag_mode_radius,!this._is_drag_custom}getRadiusScale(){if(!this.state||!this.state.radius_range_end||!this.state.radius_range_start)return 1;const t=this.getPositionFromData(this.state.radius_range_start),e=this.getPositionFromData(this.state.radius_range_end);if(!t||!e)return 1;const n=e[0]-t[0],r=e[1]-t[1],i=1/this.state.radius_range_scale*Math.sqrt(n*n+r*r);return Math.abs(i/this.state.radius)||1}onDragMove(t,e){if(!this._is_drag_custom)return!0;if(this._drag_mode_radius){const t=e[0]-this.state.origin[0],n=e[1]-this.state.origin[1],r=this.state.radius;this.state.radius=Math.sqrt(t*t+n*n),this.updateRadiusRange(),this.state.radius_range_end||(this.state.radius=r,this.updateRadiusRange())}else{const n=this.getDataFromCursor(t,[e[0]+this._drag_base_position[0],e[1]+this._drag_base_position[1]]);n&&(this.state.content_position=n)}return this.update(),!1}onDragEnd(t,e){return this.onDragMove(t,e)}updateRadiusRange(){this.state.radius_range_start=this.getDataFromCursor(null,this.state.origin),this.state.radius_range_end=this.getDataFromCursor(null,[this.state.origin[0]+this.state.radius_range_scale*this.state.radius*Math.cos(this.radius_range_axis),this.state.origin[1]+this.state.radius_range_scale*this.state.radius*Math.sin(this.radius_range_axis)])}update(){super.update();var t=this.getRadiusScale()*this.state.radius,e=this.settings.stroke_color;this.el_circle.style("opacity",1).attr("stroke",e).attr("stroke-opacity",this.settings.stroke_opacity).attr("stroke-width",this.settings.stroke_width).attr("fill",this.settings.subject_fill).attr("fill-opacity",this.settings.subject_fill_opacity).attr("r",t).interrupt(),this.el_notch_origin.attr("stroke",e),this.el_notch_radius.attr("stroke",e).attr("cx",t),this.updateNotchVisibility(),this.updatePath()}updatePath(){if(!this.shouldUpdatePath())return;const t=this.getPositionFromData(this.state.content_position);if(!t)return;const e=this.getAnchor(),n=t[0]-this.state.origin[0],r=t[1]-this.state.origin[1],i=this.el_content_fg.node().getBoundingClientRect(),o=[n,r,Math.max(i.width,1),Math.max(i.height,1)],a=this.state.radius*this.getRadiusScale(),s=[n+e.x,r+e.y];super.updatePath([0,0],s,{anchor:e,radius:a,radius_pad:5,label_bbox:o})}updateNotchVisibility(){var t=this._displayEditorInterface()?"visible":"hidden";this.el_notch_origin.style("visibility",t),this.el_notch_radius.style("visibility",t)}getPopupPosition(t){const e=this.state.radius*this.getRadiusScale();switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-e];case"bottom":return[0,+e];default:return[0,0]}}destroy(){const{element:t}=this,{radius:e}=this.state;super.destroy({stayInDOM:!0}),this.el_circle.transition().attr("r",e*this.getRadiusScale()+10),this.el_content.remove(),this.group.transition().style("opacity",0).on("end",(()=>Lh(t).remove()))}},point:class extends Ux{get type(){return"point"}constructor(t,e,n,r,i){super(t,e,n,r,i),this.el_content.attr("data-annotation-type","point"),this.group=Lh(this.element).classed("fl-point",!0),this.el_circle=this.group.append("circle").classed("main-point",!0).attr("cx",0).attr("cy",0).attr("r",0),this.el_circle.transition().attr("r",Yx(this.settings.point_radius)),this.el_notch_circle=this.group.append("circle").attr("cx",0).attr("cy",0).classed("fl-notch",!0).attr("r",0),this.el_notch_circle.transition().attr("r",Yx(this.settings.point_radius)+3),this.el_label=this.group.append("text"),this.el_content.attr("data-annotation-id",this.id),this.svg=r,this._drag_offset=!1,this._drag_offset_start=[0,0],this._drag_offset_base_position=[0,0]}setActive(t){return!!super.setActive(t)&&(this.el_notch_circle.attr("visibility",this._displayEditorInterface()?"visible":"hidden"),!0)}onDragStart(t,e){this._drag_offset=!!Kv(t.target,(t=>t.hasAttribute&&t.hasAttribute("data-annotation-content"))),this._drag_offset_start[0]=e[0],this._drag_offset_start[1]=e[1];const n=this.getPositionFromData(this.state.content_position);return this._drag_offset_base_position[0]=n[0]-e[0],this._drag_offset_base_position[1]=n[1]-e[1],!this._drag_offset}onDragMove(t,e){if(!this._drag_offset)return!0;const n=this.getDataFromCursor(t,[e[0]+this._drag_offset_base_position[0],e[1]+this._drag_offset_base_position[1]]);return n&&(this.state.content_position=n),this.update(),!1}onDragEnd(t,e){return this.onDragMove(t,e)}update(){super.update(),this.el_circle.style("opacity",1).style("fill",this.settings.subject_fill).transition().attr("r",Yx(this.settings.point_radius)),this.el_label.text(this.settings.point_text).style("font-size",Math.min(Yx(this.settings.text_size),1.15*Yx(this.settings.point_radius))).style("fill",this.settings.point_text_color),this.el_notch_circle.attr("visibility",this._displayEditorInterface()?"visible":"hidden").attr("stroke",this.settings.stroke_color).attr("r",Yx(this.settings.point_radius)+3),this.updatePath()}updatePath(){if(!this.shouldUpdatePath())return;const t=this.getPositionFromData(this.state.content_position);if(!t)return;const e=this.getAnchor(),n=t[0]-this.state.origin[0],r=t[1]-this.state.origin[1],i=this.el_content_fg.node().getBoundingClientRect(),o=[n,r,Math.max(i.width,1),Math.max(i.height,1)],a=[n+e.x,r+e.y],s=Yx(this.settings.point_radius);super.updatePath([0,0],a,{anchor:e,radius:s,radius_pad:5,label_bbox:o})}getPopupPosition(t){const e=Yx(this.settings.point_radius);switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-e];case"bottom":return[0,+e];default:return[0,0]}}destroy(){const{element:t}=this;super.destroy({stayInDOM:!0}),this.el_circle.transition().attr("r",0),this.el_notch_circle.transition().attr("r",0),this.el_content.style("opacity",1).transition().style("opacity",0).remove(),this.group.style("opacity",1).transition().style("opacity",0).on("end",(()=>Lh(t).remove()))}},none:class extends Ux{get type(){return"point"}constructor(t,e,n,r,i){super(t,e,n,r,i),this.el_content.attr("data-annotation-type","none"),this.group=Lh(this.element).classed("fl-point",!0),this.el_notch_origin=this.group.append("circle").attr("cx",0).attr("cy",0).classed("fl-notch",!0).attr("r",0),this.el_notch_origin.transition().attr("r",8),this.el_label=this.group.append("text"),this.el_content.attr("data-annotation-id",this.id),this.svg=r,this._drag_offset=!1,this._drag_offset_start=[0,0],this._drag_offset_base_position=[0,0]}setActive(t){return!!super.setActive(t)&&(this.el_notch_origin.attr("visibility",this._displayEditorInterface()?"visible":"hidden"),!0)}_displayEditorInterface(){return this.editable&&this.active}_displayPath(){return(this._displayEditorInterface()||"none"!==super.getConnectorType())&&this._displayContent()}_displayContent(){return this.active&&"popup"!==this.getConnectorType()&&!this.popup_mobile_mode}onDragStart(t,e){this._drag_offset=!!Kv(t.target,(t=>t.hasAttribute&&t.hasAttribute("data-annotation-content"))),this._drag_offset_start[0]=e[0],this._drag_offset_start[1]=e[1];const n=this.getPositionFromData(this.state.content_position);return this._drag_offset_base_position[0]=n[0]-e[0],this._drag_offset_base_position[1]=n[1]-e[1],!this._drag_offset}onDragMove(t,e){if(!this._drag_offset)return!0;const n=this.getDataFromCursor(t,[e[0]+this._drag_offset_base_position[0],e[1]+this._drag_offset_base_position[1]]);return n&&(this.state.content_position=n),this.update(),!1}onDragEnd(t,e){return this.onDragMove(t,e)}update(){super.update(),this.el_label.text(this.settings.point_text).style("font-size",Math.min(Yx(this.settings.text_size),1.15*Yx(this.settings.point_radius))).style("fill",this.settings.point_text_color),this.el_notch_origin.attr("visibility",this._displayEditorInterface()?"visible":"hidden").attr("stroke",this.settings.stroke_color).attr("r",8),this.updatePath()}getConnectorType(){var t=super.getConnectorType();return"none"===t?"direct":t}pathDependencies(){return[()=>this.editable,()=>this.active,()=>super.getConnectorType()]}updatePath(){if(!this.shouldUpdatePath())return;const t=this.getPositionFromData(this.state.content_position);if(!t)return;const e=this.getAnchor(),n=t[0]-this.state.origin[0],r=t[1]-this.state.origin[1],i=this.el_content_fg.node().getBoundingClientRect(),o=[n,r,Math.max(i.width,1),Math.max(i.height,1)],a=[n+e.x,r+e.y],s="none"===super.getConnectorType(),l=s?1:this.settings.stroke_width,c=s?8:0,u=s?5:0;super.updatePath([0,0],a,{anchor:e,radius:c,radius_pad:u,connector_dash:s,connector_width:l,label_bbox:o})}getPopupPosition(t){const e=Yx(this.settings.point_radius);switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-e];case"bottom":return[0,+e];default:return[0,0]}}destroy(){const{element:t}=this;super.destroy({stayInDOM:!0}),this.el_notch_origin.transition().attr("r",0),this.el_content.style("opacity",1).transition().style("opacity",0).remove(),this.group.style("opacity",1).transition().style("opacity",0).on("end",(()=>Lh(t).remove()))}},box:class extends Ux{get type(){return"rect"}constructor(t,e,n,r,i){super(t,e,n,r,i),this.state.radius_x="radius_x"in this.state?this.state.radius_x:30,this.state.radius_y="radius_y"in this.state?this.state.radius_y:30,this.state.radius_range_scale=.01,this.state.radius_x_range_start&&this.state.radius_x_range_end&&this.state.radius_y_range_start&&this.state.radius_y_range_end||this.updateRadiusRange(),this.el_content.attr("data-annotation-type","box"),this.group=Lh(this.element).classed("fl-circle",!0),this.el_box=this.group.append("rect").classed("main-circle",!0).attr("fill","none").attr("stroke","#000").attr("stroke-opacity",this.settings.stroke_color_opacity).attr("stroke-width",this.settings.stroke_width).attr("x",-this.state.radius_x*this.getRadiusScaleX()+10).attr("y",-this.state.radius_y*this.getRadiusScaleY()+10).style("opacity",0).attr("width",2*(this.state.radius_x*this.getRadiusScaleX()+10)).attr("height",2*(this.state.radius_y*this.getRadiusScaleY()+10)),this.el_box.transition().style("opacity",1).attr("width",this.state.radius_x*this.getRadiusScaleX()).attr("height",this.state.radius_y*this.getRadiusScaleY()),this.el_notch_radius_x=this.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cx",this.state.radius_x*this.getRadiusScaleX()),this.el_notch_radius_y=this.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cy",this.state.radius_y*this.getRadiusScaleY()),this.el_notch_origin=this.group.append("circle").classed("fl-notch",!0).attr("r",8),this.el_content.attr("data-annotation-id",this.id),this.svg=r,this._is_drag_custom=!1,this._drag_mode_offset=!1,this._drag_mode_radius_x=!1,this._drag_mode_radius_y=!1,this._drag_start=[0,0],this._drag_base_position=[0,0],this._has_run=!1,this.updatePath()}pathDependencies(){return[()=>this.state.radius_x,()=>this.state.radius_y]}setActive(t){return!!super.setActive(t)&&(this.updateNotchVisibility(),!0)}onDragStart(t,e){this._drag_mode_offset=!!Kv(t.target,(t=>t.hasAttribute&&t.hasAttribute("data-annotation-content"))),this._drag_mode_radius_x=t.target===this.el_notch_radius_x.node(),this._drag_mode_radius_y=t.target===this.el_notch_radius_y.node(),this._drag_start[0]=e[0],this._drag_start[1]=e[1];const n=this.getPositionFromData(this.state.content_position);return this._drag_base_position[0]=n[0]-e[0],this._drag_base_position[1]=n[1]-e[1],this._is_drag_custom=this._drag_mode_offset||this._drag_mode_radius_x||this._drag_mode_radius_y,!this._is_drag_custom}getRadiusScaleX(){if(!this.state||!this.state.radius_x_range_start||!this.state.radius_x_range_end)return 1;const t=this.getPositionFromData(this.state.radius_x_range_start),e=this.getPositionFromData(this.state.radius_x_range_end);if(!t||!e)return 1;const n=1/this.state.radius_range_scale*(t[0]-e[0]);return Math.abs(n/this.state.radius_x)||1}getRadiusScaleY(){if(!this.state||!this.state.radius_y_range_start||!this.state.radius_y_range_end)return 1;const t=this.getPositionFromData(this.state.radius_y_range_start),e=this.getPositionFromData(this.state.radius_y_range_end);if(!t||!e)return 1;const n=1/this.state.radius_range_scale*(t[1]-e[1]);return Math.abs(n/this.state.radius_y)||1}updateRadiusRange(){this.state.radius_x_range_start=this.getDataFromCursor(null,this.state.origin),this.state.radius_x_range_end=this.getDataFromCursor(null,[this.state.origin[0]+this.state.radius_range_scale*this.state.radius_x,this.state.origin[1]+this.state.radius_range_scale*this.state.radius_y]),this.state.radius_y_range_start=this.getDataFromCursor(null,this.state.origin),this.state.radius_y_range_end=this.getDataFromCursor(null,[this.state.origin[0]+this.state.radius_range_scale*this.state.radius_x,this.state.origin[1]+this.state.radius_range_scale*this.state.radius_y])}onDragMove(t,e){if(!this._is_drag_custom)return!0;if(this._drag_mode_radius_x){const t=this.state.radius_x;this.state.radius_x=Math.abs(e[0]-this.state.origin[0]),this.updateRadiusRange(),this.state.radius_x_range_end||(this.state.radius_x=t,this.updateRadiusRange())}else if(this._drag_mode_radius_y){const t=this.state.radius_y;this.state.radius_y=Math.abs(e[1]-this.state.origin[1]),this.updateRadiusRange(),this.state.radius_y_range_end||(this.state.radius_y=t,this.updateRadiusRange())}else{const n=this.getDataFromCursor(t,[e[0]+this._drag_base_position[0],e[1]+this._drag_base_position[1]]);n&&(this.state.content_position=n)}return this.update(),!1}onDragEnd(t,e){return this.onDragMove(t,e)}updateNotchVisibility(){var t=this._displayEditorInterface()?"visible":"hidden";this.el_notch_origin.style("visibility",t),this.el_notch_radius_x.style("visibility",t),this.el_notch_radius_y.style("visibility",t)}update(){super.update();var t=this.state.radius_x*this.getRadiusScaleX(),e=this.state.radius_y*this.getRadiusScaleY(),n=this.settings.stroke_color;this.el_box.style("opacity",1).attr("stroke",n).attr("stroke-opacity",this.settings.stroke_opacity).attr("stroke-width",this.settings.stroke_width).attr("fill",this.settings.subject_fill).attr("fill-opacity",this.settings.subject_fill_opacity).attr("x",-t).attr("y",-e).attr("width",2*t).attr("height",2*e).interrupt(),this.el_notch_origin.attr("stroke",n),this.el_notch_radius_x.attr("stroke",n).attr("cx",t),this.el_notch_radius_y.attr("stroke",n).attr("cy",e),this.updateNotchVisibility(),this.updatePath()}updatePath(){if(!this.shouldUpdatePath())return;const t=this.getPositionFromData(this.state.content_position);if(!t)return;const e=this.getAnchor(),n=t[0]-this.state.origin[0]+e.x,r=t[1]-this.state.origin[1]+e.y,i=this.el_content_fg.node().getBoundingClientRect(),o=[n,r,Math.max(i.width,1),Math.max(i.height,1)],a=this.state.radius_x*this.getRadiusScaleX(),s=this.state.radius_y*this.getRadiusScaleY(),l=[n,r];super.updatePath([0,0],l,{anchor:e,radius_x:a,radius_y:s,radius_pad:5,label_bbox:o})}getPopupPosition(t){const e=this.state.radius_x*this.getRadiusScaleX(),n=this.state.radius_y*this.getRadiusScaleY();switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-n];case"bottom":return[0,+n];default:return[0,0]}}destroy(){const{element:t}=this,{radius_x:e,radius_y:n}=this.state;super.destroy({stayInDOM:!0}),this.el_box.transition().attr("width",e*this.getRadiusScaleX()+10).attr("height",n*this.getRadiusScaleY()+10),this.el_content.remove(),this.group.transition().style("opacity",0).on("end",(()=>Lh(t).remove()))}}},Rx=document.createElement("img");Rx.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";var Zx={dropdown:(t,e)=>{for(var n=0;n<e.choices.length;n++){var r=e.choices[n][0],i=e.choices[n][1];if("buttons"==e.style){t.classed("buttons-container",!0),t.append("input").attr("type","radio").attr("name",e.property).attr("id",`${e.property}-${n}`).attr("value",i).on("change",(()=>{t.node().value=kh.target.value}));var o=t.append("label").attr("for",`${e.property}-${n}`),a=r.match(/fa-(\S*)/g),s=r.match(/^data:image\/(svg|svg\+xml|png|jpg)(?:;base64)?,.+$/);a?o.append("i").attr("class","fa "+a[0]):s?o.append("img").attr("src",r):o.text(r)}else t.append("option").attr("value",i).text(r)}},color:(t,e,n)=>{const r=Lh(t.node().parentNode).append("div").classed("color-picker",!0);if(null!=n){const t='<svg><path stroke="#252525" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="square" d="M1.45012627,1.45012627 L6.39987373,6.39987373 M1.45012627,6.39987373 L6.39987373,1.44987373" transform="translate(3.925000, 3.924874) rotate(-270.000000) translate(-3.925000, -3.924874) "></path></svg>';r.append("button").classed("cancel-setting",!0).html(t).on("click",(function(){Lh(this.parentNode).classed("is-null",!0),n()}))}r.append("div",(()=>t.node())).classed("color-wrapper",!0).append((()=>t.node())).attr("type","color").on("change",(function(){t.node().value=this.value,Lh(this.parentNode.parentNode).classed("is-null",!1)})).on("focus",(function(){Lh(this.parentNode.parentNode).classed("active",!0)})).on("blur",(function(){Lh(this.parentNode.parentNode).classed("active",!1)}))},number:(t,e)=>{t.attr("type","number"),null!=e.min&&t.attr("min",e.min),null!=e.max&&t.attr("max",e.max),e.step&&t.attr("step",e.step)},boolean:(t,e)=>{t.attr("type","checkbox"),Lh(t.node().parentNode).append("label").classed("slide",!0).attr("for","setting-"+e.property)},code:t=>{t.attr("type","text"),t.attr("wrap","off"),t.on("keydown.tab",(function(t){if(9===t.keyCode&&!(t.altKey||t.metaKey||t.ctrlKey||t.shiftKey)){t.preventDefault();var e=this.selectionStart;this.value=this.value.substring(0,e)+"\t"+this.value.substring(this.selectionEnd),this.selectionEnd=e+1}}))}};function Gx(t,e,n){e=function(t){return t.forEach((t=>{if(!t.show_if)return;if("function"==typeof t.show_if)return;const e=t.show_if;function n(t){for(var n in e)if(Array.isArray(e[n])){if(-1===e[n].indexOf(t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}t.show_if=n})),t}(e);var r=null,i={},o={},a=null,s=null,l="{}",c=e.reduce(((t,e)=>(t[e.property]=e,t)),{});const u=Lh(t).append("div").classed("fl-project-editor",!0),p=u.append("div").classed("side-panel",!0).append("div").classed("side-panel-inner",!0);function d(){if(r){for(var t in o)"color"===o[t].type&&Lh(o[t].parentNode.parentNode).classed("is-null")?r[t]=null:r[t]=o[t].value;g()}}return f(),p.node().addEventListener("change",d,!1),p.node().addEventListener("keyup",d,!1),p.node().addEventListener("paste",d,!1),{container:p.node(),root:u.node(),update:f,render:g,setActive:function(t){if(a===(t=!!t))return;a=t,u.classed("active-annotation",a)},setVisible:function(t){if(s===(t=!!t))return;s=t,u.style("display",s?"block":"none");var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}};function f(){o={},i={},p.html("");var t=p.append("div").attr("class","fl-annotation-settings");t.append("p").attr("class","empty-annotation-message").text("Select an annotation or create a new annotation by clicking anywhere in the visualisation");for(var n=null,r=null,a=0,s=0;s<e.length;s++){var l=e[s];if("string"!=typeof l){if("object"!=typeof l||n||r||(a++,r=t.append("div").classed("toplevel-settings-block",!0)),"hidden"!==l.type){var c=n||r;l.new_section&&(c.append("div").classed("settings-divider",!0),"string"==typeof l.new_section&&c.append("h3").classed("settings-subhead",!0).text(l.new_section));var u=_(c.append("div"),l);o[l.property]=u,i[l.property]=Kv(u,(t=>t.classList.contains("settings-option")))}}else r=null,(n=t.append("div").classed("settings-block",!0).classed("open",a<1)).append("h2").classed("no-select",!0).attr("tabindex","0").text(l).on("click",h).on("keyup",(function(){13===kh.keyCode&&h.call(this)})),"State documentation"===l&&n.style("display","none"),a++}}function h(){this.parentNode.classList.toggle("open")}function g(t){if(t!==r||JSON.stringify(r)!==l){for(var e in t&&(r=t),l=JSON.stringify(r),o){var a=o[e],s=c[e];if("buttons"==s.style&&r[e])for(var u=a.querySelectorAll("input[type=radio]"),p=a.querySelectorAll("label[for]"),d=s.choices,f=0;f<u.length;f++){var h=u[f],g=p[f],_=h.value==r[e];h.checked=_,d[f][2]&&(d[f][2](r)?g.style.display=null:g.style.display="none")}a.value=r[e],s.optional&&"color"===s.type&&(null===r[e]?a.parentNode.parentNode.classList.add("is-null"):a.parentNode.parentNode.classList.remove("is-null")),s.show_if&&(s.show_if(r)?i[e].classList.remove("hidden"):i[e].classList.add("hidden"))}n()}}function _(t,e){var n=e.choices&&("buttons"===e.style||"boolean"===e.type),r="color"===e.type&&!!e.optional;t.classed("settings-option",!0).classed("option-type-"+e.type,!0).classed("settings-buttons",n);const i=t.append("label").attr("for","setting-"+e.property).classed("hidden",null===e.name).append("h3").text(e.name).classed("no-select",!0);e.description&&i.append("i").attr("class","fl-annotations-desc help-tip").style("font-family","FontAwesome, 'Font Awesome 5 Free'").attr("data-popup-body",e.description.replace(/\[\[/g,"").replace(/\]\]/g,"")).attr("data-popup-position","top"),e.width&&t.classed("width-"+e.width.replace(/ /g,"-"),!0);var o="input";if(e.choices?o=n?"div":"select":"text"!==e.type&&"code"!==e.type||(o="textarea"),"code"===e.type){var a=!1;t.append("i").attr("class","popup fa fa-reply clickable wrap-control").attr("data-popup-body","Wrap/unwrap text").attr("data-popup-position","top").on("click",(function(){a=!a,Lh(this.parentNode).select("textarea").attr("wrap",a?null:"off"),Lh(this).classed("selected",a)}))}var s=t.append(o).attr("id","setting-"+e.property).attr("name",e.property),l=e.choices?Zx.dropdown:Zx[e.type];return l?r?l(s,e,d):l(s,e):s.attr("type","text"),e.placeholder&&s.attr("placeholder",e.placeholder),e.size&&s.classed("size-"+e.size),s.node()}}var Hx,Qx,$x=25,Wx=10,qx=10,Vx={};function Xx(t,e,n,r,i,o,a){var s=n-t/2-qx,l=n+t/2+qx,c=t/2+Math.min(0,s-i.left)+Math.max(0,l-i.right);return{pos:[c,a],shape:c-Wx<5?[-c,-15*o,Math.max(Wx,5-c),-10*o]:c+Wx>t-5?[Math.min(-10,t-c-5),-10*o,Math.min(Wx,t-c),-15*o]:[-10,-10*o,Wx,-10*o]}}function Jx(t,e,n,r,i,o,a){var s=r-e/2-qx,l=r+e/2+qx,c=e/2+Math.min(0,s-i.top)+Math.max(0,l-i.bottom);return{pos:[a,c],shape:c-Wx<5?[-15*o,-c,-10*o,Math.max(Wx,5-c)]:c+Wx>e-5?[-10*o,Math.min(-10,e-c-5),-15*o,Math.min(Wx,e-c)]:[-10*o,-10,-10*o,Wx]}}function Kx(t,e,n,r,i,o){var a=Vx[t](e,n,r,i,o),s=r-$x-a.pos[0],l=i-$x-a.pos[1];return{left:s,top:l,right:s+e+50,bottom:l+n+50}}function tM(t,e,n){var r,i=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(r in e)i.setAttribute(r,e[r]);var o=i.style;if(n)for(r in n)o[r]=n[r];return i}function eM(){return Hx||((Hx=document.createElement("div")).id="flourish-popup-constrainer",(Qx=Hx.style).overflow="hidden",Qx.pointerEvents="none",Qx.position="absolute",Qx.left="0",Qx.top="0",Qx.margin="0",Qx.padding="0",document.body.appendChild(Hx),this._resizeConstrainer(),Hx)}Vx.bottom=function(t,e){return{shape:[-10,-10,Wx,-10],pos:[t/2,e+qx]}},Vx.top=function(t,e){return{shape:[-10,qx,Wx,qx],pos:[t/2,-10]}},Vx.left=function(t,e){return{shape:[qx,Wx,qx,-10],pos:[-10,e/2]}},Vx.right=function(t,e){return{shape:[-10,Wx,-10,-10],pos:[t+qx,e/2]}},Vx.topLeft=function(t,e){return{shape:[15,qx,qx,15],pos:[-10,-10]}},Vx.bottomLeft=function(t,e){return{shape:[15,-10,qx,-15],pos:[-10,e+qx]}},Vx.topRight=function(t,e){return{shape:[-15,qx,-10,15],pos:[t+qx,-10]}},Vx.bottomRight=function(t,e){return{shape:[-15,-10,-10,-15],pos:[t+qx,e+qx]}},Vx.bottomFlexible=function(t,e,n,r,i){return Xx(t,0,n,0,i,1,e+qx)},Vx.topFlexible=function(t,e,n,r,i){return Xx(t,0,n,0,i,-1,-10)},Vx.rightFlexible=function(t,e,n,r,i){return Jx(0,e,0,r,i,1,t+qx)},Vx.leftFlexible=function(t,e,n,r,i){return Jx(0,e,0,r,i,-1,-10)};var nM=1,rM={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function iM(){for(var t in this.unique_id=nM++,this.is_visible=!0,rM)this["_"+t]=rM[t];this.handlers={click:[]}}function oM(t){iM.prototype[t]=function(e){return void 0===e?this["_"+t]:(this["_"+t]=e,this)}}for(var aM in rM)oM(aM);function sM(){return new iM}iM.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Popup: could not understand argument");return this},iM.prototype.directions=function(t){return void 0===t?this._directions:("string"==typeof t&&(t=[t]),this._directions=t.slice(),this)},iM.prototype.text=function(t){return this._html=t.replace(/[&<>]/g,(function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]})),this},iM.prototype.on=function(t,e){if(!(t in this.handlers))throw new Error("Popup.on: No such event: "+t);return this.handlers[t].push(e),this},iM.prototype.fire=function(t,e){if(!(t in this.handlers))throw new Error("Popup.fire: No such event: "+t);for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},iM.prototype._getElement=function(){var t=this,e="flourish-popup-"+t.unique_id,n=document.getElementById(e);if(!n){(n=document.createElement("div")).className="flourish-popup",n.id=e;var r=n.style;r.display="none",r.margin=r.padding=0,r.position="absolute",r.width="80px",r.height="40px",r.boxSizing="border-box",n.addEventListener("click",(function(e){t.fire("click",e)}),!1);var i=tM("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),o=tM("filter",{id:"dropshadow-"+t.unique_id,height:"130%"});o.appendChild(tM("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),o.appendChild(tM("feOffset",{dx:0,dy:2,result:"offsetblur"}));var a=tM("feComponentTransfer");a.appendChild(tM("feFuncA",{type:"linear",slope:.2})),o.appendChild(a);var s=tM("feMerge");o.appendChild(s),s.appendChild(tM("feMergeNode")),s.appendChild(tM("feMergeNode",{in:"SourceGraphic"})),i.appendChild(o);var l=tM("g",{filter:"url(#dropshadow-"+t.unique_id+")",fill:"white",stroke:"none"});l.appendChild(tM("rect",{x:$x,y:$x,rx:5})),l.appendChild(tM("path")),i.appendChild(l),n.appendChild(i);var c=document.createElement("div");c.className="flourish-popup-content",(r=c.style).position="absolute",r.top=r.left="25px",r.padding="10px",n.appendChild(c),t._getConstrainer().appendChild(n)}return t._resizeConstrainer(),n},iM.prototype._getConstrainer=eM,iM.prototype._resizeConstrainer=function(){Hx||eM.call(this);var t=Qx.display;Qx.display="none",Qx.width=document.documentElement.scrollWidth+"px",Qx.height=document.documentElement.scrollHeight+"px",Qx.display=t},iM.prototype.draw=function(){var t=this;if(t.is_visible=!0,t._point){var e=document.documentElement.getBoundingClientRect(),n=t._point[0],r=t._point[1],i=t._container.getBoundingClientRect();n<i.left?n=i.left:n>i.right&&(n=i.right),r<i.top?r=i.top:r>i.bottom&&(r=i.bottom);var o=n-e.left,a=r-e.top,s=t._getElement(),l=s.style,c=s.querySelector(".flourish-popup-svg"),u=c.querySelector("g"),p=u.querySelector("rect"),d=u.querySelector("path"),f=s.querySelector(".flourish-popup-content");l.display="block",f.style.maxWidth=function(e){return t._maxWidth.match(/^\d+(?:\.\d+)?%$/)?e.width*parseFloat(t._maxWidth)/100:t._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(t._maxWidth):(null!=t._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+t._maxWidth),e.width)}(i)+"px",t._inner_html!=t._html&&(f.innerHTML=t._inner_html=t._html);var h,g,_=f.getBoundingClientRect();do{h=Math.ceil(_.width),g=Math.ceil(_.height),l.width=h+50+"px",l.height=g+50+"px",_=f.getBoundingClientRect()}while(h!=Math.ceil(_.width)||g!=Math.ceil(_.height));p.setAttribute("width",h),p.setAttribute("height",g),c.setAttribute("width",h+50),c.setAttribute("height",g+50);for(var b,m,y=null,v=null,w=null,x=1/0,M=1/0,k=0;k<t._directions.length;k++){var j=t._directions[k],z=Kx(j,h,g,n,r,i),N=Math.max(0,Math.floor(i.left)-z.left-15)+Math.max(0,z.right-Math.ceil(i.right)-15),A=Math.max(0,Math.floor(i.top)-z.top-15)+Math.max(0,z.bottom-Math.ceil(i.bottom)-15);if(0==N&&0==A){y=j;break}(N<x||N==x&&A<b)&&(x=N,b=A,v=j),(A<M||A==M&&N<m)&&(M=A,m=N,w=j)}return y?j=y:"horizontal"==t._fallbackFit?j=v:"vertical"==t._fallbackFit?j=w:(console.warn("Popup: failed to point box of size ("+h+", "+g+") at ("+n+", "+r+") within ("+i.left+", "+i.top+", "+i.right+", "+i.bottom+")"),j=t._directions[0]),function(t,e,n,r,i,o,a,s,l,c){var u=Vx[t](r,i,s,l,c);e.left=o-$x-u.pos[0]+"px",e.top=a-$x-u.pos[1]+"px",n.setAttribute("d","M0,0L"+u.shape.join(",")+"Z"),n.setAttribute("transform","translate("+(u.pos[0]+$x)+","+(u.pos[1]+$x)+")")}(j,l,d,h,g,o,a,n,r,i),t}console.error("Popup: cannot draw popup till point() has been specified")},iM.prototype.hide=function(){return this.is_visible?(this.is_visible=!1,this._getElement().style.display="none",this):this},sM.version="2.1.5";var lM={show_popups:!0,show_pointer:!0,show_shadow:!0,style_popups:!1,max_width:20,align:"left",fill_color:"#ffffff",opacity:1,padding:1,border_radius:3,text_color:"#333333",text_size:1,is_custom:!1};function cM(t){if("number"!=typeof t)return t;var e=Math.round(t*Math.pow(10,2))/100;return 4==Math.round(t).toString().length?e:Ho(",")(e)}function uM(t,e,n,r){for(var i in this._state=e,this._default_template=n,this._first_load=!0,this._title_binding=r||"id",lM)null==e[i]&&(e[i]=lM[i]);!function(){if(!document.querySelector("#popup-styles")){var t=document.createElement("style");t.id="popup-styles",t.type="text/css",t.innerHTML=".flourish-popup { pointer-events: none; }.flourish-popup .flourish-popup-content { pointer-events: auto; }.flourish-popup h1 { margin: 0; font-size: inherit; }.flourish-popup h2 { font-weight: normal; font-size: inherit; margin: 0; }.flourish-popup h2 .name { font-weight: bold; }.flourish-popup ul { padding: 0; margin: 0; }.flourish-popup li { font-size: inherit; list-style: none; }",document.head.appendChild(t)}}(),this.popup=sM().container(t).point(0,0).draw().hide()}uM.prototype.addColumnNames=function(t){if(this._column_names=t,!this._state.custom_template&&this._first_load){for(var e in this._column_names)if(!Array.isArray(this._column_names[e])){var n=this._column_names[e];this._state.custom_template=n+": {{"+n+"}}";break}this._first_load=!1}return this},uM.prototype.hide=function(){return this.popup.hide(),this},uM.prototype.point=function(t,e){if(1==arguments.length){var n=t.getBoundingClientRect();t=n.left+n.width/2,e=n.top}return this.popup.point(t,e),this},uM.prototype.html=function(t){return void 0===t?this.html_content:(this.popup.html(t),this)},uM.prototype.updateStyle=function(){var t=this.popup._getElement(),e=t.querySelector(".flourish-popup-content");e.style.padding=this._state.padding+"rem",e.style.textAlign=this._state.align;var n=t.querySelector(".flourish-popup-svg g");return n.style.fill=this._state.fill_color,n.style.opacity=this._state.opacity,0==this._state.show_shadow?n.removeAttribute("filter"):n.setAttribute("filter","url(#dropshadow-"+this.popup.unique_id+")"),n.querySelector("rect").setAttribute("rx",this._state.border_radius),n.querySelector("path").style.display=this._state.show_pointer?"block":"none",this},uM.prototype.draw=function(t,e){if(this._state.show_popups){var n=this;if(this.updateStyle(),!arguments.length)return this.popup.draw(),e&&e(this.popup._getElement()),this;if(this.html_content="<div style='color: "+this._state.text_color+"; font-size: "+this._state.text_size+"rem; text-align:"+this._state.align+"; max-width:"+this._state.max_width+"rem;'>",this._state.is_custom||this._default_template)!this._state.is_custom&&this._default_template?this.html_content+=this._default_template.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,(function(e,r){var i;if(Array.isArray(n._column_names[r])){var o=n._column_names[r];if(0==o.length)return"";i="<ul>",o.forEach((function(e,n){i+="<li>"+e+": "+t[r][n]+"</li>"})),i+="</ul>"}else i=t[r];return void 0!==i?cM(i):""})):this.html_content+=this._state.custom_template.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,(function(e,r){var i;return Object.keys(n._column_names).some((function(e){if(Array.isArray(n._column_names[e])){var o=n._column_names[e].indexOf(r);if(o>=0)return i=t[e][o],!0}else if(n._column_names[e]==r)return i=t[e],!0})),void 0!==i?cM(i):""}));else{t[this._title_binding]&&(this.html_content+="<h1>"+t[this._title_binding]+"</h1>");var r={};for(var i in this._column_names){var o;if(i!=this._title_binding)if("metadata"==i){if(!Array.isArray(t.metadata))return;for(var a=0;a<t.metadata.length;a++)r[o=this._column_names.metadata[a]]||(r[o]=!0,this.html_content+="<h2><span class='name' data-binding='metadata'>"+o+"</span>: "+cM(t.metadata[a])+"</h2>")}else{if(o=this._column_names[i],Array.isArray(o)){o.forEach((function(e,r){n.html_content+="<h2><span class='name' data-binding='"+i+"'>"+e+"</span>: "+cM(t[i][r])+"</h2>"}));continue}if(r[o])continue;r[o]=!0,this.html_content+="<h2><span class='name' data-binding='"+i+"'>"+o+"</span>: "+cM(t[i])+"</h2>"}}this.html_content+="</div>"}return this.popup.html(this.html_content).draw(),e&&e(this.popup._getElement()),this}},uM.prototype.directions=function(t){return this.popup.directions(t),this},uM.prototype.container=function(t){return this.popup.container(t),this};const pM={};let dM;function fM(){dM=function(t,e,n,r){return new uM(t,e,n,r)}(document.body,pM,"{{html}}"),dM.addColumnNames({html:""})}const hM=!window.Flourish||("sdk"===window.Flourish.environment||"story_editor"===window.Flourish.environment)&&!window.Flourish.is_read_only;class gM{constructor(t){this.mode="DEFAULT",this.pos=[0,0],this.flag_editing=!1,this.flag_inside_settings_panel=!1,this.flag_inside_add_button=!1,this.flag_over_annotation_node=!1,this.flag_can_place=!1,this.body=Lh(document.body),this.cursor_outline=_M(t).classed("inner-outline",!0),this.cursor_element=_M(t)}update(){const t=this.getMode(),e=this.mode;this.mode=t;const n="CUSTOM_ADD"===this.mode,r="CUSTOM_DISABLED"===this.mode,i=n||r;i&&(this.cursor_outline.style("transform",`translate(${this.pos[0]}px, ${this.pos[1]}px)`),this.cursor_element.style("transform",`translate(${this.pos[0]}px, ${this.pos[1]}px)`)),t!==e&&(this.cursor_element.classed("is-valid",n),this.cursor_outline.classed("is-valid",n),this.body.classed("fl-cursor-custom",i),this.body.classed("fl-cursor-pointer","POINTER"===this.mode),this.body.classed("fl-cursor-default","DEFAULT"===this.mode))}getMode(){return this.flag_inside_settings_panel||this.flag_inside_add_button?"DEFAULT":this.flag_editing?this.flag_over_annotation_node?"POINTER":this.flag_can_place?"CUSTOM_ADD":"CUSTOM_DISABLED":"DEFAULT"}}function _M(t){const e=Lh(t).append("g").classed("fl-annotations-cursor",!0);return e.append("circle").attr("r",16),e.append("line").attr("x1",-6).attr("x2",6),e.append("line").attr("y1",-6).attr("y2",6),e}const bM=[{property:"contents",type:"text",name:"Annotation text"},{property:"subject_type",type:"text",name:"Marker type",style:"buttons",width:"full",choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNnB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA2IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+cG9pbnQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0icG9pbnQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMzMzMzMzMiIGN4PSIzIiBjeT0iMTUiIHI9IjMiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=","point"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTYgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iY2lyY2xlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsLUNvcHkiIHN0cm9rZT0iIzMzMzMzMyIgY3g9IjgiIGN5PSIxNSIgcj0iNy41Ij48L2NpcmNsZT4KICAgIDwvZz4KPC9zdmc+","circle"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTYgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5zcXVhcmU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0ic3F1YXJlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBzdHJva2U9IiMzMzMzMzMiIHg9IjAuNSIgeT0iNy41IiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjwvcmVjdD4KICAgIDwvZz4KPC9zdmc+","box"]]},{property:"connector_type",type:"text",width:"full",name:"Connector type",style:"buttons",choices:[["None","none"],['data:image/svg+xml,%3Csvg width="33px" height="30px" viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"%3E%3Cg id="circle-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"%3E%3Cpath id="Path-2" stroke="%23333333" stroke-width="2" d="M 5 9 A 20 20 0 0 0 28 16"%3E%3C%2Fpath%3E%3C/g%3E%3C/svg%3E',"curve"],['data:image/svg+xml,%3Csvg width="33px" height="30px" viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"%3E%3Cg id="circle-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"%3E%3Cpolyline id="Path-2" stroke="%23333333" stroke-width="2" points="5 9 28 16"/%3E%3C/g%3E%3C/svg%3E',"direct"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzNweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzMgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJjaXJjbGUtY29weSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+CiAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoLTIiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBwb2ludHM9IjUgOSAxMi4xNDIxODIxIDE2IDI4IDE2Ij48L3BvbHlsaW5lPgogICAgPC9nPgo8L3N2Zz4=","polyline"],['data:image/svg+xml,%3Csvg width="33px" height="30px" viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"%3E%3Cg id="circle-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"%3E%3Cpolyline id="Path-2" stroke="%23333333" stroke-width="2" points="5 9 15 9 15 16 28 16"/%3E%3C/g%3E%3C/svg%3E',"step"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzNweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzMgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weSAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9ImNpcmNsZS1jb3B5LTIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGQ9Ik03LDUgTDI2LDUgQzI2LjU1MjI4NDcsNSAyNyw1LjQ0NzcxNTI1IDI3LDYgTDI3LDE4LjAzNjg3OTQgQzI3LDE4LjU4OTE2NDIgMjYuNTUyMjg0NywxOS4wMzY4Nzk0IDI2LDE5LjAzNjg3OTQgTDE5LjE4NzUsMTkuMDM2ODc5NCBMMTkuMTg3NSwxOS4wMzY4Nzk0IEwxNi41LDIyIEwxMy44MTI1LDE5LjAzNjg3OTQgTDcsMTkuMDM2ODc5NCBDNi40NDc3MTUyNSwxOS4wMzY4Nzk0IDYsMTguNTg5MTY0MiA2LDE4LjAzNjg3OTQgTDYsNiBDNiw1LjQ0NzcxNTI1IDYuNDQ3NzE1MjUsNSA3LDUgWiIgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzMzMzMzMyI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=","popup",t=>"none"!==t.subject_type]]},{property:"subject_fill",type:"color",name:"Fill",width:"quarter",show_if:{subject_type:["point","circle","box"]}},{property:"subject_fill_opacity",step:.01,min:0,max:1,type:"number",width:"half",name:"Fill opacity",show_if:{subject_type:["circle","box"]}},{property:"point_radius",type:"number",width:"quarter",name:"Radius",step:.25,min:0,show_if:t=>"point"===t.subject_type||"popup"===t.device_visibility&&"none"===t.subject_type},{property:"point_text",type:"string",width:"quarter",name:"Marker label",show_if:t=>"point"===t.subject_type||"popup"===t.device_visibility&&"none"===t.subject_type},{property:"point_text_color",type:"color",name:"Label color",width:"quarter",show_if:t=>"point"==t.subject_type&&""!=t.point_text},{property:"popup_bg",type:"color",width:"quarter",name:"Popup",show_if:{connector_type:"popup"}}],mM=[{property:"text_weight",type:"string",name:"Weight",width:"quarter",style:"buttons",choices:[["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iN3B4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA3IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+bm9ybWFsPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Im5vcm1hbCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTEuMTA1OTQ3OTYsMTkgTDEuOTI1NjUwNTYsMTYuNTYwOTc1NiBMNS4wMzUzMTU5OSwxNi41NjA5NzU2IEw1Ljg0MjAwNzQzLDE5IEw3LDE5IEw0LjExMTUyNDE2LDExIEwyLjg4ODQ3NTg0LDExIEwwLDE5IEwxLjEwNTk0Nzk2LDE5IFogTTQuNzYyMDgxNzgsMTUuNzQzOTAyNCBMMi4xOTg4ODQ3NiwxNS43NDM5MDI0IEwyLjYwMjIzMDQ4LDE0LjUyNDM5MDIgQzIuNzU4MzY0MzEsMTQuMDc3MjM1OCAyLjkwNTgyNDA0LDEzLjYzMjExMzggMy4wNDQ2MDk2NywxMy4xODkwMjQ0IEMzLjE4MzM5NTI5LDEyLjc0NTkzNSAzLjMxNzg0Mzg3LDEyLjI5MjY4MjkgMy40NDc5NTUzOSwxMS44MjkyNjgzIEwzLjQ0Nzk1NTM5LDExLjgyOTI2ODMgTDMuNSwxMS44MjkyNjgzIEMzLjYzODc4NTYzLDEyLjI5MjY4MjkgMy43Nzc1NzEyNSwxMi43NDU5MzUgMy45MTYzNTY4OCwxMy4xODkwMjQ0IEM0LjA1NTE0MjUsMTMuNjMyMTEzOCA0LjIwMjYwMjIzLDE0LjA3NzIzNTggNC4zNTg3MzYwNiwxNC41MjQzOTAyIEw0LjM1ODczNjA2LDE0LjUyNDM5MDIgTDQuNzYyMDgxNzgsMTUuNzQzOTAyNCBaIiBpZD0iQSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","normal"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA4IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+Ym9sZDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJib2xkIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMi4zMzExMjU4MywxOSBMMi43NTQ5NjY4OSwxNy4wODkyMzA4IEw1LjE2NTU2MjkxLDE3LjA4OTIzMDggTDUuNTg5NDAzOTcsMTkgTDgsMTkgTDUuMzc3NDgzNDQsMTAgTDIuNjIyNTE2NTYsMTAgTDAsMTkgTDIuMzMxMTI1ODMsMTkgWiBNNC43NTQ5NjY4OSwxNS4yNDc2OTIzIEwzLjE2NTU2MjkxLDE1LjI0NzY5MjMgTDMuMzExMjU4MjgsMTQuNjI0NjE1NCBDMy40MTcyMTg1NCwxNC4xOTA3NjkyIDMuNTIwOTcxMywxMy43MjIzMDc3IDMuNjIyNTE2NTYsMTMuMjE5MjMwOCBDMy43MjQwNjE4MSwxMi43MTYxNTM4IDMuODIzMzk5NTYsMTIuMjMzODQ2MiAzLjkyMDUyOTgsMTEuNzcyMzA3NyBMMy45MjA1Mjk4LDExLjc3MjMwNzcgTDMuOTczNTA5OTMsMTEuNzcyMzA3NyBDNC4wNzk0NzAyLDEyLjIyNDYxNTQgNC4xODU0MzA0NiwxMi43MDQ2MTU0IDQuMjkxMzkwNzMsMTMuMjEyMzA3NyBDNC4zOTczNTA5OSwxMy43MiA0LjUwMzMxMTI2LDE0LjE5MDc2OTIgNC42MDkyNzE1MiwxNC42MjQ2MTU0IEw0LjYwOTI3MTUyLDE0LjYyNDYxNTQgTDQuNzU0OTY2ODksMTUuMjQ3NjkyMyBaIiBpZD0iQSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","bold"]]},{property:"text_size",type:"number",name:"Text size",width:"quarter",step:.1},{property:"text_color",type:"color",name:"Text color",width:"quarter"},{property:"label_width",step:1,min:2,max:20,type:"number",name:"Max width",width:"quarter",show_if:{connector_type:["none","direct","curve","polyline","step"]}},{property:"text_background_mode",name:"Text background",type:"string",width:"half",show_if:{connector_type:["none","curve","polyline","step","direct"]},choices:[["None","none"],["Outline","outline"],["Background","background"]]},{property:"text_bg",type:"color",name:"Outline",width:"quarter",show_if:{text_background_mode:"outline",connector_type:["none","curve","polyline","step","direct"]}},{property:"label_bg",type:"color",name:"Background",width:"quarter",show_if:{text_background_mode:"background",connector_type:["none","curve","polyline","step","direct"]}},{property:"text_alignment",type:"string",name:"Alignment",width:"quarter",show_if:{connector_type:["none","direct","curve","polyline","step"]},choices:[["Auto","auto"],["Left","start"],["Center","center"],["Right","end"]]},{property:"popup_position",type:"string",width:"quarter",name:"Popup position",show_if:{connector_type:"popup"},choices:[["Center","center"],["Left","left"],["Right","right"],["Top","top"],["Bottom","bottom"]]},{property:"line_marker",type:"string",new_section:"Line",width:"half",name:"Marker",style:"buttons",show_if:{connector_type:["direct","curve","polyline","step"]},choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgd2lkdGg9IjEycHgiIGhlaWdodD0iMzFweCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxuczpzZXJpZj0iaHR0cDovL3d3dy5zZXJpZi5jb20vIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlOyI+CiAgICA8ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwxLC0wLjA3MTYsMC4wMDY2NzYzNSkiPgogICAgICAgIDxnPgogICAgICAgICAgICA8cmVjdCBpZD0iQXJ0Ym9hcmQyIiB4PSIwLjA3MiIgeT0iLTAuMDA3IiB3aWR0aD0iMTEuOTQ5IiBoZWlnaHQ9IjMwLjk3OSIgc3R5bGU9ImZpbGw6bm9uZTsiLz4KICAgICAgICAgICAgPGc+CiAgICAgICAgICAgICAgICA8Y2xpcFBhdGggaWQ9Il9jbGlwMSI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0iMC4wNzIiIHk9Ii0wLjAwNyIgd2lkdGg9IjExLjk0OSIgaGVpZ2h0PSIzMC45NzkiLz4KICAgICAgICAgICAgICAgIDwvY2xpcFBhdGg+CiAgICAgICAgICAgICAgICA8ZyBjbGlwLXBhdGg9InVybCgjX2NsaXAxKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImNpcmNsZS1jb3B5LTMiIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLDEsMC4wNzE1Nzc1LDAuOTkzMzI0KSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJQYXRoLTIiIHRyYW5zZm9ybT0ibWF0cml4KDAuNzA3MTA3LC0wLjcwNzEwNywwLjcwNzEwNywwLjcwNzEwNywtNy4wMjM1Myw2LjI2Nzk5KSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNCw4TDQsMTQiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOnJnYig1MSw1MSw1MSk7c3Ryb2tlLXdpZHRoOjFweDsiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iUGF0aC0yMSIgc2VyaWY6aWQ9IlBhdGgtMiIgdHJhbnNmb3JtPSJtYXRyaXgoMC43MDcxMDcsLTAuNzA3MTA3LDAuNzA3MTA3LDAuNzA3MTA3LC0zLjQ5OTE3LDkuNzkyMzUpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00LDhMNCwxNCIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6cmdiKDUxLDUxLDUxKTtzdHJva2Utd2lkdGg6MXB4OyIvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDAuOTg0ODA4LC0wLjE3MzY0OCwwLjE3MzY0OCwwLjk4NDgwOCwtMTkuMzc5OSwtMy45NTE3MSkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTguNDU1LDE3LjMzNUwxNy40NjQsMTcuMzM1TDE3LjQ2NiwyMi43TDE4LjAzMywyMy41MTJMMTguNDUzLDIzLjUwOEwxOC40NTUsMTcuMzM1WiIgc3R5bGU9ImZpbGw6cmdiKDUxLDUxLDUxKTsiLz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoLTAuMTczNjQ4LDAuOTg0ODA4LDAuOTg0ODA4LDAuMTczNjQ4LC0xMi41MDI4LC0xMC44MzAzKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOC40NTUsMTcuMzM1TDE3LjQ2NCwxNy4zMzVMMTcuNDY2LDIyLjdMMTguMDMzLDIzLjUxMkwxOC40NTMsMjMuNTA4TDE4LjQ1NSwxNy4zMzVaIiBzdHlsZT0iZmlsbDpyZ2IoNTEsNTEsNTEpOyIvPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg==","arrowhead_open"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTIgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weSAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9ImNpcmNsZS1jb3B5LTMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS4wMDAwMDAsIDEzLjAwMDAwMCkgcm90YXRlKC00NS4wMDAwMDApIHRyYW5zbGF0ZSgtNS4wMDAwMDAsIC0xMy4wMDAwMDApIHRyYW5zbGF0ZSgxLjAwMDAwMCwgNi4wMDAwMDApIj4KICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlRyaWFuZ2xlIiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjQgMCA4IDggMCA4Ij48L3BvbHlnb24+CiAgICAgICAgICAgIDxsaW5lIHgxPSI0IiB5MT0iOCIgeDI9IjQiIHkyPSIxNCIgaWQ9IlBhdGgtMiIgc3Ryb2tlPSIjMzMzMzMzIiBvcGFjaXR5PSIwLjIwMDAwMDAwMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+PC9saW5lPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+","arrowhead"]]},{property:"stroke_width",step:.25,min:0,max:4,type:"number",width:"quarter",name:"Width",show_if:t=>wM(t)||"point"!==t.subject_type&&"none"!==t.subject_type},{property:"stroke_color",type:"color",name:"Color",width:"quarter",show_if:t=>wM(t)||"point"!==t.subject_type&&"none"!==t.subject_type},{property:"connector_extend_line",type:"string",width:"half",name:"Extend line",style:"buttons",show_if:{connector_type:["polyline","step"]},choices:[["Enable","enabled"],["Disable","disabled"]]}],yM=[{property:"device_visibility",type:"text",name:"Show",description:"Choose between Always, Desktop, Mobile or Popup on mobile",style:"buttons",choices:[["Always","all"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTlweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTkgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5BcnRib2FyZDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJBcnRib2FyZCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTEyLjAzMzMzMzMsMjMgQzEyLjIwNDg2MTEsMjMgMTIuMzUzMjk4NiwyMi45MzUyOTY1IDEyLjQ3ODY0NTgsMjIuODA1ODg5NCBDMTIuNjAzOTkzMSwyMi42NzY0ODI0IDEyLjY2NjY2NjcsMjIuNTIzMjM3MiAxMi42NjY2NjY3LDIyLjM0NjE1MzggQzEyLjY2NjY2NjcsMjIuMjU3NjEyMiAxMi42MTM4ODg5LDIyLjEwOTQ3NTIgMTIuNTA4MzMzMywyMS45MDE3NDI4IEMxMi40MDI3Nzc4LDIxLjY5NDAxMDQgMTIuMjk3MjIyMiwyMS40NTIyMjM2IDEyLjE5MTY2NjcsMjEuMTc2MzgyMiBDMTIuMDg2MTExMSwyMC45MDA1NDA5IDEyLjAzMzMzMzMsMjAuNjM2NjE4NiAxMi4wMzMzMzMzLDIwLjM4NDYxNTQgTDEyLjAzMzMzMzMsMjAuMzg0NjE1NCBMMTcuNDE2NjY2NywyMC4zODQ2MTU0IEMxNy44NTIwODMzLDIwLjM4NDYxNTQgMTguMjI0ODI2NCwyMC4yMjQ1NTkzIDE4LjUzNDg5NTgsMTkuOTA0NDQ3MSBDMTguODQ0OTY1MywxOS41ODQzMzQ5IDE5LDE5LjE5OTUxOTIgMTksMTguNzUgTDE5LDE4Ljc1IEwxOSw3LjYzNDYxNTM4IEMxOSw3LjE4NTA5NjE1IDE4Ljg0NDk2NTMsNi44MDAyODA0NSAxOC41MzQ4OTU4LDYuNDgwMTY4MjcgQzE4LjIyNDgyNjQsNi4xNjAwNTYwOSAxNy44NTIwODMzLDYgMTcuNDE2NjY2Nyw2IEwxNy40MTY2NjY3LDYgTDEuNTgzMzMzMzMsNiBDMS4xNDc5MTY2Nyw2IDAuNzc1MTczNjExLDYuMTYwMDU2MDkgMC40NjUxMDQxNjcsNi40ODAxNjgyNyBDMC4xNTUwMzQ3MjIsNi44MDAyODA0NSAwLDcuMTg1MDk2MTUgMCw3LjYzNDYxNTM4IEwwLDcuNjM0NjE1MzggTDAsMTguNzUgQzAsMTkuMTk5NTE5MiAwLjE1NTAzNDcyMiwxOS41ODQzMzQ5IDAuNDY1MTA0MTY3LDE5LjkwNDQ0NzEgQzAuNzc1MTczNjExLDIwLjIyNDU1OTMgMS4xNDc5MTY2NywyMC4zODQ2MTU0IDEuNTgzMzMzMzMsMjAuMzg0NjE1NCBMMS41ODMzMzMzMywyMC4zODQ2MTU0IEw2Ljk2NjY2NjY3LDIwLjM4NDYxNTQgQzYuOTY2NjY2NjcsMjAuNjQzNDI5NSA2LjkxMzg4ODg5LDIwLjkwOTA1NDUgNi44MDgzMzMzMywyMS4xODE0OTA0IEM2LjcwMjc3Nzc4LDIxLjQ1MzkyNjMgNi41OTcyMjIyMiwyMS42OTIzMDc3IDYuNDkxNjY2NjcsMjEuODk2NjM0NiBDNi4zODYxMTExMSwyMi4xMDA5NjE1IDYuMzMzMzMzMzMsMjIuMjUwODAxMyA2LjMzMzMzMzMzLDIyLjM0NjE1MzggQzYuMzMzMzMzMzMsMjIuNTIzMjM3MiA2LjM5NjAwNjk0LDIyLjY3NjQ4MjQgNi41MjEzNTQxNywyMi44MDU4ODk0IEM2LjY0NjcwMTM5LDIyLjkzNTI5NjUgNi43OTUxMzg4OSwyMyA2Ljk2NjY2NjY3LDIzIEw2Ljk2NjY2NjY3LDIzIEwxMi4wMzMzMzMzLDIzIFogTTE3LjQxNjY2NjcsMTYuNDYxNTM4NSBMMS41ODMzMzMzMywxNi40NjE1Mzg1IEMxLjQ5NzU2OTQ0LDE2LjQ2MTUzODUgMS40MjMzNTA2OSwxNi40MjkxODY3IDEuMzYwNjc3MDgsMTYuMzY0NDgzMiBDMS4yOTgwMDM0NywxNi4yOTk3Nzk2IDEuMjY2NjY2NjcsMTYuMjIzMTU3MSAxLjI2NjY2NjY3LDE2LjEzNDYxNTQgTDEuMjY2NjY2NjcsMTYuMTM0NjE1NCBMMS4yNjY2NjY2Nyw3LjYzNDYxNTM4IEMxLjI2NjY2NjY3LDcuNTQ2MDczNzIgMS4yOTgwMDM0Nyw3LjQ2OTQ1MTEyIDEuMzYwNjc3MDgsNy40MDQ3NDc2IEMxLjQyMzM1MDY5LDcuMzQwMDQ0MDcgMS40OTc1Njk0NCw3LjMwNzY5MjMxIDEuNTgzMzMzMzMsNy4zMDc2OTIzMSBMMS41ODMzMzMzMyw3LjMwNzY5MjMxIEwxNy40MTY2NjY3LDcuMzA3NjkyMzEgQzE3LjUwMjQzMDYsNy4zMDc2OTIzMSAxNy41NzY2NDkzLDcuMzQwMDQ0MDcgMTcuNjM5MzIyOSw3LjQwNDc0NzYgQzE3LjcwMTk5NjUsNy40Njk0NTExMiAxNy43MzMzMzMzLDcuNTQ2MDczNzIgMTcuNzMzMzMzMyw3LjYzNDYxNTM4IEwxNy43MzMzMzMzLDcuNjM0NjE1MzggTDE3LjczMzMzMzMsMTYuMTM0NjE1NCBDMTcuNzMzMzMzMywxNi4yMjMxNTcxIDE3LjcwMTk5NjUsMTYuMjk5Nzc5NiAxNy42MzkzMjI5LDE2LjM2NDQ4MzIgQzE3LjU3NjY0OTMsMTYuNDI5MTg2NyAxNy41MDI0MzA2LDE2LjQ2MTUzODUgMTcuNDE2NjY2NywxNi40NjE1Mzg1IEwxNy40MTY2NjY3LDE2LjQ2MTUzODUgWiIgaWQ9Iu+EiCIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","desktop"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA4IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+QXJ0Ym9hcmQgQ29weTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJBcnRib2FyZC1Db3B5IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNNi42NjY2NjY2NywyMSBDNy4wMjc3Nzc3OCwyMSA3LjM0MDI3Nzc4LDIwLjg3MTM1NDIgNy42MDQxNjY2NywyMC42MTQwNjI1IEM3Ljg2ODA1NTU2LDIwLjM1Njc3MDggOCwyMC4wNTIwODMzIDgsMTkuNyBMOCwxOS43IEw4LDkuMyBDOCw4Ljk0NzkxNjY3IDcuODY4MDU1NTYsOC42NDMyMjkxNyA3LjYwNDE2NjY3LDguMzg1OTM3NSBDNy4zNDAyNzc3OCw4LjEyODY0NTgzIDcuMDI3Nzc3NzgsOCA2LjY2NjY2NjY3LDggTDYuNjY2NjY2NjcsOCBMMS4zMzMzMzMzMyw4IEMwLjk3MjIyMjIyMiw4IDAuNjU5NzIyMjIyLDguMTI4NjQ1ODMgMC4zOTU4MzMzMzMsOC4zODU5Mzc1IEMwLjEzMTk0NDQ0NCw4LjY0MzIyOTE3IDAsOC45NDc5MTY2NyAwLDkuMyBMMCw5LjMgTDAsMTkuNyBDMCwyMC4wNTIwODMzIDAuMTMxOTQ0NDQ0LDIwLjM1Njc3MDggMC4zOTU4MzMzMzMsMjAuNjE0MDYyNSBDMC42NTk3MjIyMjIsMjAuODcxMzU0MiAwLjk3MjIyMjIyMiwyMSAxLjMzMzMzMzMzLDIxIEwxLjMzMzMzMzMzLDIxIEw2LjY2NjY2NjY3LDIxIFogTTQuODMzMzMzMzMsOS42MjUgTDMuMTY2NjY2NjcsOS42MjUgQzMuMDU1NTU1NTYsOS42MjUgMyw5LjU3MDgzMzMzIDMsOS40NjI1IEMzLDkuMzU0MTY2NjcgMy4wNTU1NTU1Niw5LjMgMy4xNjY2NjY2Nyw5LjMgTDMuMTY2NjY2NjcsOS4zIEw0LjgzMzMzMzMzLDkuMyBDNC45NDQ0NDQ0NCw5LjMgNSw5LjM1NDE2NjY3IDUsOS40NjI1IEM1LDkuNTcwODMzMzMgNC45NDQ0NDQ0NCw5LjYyNSA0LjgzMzMzMzMzLDkuNjI1IEw0LjgzMzMzMzMzLDkuNjI1IFogTTYuNjY2NjY2NjcsMTguNCBMMS4zMzMzMzMzMywxOC40IEMxLjI0MzA1NTU2LDE4LjQgMS4xNjQ5MzA1NiwxOC4zNjc4Mzg1IDEuMDk4OTU4MzMsMTguMzAzNTE1NiBDMS4wMzI5ODYxMSwxOC4yMzkxOTI3IDEsMTguMTYzMDIwOCAxLDE4LjA3NSBMMSwxOC4wNzUgTDEsMTAuOTI1IEMxLDEwLjgzNjk3OTIgMS4wMzI5ODYxMSwxMC43NjA4MDczIDEuMDk4OTU4MzMsMTAuNjk2NDg0NCBDMS4xNjQ5MzA1NiwxMC42MzIxNjE1IDEuMjQzMDU1NTYsMTAuNiAxLjMzMzMzMzMzLDEwLjYgTDEuMzMzMzMzMzMsMTAuNiBMNi42NjY2NjY2NywxMC42IEM2Ljc1Njk0NDQ0LDEwLjYgNi44MzUwNjk0NCwxMC42MzIxNjE1IDYuOTAxMDQxNjcsMTAuNjk2NDg0NCBDNi45NjcwMTM4OSwxMC43NjA4MDczIDcsMTAuODM2OTc5MiA3LDEwLjkyNSBMNywxMC45MjUgTDcsMTguMDc1IEM3LDE4LjE2MzAyMDggNi45NjcwMTM4OSwxOC4yMzkxOTI3IDYuOTAxMDQxNjcsMTguMzAzNTE1NiBDNi44MzUwNjk0NCwxOC4zNjc4Mzg1IDYuNzU2OTQ0NDQsMTguNCA2LjY2NjY2NjY3LDE4LjQgTDYuNjY2NjY2NjcsMTguNCBaIE00LDIwLjUxMjUgQzMuNzcwODMzMzMsMjAuNTEyNSAzLjU3NDY1Mjc4LDIwLjQzMjk0MjcgMy40MTE0NTgzMywyMC4yNzM4MjgxIEMzLjI0ODI2Mzg5LDIwLjExNDcxMzUgMy4xNjY2NjY2NywxOS45MjM0Mzc1IDMuMTY2NjY2NjcsMTkuNyBDMy4xNjY2NjY2NywxOS40NzY1NjI1IDMuMjQ4MjYzODksMTkuMjg1Mjg2NSAzLjQxMTQ1ODMzLDE5LjEyNjE3MTkgQzMuNTc0NjUyNzgsMTguOTY3MDU3MyAzLjc3MDgzMzMzLDE4Ljg4NzUgNCwxOC44ODc1IEM0LjIyOTE2NjY3LDE4Ljg4NzUgNC40MjUzNDcyMiwxOC45NjcwNTczIDQuNTg4NTQxNjcsMTkuMTI2MTcxOSBDNC43NTE3MzYxMSwxOS4yODUyODY1IDQuODMzMzMzMzMsMTkuNDc2NTYyNSA0LjgzMzMzMzMzLDE5LjcgQzQuODMzMzMzMzMsMTkuOTIzNDM3NSA0Ljc1LDIwLjExNjQwNjIgNC41ODMzMzMzMywyMC4yNzg5MDYyIEM0LjQyMzYxMTExLDIwLjQzNDYzNTQgNC4yMjkxNjY2NywyMC41MTI1IDQsMjAuNTEyNSBaIiBpZD0i74SLIiBmaWxsPSIjMzMzMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+","mobile"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTBweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTAgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5BcnRib2FyZCBDb3B5IDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQXJ0Ym9hcmQtQ29weS0yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMS4wMDAxODYwMSw4IEwxLDEwLjg4NSBMMSwxMC44OTQwMDI5IEwxLDE4LjA2NjAwMDggTDEuMDA2MTg0OSwxOC4xMjk5OTEgQzEuMDE4NTU0NjksMTguMTkxNzUyNyAxLjA0OTQ3OTE3LDE4LjI0NjgyODkgMS4wOTg5NTgzMywxOC4yOTUyMTk1IEMxLjE2NDkzMDU2LDE4LjM1OTc0MDMgMS4yNDMwNTU1NiwxOC4zOTIwMDA3IDEuMzMzMzMzMzMsMTguMzkyMDAwNyBMMS4zMzMzMzMzMywxOC4zOTIwMDA3IEw2LjY2NjY2NjY3LDE4LjM5MjAwMDcgQzYuNzU2OTQ0NDQsMTguMzkyMDAwNyA2LjgzNTA2OTQ0LDE4LjM1OTc0MDMgNi45MDEwNDE2NywxOC4yOTUyMTk1IEM2Ljk2NzAxMzg5LDE4LjIzMDY5ODcgNywxOC4xNTQyOTI1IDcsMTguMDY2MDAwOCBMNywxOC4wNjYwMDA4IEw3LDEzLjY2OCBMNy41LDEzLjAxMjM3OTggTDgsMTMuMDEyIEw4LDE5LjY5NjAwMDQgTDcuOTkxOTIxNzcsMTkuODQ0NDQ2OCBDNy45NTk2MDg4NCwyMC4xMzU1MTgxIDcuODMwMzU3MTQsMjAuMzkxNjYwOSA3LjYwNDE2NjY3LDIwLjYxMjg3NTEgQzcuMzQwMjc3NzgsMjAuODcwOTU4NCA3LjAyNzc3Nzc4LDIxIDYuNjY2NjY2NjcsMjEgTDYuNjY2NjY2NjcsMjEgTDEuMzMzMzMzMzMsMjEgTDEuMTgxNTQ3NjIsMjAuOTkyMDk5NSBDMC44ODM5Mjg1NzEsMjAuOTYwNDk3NSAwLjYyMjAyMzgxLDIwLjgzNDA4OTMgMC4zOTU4MzMzMzMsMjAuNjEyODc1MSBDMC4xMzE5NDQ0NDQsMjAuMzU0NzkxOCAwLDIwLjA0OTE2NjkgMCwxOS42OTYwMDA0IEwwLDE5LjY5NjAwMDQgTDAsOS4yNjQwMDMzMSBMMC4wMDgwNzgyMzEyOSw5LjExNTU1NjkyIEMwLjA0MDM5MTE1NjUsOC44MjQ0ODU1OCAwLjE2OTY0Mjg1Nyw4LjU2ODM0Mjc5IDAuMzk1ODMzMzMzLDguMzQ3MTI4NTcgQzAuNTc0OTAwNzk0LDguMTcyMDAwNjQgMC43NzYzNTE2ODcsOC4wNTYyOTExMiAxLjAwMDE4NjAxLDggWiBNNCwxOC44ODEwMDA2IEMzLjc3MDgzMzMzLDE4Ljg4MTAwMDYgMy41NzQ2NTI3OCwxOC45NjA4MDI3IDMuNDExNDU4MzMsMTkuMTIwNDA2OCBDMy4yNDgyNjM4OSwxOS4yODAwMTA5IDMuMTY2NjY2NjcsMTkuNDcxODc1NCAzLjE2NjY2NjY3LDE5LjY5NjAwMDQgQzMuMTY2NjY2NjcsMTkuOTIwMTI1MyAzLjI0ODI2Mzg5LDIwLjExMTk4OTggMy40MTE0NTgzMywyMC4yNzE1OTQgQzMuNTc0NjUyNzgsMjAuNDMxMTk4MSAzLjc3MDgzMzMzLDIwLjUxMTAwMDEgNCwyMC41MTEwMDAxIEM0LjIyOTE2NjY3LDIwLjUxMTAwMDEgNC40MjM2MTExMSwyMC40MzI4OTYgNC41ODMzMzMzMywyMC4yNzY2ODc3IEM0Ljc1LDIwLjExMzY4NzggNC44MzMzMzMzMywxOS45MjAxMjUzIDQuODMzMzMzMzMsMTkuNjk2MDAwNCBDNC44MzMzMzMzMywxOS40NzE4NzU0IDQuNzUxNzM2MTEsMTkuMjgwMDEwOSA0LjU4ODU0MTY3LDE5LjEyMDQwNjggQzQuNDI1MzQ3MjIsMTguOTYwODAyNyA0LjIyOTE2NjY3LDE4Ljg4MTAwMDYgNCwxOC44ODEwMDA2IFoiIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPHBhdGggZD0iTTMsNiBMOSw2IEM5LjU1MjI4NDc1LDYgMTAsNi40NDc3MTUyNSAxMCw3IEwxMCwxMS4wMzY4Nzk0IEMxMCwxMS41ODkxNjQyIDkuNTUyMjg0NzUsMTIuMDM2ODc5NCA5LDEyLjAzNjg3OTQgTDcuNSwxMi4wMzY4Nzk0IEw3LjUsMTIuMDM2ODc5NCBMNiwxNCBMNC41LDEyLjAzNjg3OTQgTDMsMTIuMDM2ODc5NCBDMi40NDc3MTUyNSwxMi4wMzY4Nzk0IDIsMTEuNTg5MTY0MiAyLDExLjAzNjg3OTQgTDIsNyBDMiw2LjQ0NzcxNTI1IDIuNDQ3NzE1MjUsNiAzLDYgWiIgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzMzMzMzMyI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=","popup"]]}],vM=bM.concat("Text and connector styles").concat(mM).concat("Device visibility").concat(yM);function wM(t){return"polyline"===t.connector_type||"step"===t.connector_type||"direct"===t.connector_type||"curve"===t.connector_type}function xM(t){var e=(t=t||window).innerWidth,n=t.innerHeight;return Math.sqrt(e*e+n*n)}class MM{constructor(t){this.tooltip=document.body.appendChild(document.createElement("div")),this.tooltip.classList.add("fl-annotations-tip"),this.tooltip.classList.add("hidden"),this.container=t,this.container.addEventListener("mouseover",(t=>{if(!t.target.classList.contains("fl-annotations-desc"))return;this.tooltip.classList.remove("hidden"),this.tooltip.textContent=t.target.getAttribute("data-popup-body");const e=t.target.getBoundingClientRect(),n=this.tooltip.getBoundingClientRect();this.tooltip.style.top=e.top-n.height-4+"px",this.tooltip.style.left=e.left+e.width/2-n.width/2+"px"}),!1),this.container.addEventListener("mouseout",(t=>{t.target.classList.contains("fl-annotations-desc")&&this.tooltip.classList.add("hidden")}),!1)}}const kM={annotations:{},annotation_order:[],popup:{},annotation_selected_id:"",defaults:kw.getDefaultSettings()},jM={left:AM("right"),right:AM("left"),top:AM("bottom"),bottom:AM("top"),center:AM("center")};class zM extends Jv{constructor(t,e,n,r){var i;super(),this.target=t,this.settings_container=e,this.rendering=!1,this.prev_annotation_ids=[],this.state=Object.assign(n,kM,Object.assign({},n)),this.state.defaults=Object.assign({},this.state.defaults),this.is_user_editable=!!hM,this.source_element=hM&&(r.source_element||function(t,e){const n=t.appendChild(document.createElement("button"));n.classList.add("fl-annotations-source-element"),e&&(n.style.marginRight=e[0],n.style.marginTop=e[1]);return n}(e,r.source_offset)),this.add_element=hM&&(r.add_element||function(t,e){const n=t.appendChild(document.createElement("a"));n.classList.add("fl-annotations-add-element"),n.textContent="Add/move annotations",e&&(n.style.marginRight=e[0],n.style.marginTop=e[1]);return n}(e,r.add_offset)),this._settings_update_request=null,this.settings=hM&&Gx(e,vM,(()=>{this.rendering?(cancelAnimationFrame(this._settings_update_request),this._settings_update_request=requestAnimationFrame((()=>this.update()))):this.update()})),r.source_element&&!hM&&(r.source_element.style.display="none"),r.add_element&&!hM&&(r.add_element.style.display="none"),this.settings?(this.settings.container.insertBefore(this.add_element,this.settings.container.firstChild),this._updateAnnotationList=function(t,e,n,r){const i=[],o=Lh(e).insert("div",":first-child").classed("fl-annotation-list-wrap",!0),a=o.append("ul").classed("fl-annotation-list",!0);var s=null,l=0,c=!1,u=-1,p=-1,d=r();return o.node().addEventListener("scroll",M,{passive:!0}),a.on("mouseleave",(()=>{l=0})),t.on("change",f),f;function f(){i.length=0,d=r();for(var t=0;t<d.length;t++){var e=n[d[t]];e&&i.push(e)}var o=a.selectAll("li").data(i,m).join(v).classed("selected",w).on("click",x).on("dragstart",h).on("dragenter",g).on("dragleave",_).on("dragend",b).attr("draggable",!0).attr("data-index",((t,e)=>e)),s=[];o.each(((t,e)=>s.push(e))),o.select(".text").text(y),M()}function h(){const t=Kv(kh.target,(t=>t.hasAttribute&&t.hasAttribute("data-index")));u=parseInt(t.getAttribute("data-index"),10),kh.dataTransfer&&kh.dataTransfer.setDragImage(Rx,0,0),a.classed("dragging",!0),p=-1}function g(){kh.target.classList.add("dropping"),c=kh.target.hasAttribute("data-above");const t=Kv(kh.target,(t=>t.hasAttribute&&t.hasAttribute("data-index")));p=parseInt(t.getAttribute("data-index"),10)}function _(){kh.target.classList.remove("dropping")}function b(){a.classed("dragging",!1),a.select(".dropping").classed("dropping",!1),-1!==u&&-1!==p&&u!==p&&(c?(p-=+(p>u),p=Math.max(0,p),d.splice(p,0,d.splice(u,1)[0])):(p-=+(p>u),p=Math.min(p+1,d.length-1),d.splice(p,0,d.splice(u,1)[0])),t.update())}function m(t){return t.id}function y(t){return t.contents||"(empty annotation)"}function v(t){const e=t.append("li");e.append("span").classed("text",!0),e.append("span").attr("class","icon-pencil icon"),e.append("span").attr("class","icon-clone icon").attr("data-action","clone"),e.append("span").attr("class","icon-trash icon").attr("data-action","delete");const n=e.append("div").classed("drop-overlay",!0).attr("draggable",!0);return n.append("div").classed("drop-above",!0).attr("data-above",!0),n.append("div").classed("drop-below",!0).attr("data-below",!0),e}function w(t){return Ux.getByID(t.id).selected}function x(e){const n=kh.target.getAttribute("data-action")||"edit";if(s!==this&&(l=0,s=this),"delete"===n)Ux.getByID(e.id).destroy(),delete t.state.annotations[e.id],t.update(),t.emit("change",t.state.annotations);else if("clone"===n){const n=JSON.parse(JSON.stringify(t.state.annotations[e.id])),r=xw(),i=16*++l,o=t.getPositionFromData(n.position),a=t.getDataFromCursor({target:null,offsetX:o[0]+i,offsetY:o[1]+i},[o[0]+i,o[1]+i]);n.id=r,a&&(n.position=a),t.state.annotations[r]=n,t.state.annotation_order.push(r),t.update(),t.emit("create",t.state.annotations[r]),t.emit("change",t.state.annotations),t.select(r)}else t.select(e.id)}function M(){const t=a.node().getBoundingClientRect(),e=o.node().getBoundingClientRect(),n=o.node().scrollTop,r=Math.ceil(n+e.height)>=Math.floor(t.height);o.classed("scroll-end",r)}}(this,this.settings.container,this.state.annotations,(()=>this.state.annotation_order)),this.settings_popup=new MM(this.settings.container)):this._updateAnnotationList=()=>{},this.getDataFromCursor=r.getDataFromCursor,this.getPositionFromData=r.getPositionFromData,this.filterByData=r.filterByData||(()=>!0),this.filterByPosition=r.filterByPosition||(()=>!0),this.container_svg=t.appendChild(document.createElementNS("http://www.w3.org/2000/svg","svg")),this.container_svg.classList.add("fl-annotations","fl-ignore-svg-download"),this.container_svg.setAttribute("aria-hidden",!0),this.container=t.appendChild(document.createElement("div")),this.container.classList.add("fl-annotations"),i=this.container_svg,Tx=Lh(i).append("defs"),fM(),this.touches=cw(window,{preventSimulated:!1,filtered:!0,target:this.target}),this.touches.on("start",this._onCursorStart=this._onCursorStart.bind(this)),this.touches.on("move",this._onCursorMove=this._onCursorMove.bind(this)),this.touches.on("end",this._onCursorEnd=this._onCursorEnd.bind(this)),this.cursor=new gM(this.container_svg);const o=[this.container_svg,this.container,e];NM(this,"_is_editing",o,"is-editing",!1),NM(this,"_is_edit_settings",o,"is-edit-settings",!1),NM(this,"_is_edit_add",o,"is-edit-add",!1),NM(this,"_is_dragging",o,"is-dragging",!1),NM(this,"_is_hiding",o,"is-hiding",!1),this._is_dragging_beneath=!1,this._drag_start_time=Date.now(),this._drag_start_position=[0,0],this._is_cursor_down=!1,this._dragging_id="",this._clicking_id="",this._prev_dragging_id="",this._prev_selected_id="",this._edit_mode="settings",this._ignore_next_mouseup=!1,this._getByID=Ux.getByID.bind(this),this.update()}isEditing(){return this._is_editing}isDragging(){return this._is_dragging}_onCursorStart(t,e){if(this._is_hiding)return;const n=this._findupAnnotation(t.target),r=this._findupEditorButton(t.target);if(this._findupEditor(t.target)&&!r)return;if(this._findupLink(t.target))return;const i=!!r,o=!!n;if(this._is_dragging=!1,this._is_dragging_beneath=!1,this._dragging_id="",this._drag_start_time=Date.now(),this._drag_start_position[0]=e[0],this._drag_start_position[1]=e[1],i){const e=r===this.source_element,n=r===this.add_element,i=!this._is_editing||e&&"add"===this._edit_mode||n&&"settings"===this._edit_mode;this._is_editing=i,this._is_editing?(this.target.classList.add("fl-disable-selection"),e?this.setEditMode("settings"):n&&this.setEditMode("add")):(this.target.classList.remove("fl-disable-selection"),this.select(null),this.setEditMode(null)),this._ignore_next_mouseup=!0,this.render(),t.preventDefault()}else if(o){const r=n.getAttribute("data-annotation-id");this._dragging_id=r,document.body.classList.add("fl-disable-selection"),this._is_editing&&Ux.getByID(r).onDragStart(t,e),this.render(),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations)}}_onCursorMove(t,e){if(this._is_hiding)return;const n=this._is_editing&&!this._dragging_id,r=this._is_editing&&!this._is_dragging_beneath,i=this._dragging_id&&this._is_dragging;if(n&&this._setCursorPosition(t,e),r){const t=e[0]-this._drag_start_position[0],r=e[1]-this._drag_start_position[1],i=Math.sqrt(t*t+r*r),o=Date.now()-this._drag_start_time,a=!hM||o>300,s=i>25;this._is_dragging_beneath=a||s,this._is_dragging=this._is_dragging_beneath&&!n}else if(i){const n=Ux.getByID(this._dragging_id);if(this._is_editing&&!1!==n.onDragMove(t,e)){const n=this.getDataFromCursor(t,e)||null;!!n&&!!this.getPositionFromData(n)&&(this.state.annotations[this._dragging_id].position=n)}this.render(),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations)}}_onCursorEnd(t,e){if(this._is_hiding)return;if(this._findupLink(t.target))return;const n=this._findupEditor(t.target)||this._findupEditorButton(t.target)||this._ignore_next_mouseup;if(this.target!==document.body&&document.body.classList.remove("fl-disable-selection"),n)return this._ignore_next_mouseup=!1,this._dragging_id="",this._is_dragging=!1,this._is_dragging_beneath=!1,this.render(),void this._setCursorPosition(t,e);if(this._dragging_id){if(this._is_dragging&&this._is_editing){const n=Ux.getByID(this._dragging_id);if(this._is_editing&&!1!==n.onDragMove(t,e)){const n=this.getDataFromCursor(t,e)||null;!!n&&!!this.getPositionFromData(n)&&(this.state.annotations[this._dragging_id].position=n),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations)}}else this._is_dragging||this.select(this._dragging_id);this.render(),this._dragging_id="",this._is_dragging=!1,this._is_dragging_beneath=!1,this._setCursorPosition(t,e)}else if(!this._is_dragging_beneath&&this._is_editing&&this.isEditMode("add")){const n=this.getDataFromCursor(t,e);if(!n)return;const r=this._findupAnnotation(t.target);if(r)return this.select(r.getAttribute("data-annotation-id"));const i=42;let o=this.getDataFromCursor(t,[e[0]+i,e[1]+i]);if(o||(o=this.getDataFromCursor(t,[e[0]+1.5*i,e[1]-1.5*i])),o||(o=this.getDataFromCursor(t,[e[0]-3.5*i,e[1]])),o){const t=this._createAnnotation(n,o);this.setEditMode("settings"),this.select(t),this.update(),this.emit("create",this.state.annotations[t]),this.emit("change",this.state.annotations)}else console.warn("Could not create annotation at this position.")}else this._is_dragging_beneath||this.select(null)}select(t){this.state.annotation_selected_id=t,this._prev_selected_id!==t&&(this._prev_selected_id=t,this.state.annotations[t]&&(this.emit("select",this.state.annotations[t]),this.emit("change",this.state.annotations))),this.render()}update(){this._clearRemovedAnnotations(),this.render(),this._updateAnnotationList(this.state.annotations)}show(t){t!==!this._is_hiding&&(this._is_hiding=!t,this.render())}_clearRemovedAnnotations(){for(var t=0;t<this.prev_annotation_ids.length;t++){var e=this.prev_annotation_ids[t];if(!(e in this.state.annotations)){var n=Ux.getByID(e);n&&n.destroy()}}this.prev_annotation_ids=Object.keys(this.state.annotations);var r=this.state.annotation_order.filter((t=>t in this.state.annotations));for(t=0;t<r.length;t++)this.state.annotation_order[t]=r[t];for(var i in this.state.annotation_order.length=r.length,this.state.annotations)Object.hasOwnProperty.call(this.state.annotations,i)&&-1===this.state.annotation_order.indexOf(i)&&this.state.annotation_order.push(i)}render(){if(this.rendering=!0,hM){const t=this.isEditMode("settings");this.settings.setVisible(t),this.settings.setActive(t&&this.state.annotation_selected_id&&this.prev_annotation_ids.length)}this._renderMarkers(),this.rendering=!1}isEditMode(t){return this._is_editing&&(!Nw()||this._edit_mode===t)}setEditMode(t){var e=!Nw();this._edit_mode=t,this._is_edit_settings=e||"settings"===t,this._is_edit_add=e||"add"===t}_renderMarkers(){for(var t in this.state.annotations){var e=Ux.getByID(t),n=this.getSubjectType(this.state.annotations[t]);let o;e||(e=new Bx[n](t,this.state.annotations[t],this.container,this.container_svg,this));let a=this.state.annotations[t].position,s=!!a;if(s=s&&this.filterByData(a),s=s&&!!(o=this.getPositionFromData(a)),s=s&&this.filterByPosition(o),s=s&&(r=this.state.annotations[t],i=void 0,"all"==(i=r.device_visibility)||("mobile"==i?Nw():"desktop"!=i||!Nw())),s){const n=(e=e.ofType(Bx[this.getSubjectType(this.state.annotations[t])])).state;if(n.origin[0]=o[0],n.origin[1]=o[1],n.content_offset&&!n.content_position){const t=xM(),r=[o[0]+n.content_offset[0]*t,o[1]+n.content_offset[1]*t];n.content_position=e.getDataFromCursor({offsetX:r[0],offsetY:r[1]},r),n.radius*=t,n.radius_x*=t,n.radius_y*=t,delete n.content_offset}e.editable=this._is_editing,e.update();const r=n.content_position&&!!this.getPositionFromData(n.content_position);e.setActive(r)}else e.setActive(!1);t!==this.state.annotation_selected_id&&e.setSelected(!1)}var r,i;const o=Ux.getByID(this.state.annotation_selected_id);if(o){dM.container(this.target),o.setSelected(!0),this.emit("update",this.state.annotations[this.state.annotation_selected_id]),this.emit("change",this.state.annotations),hM&&this.settings.render(this.state.annotations[this.state.annotation_selected_id]);const t=o.settings,e=o.element;if("popup"===o.getConnectorType()){pM.font_size=Yx(t.text_size),pM.text_color=t.text_color,pM.fill_color=t.popup_bg;var a=Dw(t.contents);"bold"==t.text_weight&&(a="<strong>"+a+"</strong>");const n=e.parentNode.getBoundingClientRect(),r={html:a},i=o.getPopupPosition(t.popup_position);dM.directions(jM[t.popup_position]),dM.point(t.view.origin[0]+i[0]+n.left,t.view.origin[1]+i[1]+n.top),dM.draw(r)}else dM.draw(),dM.hide()}else dM.draw(),dM.hide()}_setCursorPosition(t,e){const n=this.getDataFromCursor(t,e)||null,r=n&&this.getPositionFromData(n),i=this._findupAnnotation(t.target);this.cursor.pos[0]=r?r[0]:e[0],this.cursor.pos[1]=r?r[1]:e[1],this.cursor.flag_editing=this.isEditMode("add"),this.cursor.flag_over_annotation_node=!!i,this.cursor.flag_inside_add_button=!!this._findupEditorButton(t.target),this.cursor.flag_inside_settings_panel=!!this._findupEditor(t.target),this.cursor.flag_can_place=!!r,this.cursor.update()}_createAnnotation(t,e){const n=xw(),r=this.state.annotations[n]=new kw(t,e,this.state.defaults);this.state.annotation_order.push(n),r.id=n;var i=this.getSubjectType(r);return new Bx[i](n,r,this.container,this.container_svg,this),this.prev_annotation_ids.push(n),this.render(),n}getSubjectType(t){return"popup"===t.connector_type&&"none"===t.subject_type?"point":"popup"!==t.device_visibility?t.subject_type:Nw()&&"none"===t.subject_type?"point":t.subject_type}_findupAnnotation(t){return Kv(t,(t=>t.hasAttribute&&t.hasAttribute("data-annotation-id")))}_findupEditor(t){return hM?Kv(t,this.settings.root):null}_findupEditorButton(t){return hM?Kv(t,(t=>t===this.source_element||t===this.add_element)):null}_findupLink(t){return this._is_editing?null:Kv(t,(t=>t&&"A"===(t.nodeName||"").toUpperCase()))}}function NM(t,e,n,r,i){function o(){if(i)for(var t=0;t<n.length;t++)n[t].classList.add(r);else for(t=0;t<n.length;t++)n[t].classList.remove(r)}n=Array.isArray(n)?n:[n],o(),Object.defineProperty(t,e,{get:()=>i,set:function(t){if(i===(t=!!t))return;i=t,o()}})}function AM(t){const e=["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"];return"center"!==t&&(e.splice(e.indexOf(t),1),e.unshift(t)),e}function IM(t,e,n){var r=e[e.length-1]-e[0],i=(t-=e[0])/r,o=n.length;return{id:n[Math.floor(i*o)],offset:i*o%1-.5,ordinal:!0}}function CM(t,e){return t.invert?"number"!=typeof e[0]?"date":"number":"ordinal"}let DM;function TM(){DM.update()}function EM(t,e){const n=Fy.invert(fj.invert(e));let r=Fy(n);return null===r?null:(r=fj.apply(r),Math.abs(e[0]-r[0])>1||Math.abs(e[1]-r[1])>1?null:{lon:n[0],lat:n[1]})}function SM(t){if(!Fy)return;let e=Fy([t.lon,t.lat]);return null===e?null:fj.apply(e)}var LM,OM,PM,YM,FM;zM.chartLayout=function(t,e,n,r){var i;return r=Object.assign({},r||{},{getDataFromCursor:function(t,e){for(var n in i){var r=i[n];if(!(e[0]<r.x_range[0]+r.x)&&!(e[0]>r.x_range[1]+r.x||e[1]>r.y_range[0]+r.y||e[1]<r.y_range[1]+r.y)){var o=e[0]-r.x,a=e[1]-r.y,s=r.x_range[1]-r.x_range[0],l=r.y_range[0]-r.y_range[1],c=(o-r.x_range[0])/s,u=(a-r.y_range[1])/l,p=CM(r.x_scale,r.x_domain),d=CM(r.y_scale,r.y_domain);return{facet_id:n,x:"ordinal"!=p?r.x_scale.invert(o):IM(o,r.x_range,r.x_domain),y:"ordinal"!=d?r.y_scale.invert(a):IM(a,r.y_range,r.y_domain),x_fallback:c,y_fallback:u,x_type:p,y_type:d}}}},getPositionFromData:function(t){var e,n,r=i[t.facet_id];if(!r)return;var o=CM(r.x_scale,r.x_domain),a=CM(r.y_scale,r.y_domain);e=o==t.x_type?"ordinal"==t.x_type?r.x_scale(t.x.id)+r.x_scale.step()*t.x.offset:r.x_scale(t.x):t.x_fallback*(r.x_range[1]-r.x_range[0])+r.x_range[0];n=a==t.y_type?"ordinal"==t.y_type?r.y_scale(t.y.id)+r.y_scale.step()*-t.y.offset:r.y_scale(t.y):t.y_fallback*(r.y_range[0]-r.y_range[1])+r.y_range[1];return[r.x+e,r.y+n]}}),new class extends zM{update(t){i=Object.keys(t||{}).reduce(((e,n)=>{var r,i,o,a,s,l,c;return e[n]=(r=t[n],i=r.xScale({global:!0}),o=r.yScale({global:!0}),a=i.range(),s=o.range(),l=i.domain(),c=o.domain(),{x:r.offsetLeft(),y:r.offsetTop(),x_scale:i,y_scale:o,x_range:a,y_range:s,x_domain:l,y_domain:c}),e}),{}),super.update()}}(t,e,n,r)};var UM=null,BM=null,RM=null;function ZM(t){t.width=Uy*Ry,t.height=By*Ry}function GM(t){let e,n;void 0!==t.clientX&&void 0!==t.clientY?(e=t.clientX,n=t.clientY):t.touches&&t.touches.length&&(e=t.touches[0].clientX,n=t.touches[0].clientY);const r=e-YM,i=n-FM,o=fj.k;return{x:r,y:i,x_untransformed:(r-fj.x)/o,y_untransformed:(i-fj.y)/o}}function HM(t){try{t&&OM.drawImage(t,0,0)}catch(t){throw new Error("Something went wrong. It may be that your geometry uses projected coordinates. For this template to work you must use an unprojected (WGS84) GeoJSON file (with the points of polygons specified in decimal degrees).")}}function QM(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=e),ZM(t);var r=t.getContext("2d");e&&t.getContext("2d").scale(Ry,Ry),fj&&n&&(r.translate(fj.x,fj.y),r.scale(fj.k,fj.k))}function $M(t,n,r){t===UM&&"clickout"!=r||(BM=n,UM=t,e.hovered_feature=UM,ej(null,r),uk())}function WM(t){if(e.sticky_hover||DM.isEditing())return;const n=GM(t);$M(DD.getFeatureAtPixel(n),n,"mouseover")}function qM(t){function n(t){const n=GM(t);if(e.sticky_hover){const t=DD.getFeatureAtPixel(n);t!=UM&&t?$M(t,n,"click"):(e.sticky_hover=!1,$M(t,n,"clickout"))}else UM&&(e.sticky_hover=!0,cI(n,"click"))}DM.isEditing()||("touchstart"===t.type?1===t.touches.length?RM=setTimeout((function(){n(t)}),200):null!==RM&&(clearTimeout(RM),RM=null):n(t))}function VM(){var t=document.createElement("div");_D.getSection("primary").appendChild(t);var n=document.createElement("div");n.classList.add("state-zoom-container"),t.appendChild(n),LM=document.createElement("canvas"),t.appendChild(LM),OM=LM.getContext("2d");var r=document.createElement("div");r.id="accessible-points",LM.appendChild(r);var i=document.createElement("div");i.id="accessible-regions",LM.appendChild(i),LM.addEventListener("mousemove",WM,!1),LM.addEventListener("mouseout",(function(){e.sticky_hover||$M(null,null,"mouseover")}),!1),LM.addEventListener("click",qM,!1),function(t,n){(function(t){var n=null,r=null,i=function(t){null===n&&(n=t);var e=t-n;(gj=Math.max((mj-e)/mj,0))?r=requestAnimationFrame(i):(r=null,n=null),ej()},o=function(t){!function(t){"touch"==t?pj=e.zoom_message_touch:"key"==t&&(pj=e.zoom_message_key.replace("{{KEY}}","MacIntel"===window.navigator.platform?"âŒ˜":"Ctrl"))}(t),r||(gj=1,r=requestAnimationFrame(i))},a=function(){cancelAnimationFrame(r),r=null,gj=0};(qk=cv().scaleExtent([1,10]).filter((function(){if(e.zoom_on&&!DM.isEditing()&&!(kh.button>0||"touchstart"==kh.type&&kh.touches.length<2)){if("wheel"==kh.type){if(!kh.ctrlKey&&!kh.metaKey)return void o("key");kh.preventDefault()}return a(),!0}}))).on("start",(function(){a(),dj=!0})).on("zoom",(function(){fj=kh.transform,wj(),ej({zoom:!0},"zoom"),TM(),aj.node().__zoom=fj})).on("end",(function(){dj=!1,e.focus=xj(fj),ej({zoom:!0},"update"),TM(),nj({zoom_end:!0})})),oj=Lh(t).call(qk).on("dblclick.zoom",null).style("touch-action","pan-y"),oj.on("touchmove",(function(){1==kh.touches.length&&o("touch")})),rj=document.createElement("canvas"),ij=rj.getContext("2d")})(t),function(t){(Vk=cv().scaleExtent([1,10])).on("start",(function(){dj=!0})).on("zoom",(function(){fj=kh.transform,wj(),ej({zoom:!0},"zoom"),TM(),oj.node().__zoom=fj})).on("end",(function(){dj=!1,ej({zoom:!0},"update"),TM(),nj({zoom_end:!0})})),aj=Lh(t).call(Vk)}(n)}(t,n)}var XM,JM=tm();var KM=.2,tk=.15,ek=.2,nk=0;function rk(t,e){switch(e){case"vertically":return-t;case"horizontally":return 180-t;default:return t}}function ik(t,e){return t.map((t=>{let[n,r]=t;return[n*Math.cos(e)-r*Math.sin(e),n*Math.sin(e)+r*Math.cos(e)]}))}function ok(t,e){var n=t.angle,r=e*tk,i=e*KM,o=r*ek,a=r*nk,s=e-i;return ik([[.5*a,0],[.5*o,-s],[.5*r,-s],[0,-s-i],[.5*-r,-s],[.5*-o,-s],[.5*-a,0],[.5*a,0],[.5*o,-s]],n)}function ak(t){if(JM("points_data",WA),JM("point_show",e.point_show),JM("symbol_type",e.point_symbol_type),JM("fill",e.point_fill),JM("opacity",e.point_opacity),JM("stroke_width",e.point_stroke_width),JM("stroke_opacity",e.point_stroke_opacity),JM("stroke_custom",e.point_stroke_custom),JM("stroke_color",e.point_stroke_color),JM("max_value",e.point_max_value),JM("min_radius",e.point_circle_min_radius<=e.point_circle_max_radius?e.point_circle_min_radius:0),JM("max_radius",e.point_circle_max_radius),JM("spike_max_height",e.point_spike_max_height),JM("spike_default_height",e.point_spike_default_height),JM("spike_base_width",e.point_spike_base_width),JM("default_radius",e.point_circle_default_radius),JM("point_index",MD.index()),JM("point_scale_per_column",e.point_scale_per_column),JM("arrow_angle",e.point_arrow_angle),JM("arrow_min_length",e.point_arrow_min_length),JM("arrow_max_length",e.point_arrow_max_length),JM("arrow_flip_mode",e.point_arrow_flip_mode),JM("arrow_color_by_value",e.point_arrow_color_by_value),JM("arrow_positive_color",e.point_arrow_positive_color),JM("arrow_negative_color",e.point_arrow_negative_color),Object.keys(e.point_colors).forEach((function(t){var n=e.point_colors[t];Array.isArray(n)?Ij(JM[t],n)||JM(t,n.slice()):JM(t,n)})),!JM()&&!t)return!1;!function(t){var e={},n=[];t.forEach((function(t){t&&void 0===e[t]&&(e[t]=!0,n.push(t))})),wD.updateColorScale(n),(Hv=wD.getColor).domain=Object.freeze(n)}(WA.features.map((function(t){return t.properties.color})));var n=WA.properties,r=n.has_value_binding,i=n.has_color_binding,o=JM.fill,a=JM.default_radius;n.fill_opacity=JM.opacity;var s,l,c=0,u=0,p=0;return r&&(c=Math.max(...n.max_values),u=n.max_values[JM.point_index],p=JM.max_value||(JM.point_scale_per_column&&void 0!==u?u:c),n.max_value=p,"circle"===JM.symbol_type?(s=JM.min_radius,l=JM.max_radius,XM=function(t){if(t<0)return null;var e=t/p;e>1&&(e=1);var n=Math.sqrt(e)*l;return n<s&&(n=s),n}):"spike"===JM.symbol_type?XM=Tv().domain([0,p]).range([0,JM.spike_max_height]):"arrow"===JM.symbol_type&&(XM=Tv().domain([0,p]).range([JM.arrow_min_length,JM.arrow_max_length]))),WA.features.forEach((function(t){var n=t.properties,s=r&&n.value[JM.point_index]<0;if(n.fill_color=o,JM.arrow_color_by_value&&["spike","arrow"].includes(JM.symbol_type)?n.fill_color=s?JM.arrow_negative_color:JM.arrow_positive_color:i&&(n.fill_color=Hv(n.color)),n.symbol_type=JM.symbol_type,"circle"===n.symbol_type)n.radius=r?XM(n.value[JM.point_index]):a,n.popup_points=function(t){var e=t.radius,n=e*Math.sin(Math.PI/4);return{bottom:{x:0,y:-e},top:{x:0,y:e},left:{x:e,y:0},right:{x:-e,y:0},bottomLeft:{x:n,y:-n},topLeft:{x:n,y:n},bottomRight:{x:-n,y:-n},topRight:{x:-n,y:n},middle:{x:0,y:0}}}(n);else if("spike"===n.symbol_type){var l=r?XM(n.value[JM.point_index]):JM.spike_default_height;n.symbol_polygon=function(t,e,n){var r=[[.5*n,0],[0,-e],[-.5*n,0]];return e<0&&r.reverse(),r}(0,l,JM.spike_base_width),n.hover_symbol_polygon=n.symbol_polygon,n.popup_points=function(t,e,n){var r={left:{x:.25*n,y:-.5*e},right:{x:-.25*n,y:-.5*e},middle:{x:0,y:-.5*e}};return e>=0?(r.top={x:0,y:0},r.bottom={x:0,y:-e},r.bottomLeft={x:0,y:-e},r.topLeft={x:.5*n,y:0},r.bottomRight={x:0,y:-e},r.topRight={x:-.5*n,y:0}):(r.top={x:0,y:-e},r.bottom={x:0,y:0},r.bottomLeft={x:.5*n,y:0},r.topLeft={x:0,y:-e},r.bottomRight={x:-.5*n,y:0},r.topRight={x:0,y:-e}),r}(0,l,JM.spike_base_width),n.is_positive_value=l>0}else if("arrow"===n.symbol_type){var c=r?XM(Math.abs(n.value[JM.point_index])):JM.point_arrow_max_length,u=s;n.angle=(u?rk(JM.arrow_angle,JM.arrow_flip_mode):JM.arrow_angle)*Math.PI/180,n.symbol_polygon=ok(n,c),n.popup_points=function(t,e){var n=t.angle,r=e*tk,i={left:{x:.5*r,y:-.5*e},right:{x:-.5*r,y:-.5*e},middle:{x:0,y:-.5*e}};for(var o in e>=0&&(i.top={x:0,y:0},i.bottom={x:0,y:-e},i.bottomLeft={x:.5*r,y:-e},i.topLeft={x:.5*r,y:0},i.bottomRight={x:-.5*r,y:-e},i.topRight={x:-.5*r,y:0}),i){const{x:t,y:e}=i[o];var a={x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)};i[o]=a}return i}(n,c),n.hover_symbol_polygon=function(t,e){var n=t.angle,r=e*tk;return ik([[-r,0],[r,0],[r,-e],[-r,-e],[-r,0]],n)}(n,c)}n.filter_hide=e.filter[n.color]})),function(){var t=Lh("canvas #accessible-points").selectAll(".accessible-point").data(e.point_show?WA.features:[]);t.exit().remove(),t.enter().append("div").attr("class","accessible-point").merge(t).attr("data-id",(t=>"points-"+t.properties.index)).attr("role","img").attr("aria-roledescription","data point").attr("aria-label",(t=>t.properties.name?t.properties.name:null)).attr("tabindex","readable"==_D.getPrimaryScreenReadability()?"0":null).on("focus",(function(){e.sticky_hover||$M(this.dataset.id,null,"mouseover")})).on("keydown",(function(){"Enter"==kh.key&&(e.sticky_hover=!0,cI(null,"click")),"Escape"==kh.key&&(e.sticky_hover=!1,$M(this.dataset.id,null,"clickout"))}))}(),!0}function sk(t){!function(t){e.filter[t]?delete e.filter[t]:e.filter[t]=!0,$v=!0}(t.label),nj()}function lk(){var t=_D.remToPx(e.legend_arrow.icon_height),n=t,r=Math.atan(t/n),i=[e.point_arrow_negative_color,e.point_arrow_positive_color];return[{angle:rk(e.point_arrow_angle,e.point_arrow_flip_mode),label:e.legend_arrow_negative_label},{angle:e.point_arrow_angle,label:e.legend_arrow_positive_label}].map(((o,a)=>{let{angle:s,label:l}=o;var c=function(t,e,n,r){var i=Math.abs(n),o=n*Math.PI/180,a=(i<90?90-i:i-90)*Math.PI/180,s=a>r?e/Math.sin(a):t/Math.cos(a),l=(e-Math.sin(a)*s)/2,c=(t-Math.cos(a)*s)/2,u=i<90?e-l:l,p=n<0?t-c:c,d=ok({angle:o},s).map((t=>{let[e,n]=t;return[e+p,n+u]}));return function(t){var[e,...n]=t,r=n.map((t=>`L ${t[0]} ${t[1]}`));return[`M ${e[0]} ${e[1]}`,...r,"Z"].join(" ")}(d)}(n,t,s,r);return{label:l,color:e.point_arrow_color_by_value?i[a]:e.point_fill,icon:{path_string:c,width:n,height:t}}}))}function ck(){!function(){var t=Hv.domain;t.length>100&&(t=[]);var n=e.point_arrow_color_by_value||!e.point_show||!e.legend_categorical_points_show||0===t.length||!WA.properties.has_color_binding||!WA.features.length,r=[];for(var i in e.filter)r.push(i);QD.data(t,Hv).filtered(r).visible(e.point_show&&e.legend_categorical_points_show&&!n),e.legend_categorical_points_interaction?QD.on("click",sk):QD.on("click",null)}(),function(){var t=WA.properties,n=!(e.point_show&&e.legend_size_show&&WA.properties.has_value_binding&&WA.features.length&&0!==t.max_value&&"arrow"!==e.point_symbol_type);if(n)HD.visible(!1);else{var r=XM?[XM(0)*Qy,XM(t.max_value)*Qy]:[0,1],i="circle"===e.point_symbol_type?Yv():Tv();i.domain([0,t.max_value]).range(r);var o=MD.index()||0,a=em.points.metadata.value[o],s=a?a.output_format_id:null,l=s?yD(s):t=>t;HD.format(l).scale(i).symbolType(e.point_symbol_type).spikeWidth("spike"===e.point_symbol_type?e.point_spike_base_width*Qy:0).visible(!n)}}(),function(){var t=WA.properties;if("arrow"===e.point_symbol_type&&e.point_show&&e.legend_arrow_show&&WA.properties.has_value_binding&&WA.features.length&&0!==t.max_value){var n=lk();qD.data(n).visible(!0)}else qD.visible(!1)}()}function uk(){ck(),gv(),GD.update()}var pk=tm();function dk(t){if(pk("data",HA),pk("map_show",e.map_show),pk("fill_color",e.map_fill),pk("fill_opacity",e.map_fill_opacity),pk("stroke_width",e.map_show_stroke?e.map_stroke_width:0),pk("stroke_color",e.map_stroke),pk("stroke_opacity",e.map_stroke_opacity),pk("missing_values",e.choropleth_missing_values),pk("pattern_opacity",pk.fill_opacity*e.missing_pattern_opacity),pk("pattern_square_size",e.missing_pattern_size),pk("pattern_first_color",e.missing_pattern_color_1),pk("pattern_second_color",e.missing_pattern_color_2),pk("region_index",xD.index()),pk("choropleth_scale_per_column",e.choropleth_scale_per_column),Object.keys(e.map_colors).forEach((function(t){var n=e.map_colors[t];Array.isArray(n)?Ij(pk[t],n)||pk(t,n.slice()):pk(t,n)})),!pk()&&!t)return!1;const{has_value_binding:n}=HA.properties,r=xD.index();var i;if(n){const t=em.regions.metadata.value[r].type;i=e.choropleth_scale_per_column||"number"!==t?HA.features.map((t=>t.properties.value[r])):HA.features.flatMap((t=>t.properties.value.filter(((e,n)=>"number"===t.properties.value_types[n]))))}!function(t){if(t){var e={},n=[];t.forEach((function(t){t&&void 0===e[t]&&(e[t]=!0,n.push(t))})),vD.updateColorScale(n),dv=vD.getColor}else dv=null}(i),HA.properties=HA.properties||{};var o=HA.properties;i&&(o.values=i);var a,s=pk.missing_values;return delete o.fill_color,"fill"===s?o.fill_color=pk.fill_color:"pattern"===s&&(o.fill_color={opacity:pk.pattern_opacity,square_size:pk.pattern_square_size,first_color:pk.pattern_first_color,second_color:pk.pattern_second_color}),o.fill_opacity=pk.fill_opacity,o.stroke_color=pk.stroke_color,o.stroke_width=pk.stroke_width,o.stroke_opacity=pk.stroke_opacity,HA.features.forEach((function(t){var e=t.properties;if(e.display=!0,e.has_data)if(n){var r=dv(t.properties.value[pk.region_index]);r?e.fill_color=r:delete e.fill_color,"hide"!==s||e.fill_color||(e.display=!1)}else e.fill_color=pk.fill_color;else delete e.fill_color})),(a=Lh("canvas #accessible-regions").selectAll(".accessible-region").data(e.map_show?HA.features:[])).exit().remove(),a.enter().append("div").attr("class","accessible-region").merge(a).attr("data-id",(t=>"regions-"+t.properties.index)).attr("role","img").attr("aria-roledescription","data point").attr("aria-label",(t=>t.properties.name?t.properties.name:null)).attr("tabindex","readable"==_D.getPrimaryScreenReadability()?"0":null).on("focus",(function(){e.sticky_hover||$M(this.dataset.id,null,"mouseover")})).on("keydown",(function(){"Enter"==kh.key&&(e.sticky_hover=!0,cI(null,"click")),"Escape"==kh.key&&(e.sticky_hover=!1,$M(this.dataset.id,null,"clickout"))})),!0}const fk=tm();function hk(t,e,n){if("number"==typeof t&&!isNaN(t))return Math.max(Math.min(t,n),e)}const gk={stroke_color:t=>{if(function(t){const e=document.createElement("span");return e.style.color=t,""!==e.style.color}(t))return t},stroke_width:t=>hk(parseFloat(t),0,5),stroke_opacity:t=>hk(parseFloat(t),0,1),stroke_dash:t=>{if(function(t){return["solid","long","short","mixed"].includes(t.toLowerCase())}(t))return t.toLowerCase()}},_k=Object.keys(gk);function bk(){if(fk("data",VA),fk("stroke_color",e.line_stroke_color),fk("stroke_width",e.line_stroke_width),fk("stroke_opacity",e.line_stroke_opacity),fk("stroke_dash",e.line_stroke_dash),fk("stroke_color_overrides",e.line_stroke_color_overrides),fk("stroke_width_overrides",e.line_stroke_width_overrides),fk("stroke_opacity_overrides",e.line_stroke_opacity_overrides),fk("stroke_dash_overrides",e.line_stroke_dash_overrides),!fk())return!1;const t=VA.properties.has_series_binding;VA.properties=VA.properties||{};const n=VA.properties;let r;return _k.forEach((function(t){n[t]=fk[t]})),t&&(r=_k.reduce((function(t,n){var r;return t[n]=e["line_"+(r=n)+"_overrides"].split("\n").filter(Boolean).reduce((function(t,e){const n=e.lastIndexOf(":");if(-1===n)return;const i=e.slice(0,n).trim();if(i){const o=gk[r](e.slice(n+1).trim());void 0!==o&&(t[i]=o)}return t}),{}),t}),{})),VA.features.forEach((function(e){const n=e.properties,i=t?e.properties.series:null;_k.forEach((function(e){n[e]=t&&r[e][i]||fk[e]}))})),!0}var mk,yk=(mk=document.createElement("canvas").getContext("2d"),function(t,e){mk.font=e||"10px sans-serif";var n=mk.measureText(t);return{width:n.width,height:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}});function vk(t,e){let n=e.split("\n").map((function(t){return t.trim()}));return t.map((function(t){return{...t,priority:n.indexOf(t.text)}}))}function wk(t,e){return e?t.filter((function(t){return t.priority>-1})):t}function xk(t,e){let n=e.split("\n").map((function(t){return t.trim()}));return 0===n.length?t:t.filter((function(t){return-1===n.indexOf(t.text)}))}function Mk(t){const e=t.padding||0;return{x0:t.bounds.x0-e,x1:t.bounds.x1+e,y0:t.bounds.y0-e,y1:t.bounds.y1+e}}function kk(t,e){const n=Mk(t),r=Mk(e);return!(r.y1<=n.y0||r.y0>=n.y1||r.x0>=n.x1||r.x1<=n.x0)}let jk=[];const zk=tm(),Nk=2;function Ak(t,n){if(zk("show_points",e.point_show),zk("show_labels",e.point_show_labels),zk("label_opacity",e.point_label_opacity),zk("label_color",e.point_label_color),zk("label_outline_color",e.point_label_outline_color),zk("label_size",e.point_label_size),zk("label_upper_case",e.point_label_upper_case),zk("label_bold",e.point_label_bold),zk("label_priority_list",e.point_label_priority_list),zk("label_hide_list",e.point_label_hide_list),zk("label_hide_non_prioritized_labels",e.point_hide_non_prioritized_labels),zk("label_hide_overlapping",e.point_label_hide_overlapping),zk("font_family",e.layout.body_font.name),!zk.show_points||!zk.show_labels)return void(jk=[]);const r=zk(),i=e.focus&&e.focus.zoom<fj.k;var o;(t.data||t.projection||t.points||n.zoom_end||i||r)&&(jk=function(t){let n=[];return t.features.forEach((function(r){let i=r.properties.label;if(!i)return;let o=r.geometry;if(!o)return;if("Point"!==o.type)return void console.warn("Unsupported geometry type (for point labels)");if(null===r.properties.radius)return;let a,s,l=0,c=0,u=0;if("circle"===e.point_symbol_type)l=(r.properties.radius+.5*e.point_stroke_width)*t.properties.scaling,a="left",s="middle",c=Nk;else if("spike"===e.point_symbol_type)a="center",s=r.properties.is_positive_value?"top":"bottom",u=r.properties.is_positive_value?Nk:-Nk;else if("arrow"===e.point_symbol_type){const t=.25*Math.PI,e=r.properties.angle;e<3*-t||e>3*t?(a="center",s="bottom",u=-Nk):e<-t?(a="left",s="middle",c=Nk):e<t?(a="center",s="top",u=Nk):(a="right",s="middle",c=-Nk)}n.push({text:i,text_align:a,text_baseline:s,position:o.coordinates,x_radius_offset:l,x_padding:c,y_padding:u,point_radius:r.properties.radius})})),n}(WA),jk=vk(jk,e.point_label_priority_list),jk=wk(jk,e.point_hide_non_prioritized_labels),jk=xk(jk,e.point_label_hide_list),o=jk,jk=[...o].sort((function(t,e){return t.priority>-1&&e.priority>-1?t.priority===e.priority?e.point_radius-t.point_radius:t.priority-e.priority:t.priority>-1?-1:e.priority>-1?1:e.point_radius-t.point_radius})),e.point_label_upper_case&&(jk=Pj(jk)),jk=function(t){const n=e.focus&&e.focus.zoom||1,r=_D.remToPx(e.point_label_size),i=r/n;return t.map((function(t){const{width:n}=yk(t.text,i+"px "+e.layout.body_font.name),o=i;return{...t,width:n,height:o,specified_font_size:r,font_size:i}}))}(jk),jk=function(t){const n=e.focus&&e.focus.zoom||1,r=vj(n);return t.map((function(t){let e=t.position[0];switch(t.text_align){case"left":e+=t.x_radius_offset*r,e+=Nk/n;break;case"center":e-=.5*t.width;break;case"right":e-=t.width+Nk/n}let i=t.position[1];switch(t.text_baseline){case"top":i+=Nk/n;break;case"middle":i-=.5*t.height;break;case"bottom":i-=t.height+Nk/n}const o={x0:e,y0:i,x1:e+t.width,y1:i+t.height},a=t.specified_font_size/n*.4;return{...t,bounds:o,padding:a}}))}(jk),jk=function(t){return t.filter((function(t){let e=fj.apply([t.bounds.x0,t.bounds.y0]),n=fj.apply([t.bounds.x1,t.bounds.y1]);return!(n[0]<0||n[1]<0||e[0]>Uy||e[1]>By)}))}(jk),jk=function(t){if(!e.point_label_hide_overlapping)return t;const n=[];return t.forEach((function(t){let e=!1;for(let r of n)if(kk(t,r)){e=!0;break}e||n.push(t)})),n}(jk),jk=function(t){return t.map((function(t){return{...t,fill:Cj(e.point_label_color,e.point_label_opacity),stroke_color:e.point_label_outline_color?Cj(e.point_label_outline_color,e.point_label_opacity):null,bold:e.point_label_bold}}))}(jk))}var Ik=tm(),Ck=tm(),Dk=[],Tk=[],Ek=Bu(),Sk=1e3;function Lk(t,n){if(Ck("show_labels",e.map_show_labels),Ik("map_show_labels",e.map_show_labels),Ik("map_label_opacity",e.map_label_opacity),Ik("map_label_color",e.map_label_color),Ik("map_label_outline_color",e.map_label_outline_color),Ik("map_label_size",e.map_label_size),Ik("map_label_upper_case",e.map_label_upper_case),Ik("map_label_bold",e.map_label_bold),Ik("map_label_priority_list",e.map_label_priority_list),Ik("map_label_hide_non_prioritized_labels",e.map_hide_non_prioritized_labels),Ik("map_label_hide_list",e.map_label_hide_list),Ik("show_points",e.point_show),Ik("point_show_labels",e.point_show_labels),Ik("point_label_size",e.point_label_size),Ik("point_label_upper_case",e.point_label_upper_case),Ik("point_label_bold",e.point_label_bold),Ik("point_label_priority_list",e.point_label_priority_list),Ik("point_label_hide_list",e.point_label_hide_list),Ik("point_label_hide_non_prioritized_labels",e.point_hide_non_prioritized_labels),Ik("point_label_hide_overlapping",e.point_label_hide_overlapping),Ik("font_family",e.layout.body_font.name),Ik.map_show_labels){var r=e.focus&&e.focus.zoom<fj.k,i=t.data||t.projection||t.choropleth||n.zoom_end||r,o=Ik();if(i||o){(Ck()||t.data||t.projection)&&(Dk=[],HA.features.forEach((function(t,e){var n=t.properties.label;if(n){var r=t.geometry;r&&("Polygon"===r.type?Dk.push({choropleth_feature_index:e,text:n,type:"Polygon",coordinates:r.coordinates}):"MultiPolygon"===r.type?r.coordinates.forEach((function(t){Dk.push({choropleth_feature_index:e,text:n,type:"Polygon",coordinates:t})})):console.warn("Unsupported geometry type (for choropleth labels)"))}})),Dk.forEach((function(t){t.area=Ek.area(t)})),Dk.forEach((function(t){t.centroid=Ek.centroid(t)})));var a=Dk.slice();a=function(t,n){var r=e.focus&&e.focus.zoom||1;return t.filter((function(t){if(t.priority>-1)return!0;var e=t.area*r*r;return t.area*e>n}))}(a=function(t){return[...t].sort((function(t,e){return t.priority>-1&&e.priority>-1?t.priority===e.priority?e.area-t.area:t.priority-e.priority:t.priority>-1?-1:e.priority>-1?1:e.area-t.area}))}(a=xk(a=wk(a=vk(a,e.map_label_priority_list),e.map_hide_non_prioritized_labels),e.map_label_hide_list)),Sk),a=function(t){var e={},n=[];return t.forEach((function(t){e[t.choropleth_feature_index]||(e[t.choropleth_feature_index]=!0,n.push(t))})),n}(a),Tk=function(t){return t.map((function(t){return{position:t.centroid,text:t.text}}))}(a),e.map_label_upper_case&&(Tk=Pj(Tk)),Tk=function(t){var n=e.focus&&e.focus.zoom||1,r=_D.remToPx(e.map_label_size),i=_D.remToPx(e.map_label_size)/n;return t.map((function(t){var{width:n,height:o}=yk(t.text,i+"px "+e.layout.body_font.name),a=t.position[0]-n/2,s=t.position[1]-o/2;const l={x0:a,y0:s-.5*o,x1:a+n,y1:s+.5*o},c=.4*i;return{...t,specified_font_size:r,font_size:i,width:n,height:o,x0:a,y0:s,bounds:l,padding:c}}))}(Tk),Tk=function(t,e){const n=[];return t.forEach((function(t){let r=!1;for(let n of e)if(kk(t,n)){r=!0;break}if(!r){for(let e of n)if(kk(t,e)){r=!0;break}r||n.push(t)}})),n}(Tk=Tk.filter((function(t){let e=fj.apply([t.bounds.x0,t.bounds.y0]),n=fj.apply([t.bounds.x1,t.bounds.y1]);return!(e[0]<0||e[1]<0||n[0]>Uy||n[1]>By)})),jk),Tk=function(t){return t.map((function(t){return{...t,fill:Cj(e.map_label_color,e.map_label_opacity),stroke_color:Cj(e.map_label_outline_color,e.map_label_opacity),bold:e.map_label_bold}}))}(Tk)}}}const Ok=Object.freeze({anywhere:function(t,e){return e.includes(t)},start:function(t,e){return e.startsWith(t)},whole:function(t,e){return t===e}});var Pk,Yk=[],Fk=tm(),Uk=.4,Bk=.55;function Rk(t){if(!(t.className.indexOf("search-item")<0)){var n=t.dataset.value;e.sticky_hover=!0,$M(n,null,"click")}}function Zk(){if(40!=kh.keyCode&&38!=kh.keyCode&&9!=kh.keyCode&&13!=kh.keyCode){var t=kh.target.value;t.length<2&&!e.search_dropdown?Hk([]):Hk(Pk(Dj(t)))}}function Gk(){var t,e,n=Lh(".search-container .search-list");if(9==kh.keyCode||13==kh.keyCode?(t=n.select(".selected")).empty()||(Rk(t.node()),this.blur()):40==kh.keyCode?((t=n.select(".selected")).empty()||(e=t.node().nextSibling),e||(e=n.select(".search-item[data-value]").node()),n.selectAll(".selected").classed("selected",!1),Lh(e).classed("selected",!0)):38==kh.keyCode&&((t=n.select(".selected")).empty()||(e=t.node().previousSibling),e||(e=n.select(".search-item:last-child").node()),n.selectAll(".selected").classed("selected",!1),Lh(e).classed("selected",!0)),e&&n){const t=n.node(),r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=r.top<i.top,a=r.bottom>i.bottom;o?t.scrollTop-=i.top-r.top:a&&(t.scrollTop+=r.bottom-i.bottom)}}function Hk(t){var e=Math.min(t.length,500),n=t.slice(0,e);Lh(".search-container .search-list").style("opacity",n.length>0?1:null).html("").selectAll(".search-item").data(n).enter().append("div").attr("class","search-item").attr("data-value",(function(t){return t.source+"-"+t.index})).classed("selected",(function(t,e){return 0==e})).append("p").html((function(t){return t.name}))}function Qk(t){if(Fk("search_regions",e.map_show&&e.map_search&&HA.properties.has_name_binding),Fk("search_points",e.point_show&&e.point_search&&WA.properties.has_name_binding),Fk()||t){Yk=[];var n=Fk.search_regions||Fk.search_points;n&&(Fk.search_regions&&HA.features.forEach((function(t){t.properties.name&&Yk.push({name:t.properties.name,index:t.properties.index,source:t.properties.source})})),Fk.search_points&&WA.features.forEach((function(t){t.properties.name&&Yk.push({name:t.properties.name,index:t.properties.index,source:t.properties.source})})),Pk=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t=>t,n=t=>t,r="anywhere",i="some";const o=t.map((function(t){let n=e(t);const r=Array.isArray(n);return r&&(n=n.slice()),{item:t,is_array:r,exact:n,normalized:n}})),a=function(t){const e=[{search:"",result:t}];return{clear:()=>e.length=1,addSearch:function(t,n){for(let n=e.length-1;n>=0&&!t.startsWith(e[n].search);n--)e.pop();e.push({search:t,result:n})},getClosestSearch:function(t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.startsWith(e[r].search)){n=e[r];break}return n},current_search_list:()=>e.filter(((t,e)=>e)).map((t=>t.search))}}(o),s=function(t){t=n(t);const e=a.getClosestSearch(t);if(e.search===t)return e.result.map((t=>t.item));const o=Ok[r],s=e.result.filter((function(e){return e.is_array?e.normalized[i]((e=>o(t,e))):o(t,e.normalized)}));return"whole"!==r&&a.addSearch(t,s),s.map((t=>t.item))};return s.normalizer=function(t){return void 0===t?this.normalizer:(n=t,a.clear(),o.forEach((function(t){t.normalized=t.is_array?t.exact.map(n):n(t.exact)})),s)},s.mode=function(t){if(void 0===t)return r;if(void 0===Ok[t])throw new Error(t+" is not a valid mode");return t!==r&&(r=t,a.clear()),s},s.arrayMode=function(t){if(void 0===t)return i;if(!["some","every"].includes(t))throw new Error(t+" is not a valid array mode");return t!==i&&(i=t,a.clear()),s},s._current_search_list=()=>a.current_search_list(),s}(Yk,(function(t){return Dj(t.name)}))),Lh(".search-container").style("display",n?null:"none")}var r=Lh(".search-container");r.style("width",e.search_box_width+"rem").classed("expanded",e.search_expanded),r.select("input").attr("placeholder",e.search_placeholder).style("background-color",Cj(e.search_bg_color||e.layout.background_color,e.search_bg_opacity)).style("color",e.search_text_color||e.layout.font_color).style("width",e.search_box_size+"rem").style("height",e.search_box_size+"rem").style("padding","0 0 0 calc("+e.search_box_size+"rem - 4px)").style("border-radius",e.search_box_radius+"px").style("font-size",e.search_box_size*Bk+"rem").style("border","2px solid "+Cj(e.search_text_color||e.layout.font_color,e.search_box_stroke)),r.select(".search-list").style("box-shadow","0 1px 3px rgba(0,0,0,0.2)").style("background-color",Cj(e.search_bg_color||e.layout.background_color,e.search_bg_opacity)).style("color",e.search_text_color||e.layout.font_color).style("border-radius","3px").style("font-size",e.search_box_size*Bk+"rem").attr("data-pale-background",Zt(e.search_bg_color||e.layout.background_color)),r.select(".search-icon").style("width",e.search_box_size*Uk+"rem").style("height",e.search_box_size*Uk+"rem").style("left",e.search_box_size*(1-Uk)*.5+"rem").style("top",e.search_box_size*(1-Uk)*.5+"rem").select("svg path").attr("fill",e.search_icon_color||e.layout.font_color)}var $k,Wk,qk,Vk,Xk=Math.PI/180;function Jk(t){var e,n=t.properties,r=t.geometry.coordinates,i=r[0],o=r[1];if("circle"===n.symbol_type){var a=n.radius;e=[[i-a,o-a],[i+a,o+a]]}else{e=function(t){var e=1/0,n=-1/0,r=1/0,i=-1/0;return t.forEach((function(t){var o=t[0],a=t[1];o<e&&(e=o),o>n&&(n=o),a<r&&(r=a),a>i&&(i=a)})),[[e,r],[n,i]]}(Lj(n.symbol_polygon,[i,o]))}return e}function Kk(){WA.properties.scaling=Qy;var t=function(){var t=Fy.clipAngle()*Xk;if(!t)return null;var e=Fy.invert([Uy/2,By/2]);return function(n){return!n.geometry||Cc(e,n.properties.unprojected_feature.geometry.coordinates)>t}}();WA.features.forEach((function(e){e.geometry=Ed(e.properties.unprojected_feature,Fy).geometry;var n=e.properties;n.projection_hide=t&&t(e),n.scaling=Qy,e.geometry&&(n.bounds=Jk(e))}))}function tj(){!function(){HA.properties.scaling=Qy;var t=Bu();HA.features.forEach((function(e){e.geometry=Ed(e.properties.unprojected_feature,Fy).geometry,e.properties.scaling=Qy,e.properties.bounds=t.bounds(e.geometry)}))}(),$k=$A.map((t=>Ed(t,Fy))).filter(Boolean),Kk(),function(){VA.properties.scaling=Qy;var t=Bu();VA.features.forEach((function(e){e.geometry=Ed(e.properties.unprojected_feature,Fy).geometry,e.properties.scaling=Qy,e.properties.bounds=t.bounds(e.geometry)}))}()}function ej(t,n,r){r=r||{},t=t||{},function(t){ZM(LM),LM.style.width=Uy+"px",LM.style.height=By+"px",LM.style.marginTop=0,LM.style.marginBottom=0,PM=LM.getBoundingClientRect(),YM=PM.left,FM=PM.top,t&&cI(BM,t)}(n),HM(TD(t)),HM(ED(t)),HM(LD(t)),HM(OD(r,t)),e.line_above_highlights||HM(YD(t)),e.group_above_highlights||HM(FD(t)),HM(UD(t)),e.line_above_highlights&&HM(YD(t)),e.group_above_highlights&&HM(FD(t)),HM(RD(t)),HM(PD(r,t)),HM(ZD(t)),HM(gj?(QM(rj,!0,!1),ij.textAlign="center",ij.font=_D.remToPx(1.5)+"px "+e.layout.body_font.name,ij.globalAlpha=gj,ij.strokeStyle=e.zoom_message_stroke,ij.fillStyle=e.zoom_message_fill,ij.lineWidth=2.5,ij.strokeText(pj,Uy/2,By/2),ij.fillText(pj,Uy/2,By/2),rj):null)}function nj(t){var n={};t=t||{},n.data=function(){var t=aI("choropleth_data",em.regions),n=aI("choropleth_geometry",em.regions_geometry),r=aI("include_all_region_geometry",e.map_include_all_region_geometry),i=aI("gqp",e.group_quantization_precision);if(t||n||r){var o=function(){!function(){if(Oj(em,"regions","id")){let t=yA(em.regions);t.length>0&&Flourish.warn("Duplicate ids in Regions data: "+t.join(", "))}Oj(em,"regions_geometry","id")&&em.regions_geometry.column_names.id.forEach(((t,e)=>{let n=yA(em.regions_geometry,e);n.length>0&&Flourish.warn("Duplicate ids in Regions geometry column "+t+": "+n.join(", "))}))}();let t=function(){let t=em.regions,n=em.regions_geometry,r=Oj(em,"regions","name"),i=Oj(em,"regions","label"),o=Oj(em,"regions","value"),a=Oj(em,"regions","metadata"),s=Oj(em,"regions","group"),l=Oj(em,"regions","id")&&Oj(em,"regions_geometry","id")&&Oj(em,"regions_geometry","geometry"),c=function(){let t=Oj(em,"regions_geometry","id")&&Oj(em,"regions","id");if(!t)return-1;let e=em.regions_geometry.column_names.id,n=e.map((()=>0));return e.forEach(((t,e)=>{let r=wA(e);em.regions.forEach((t=>{let i=t.id;vA(r,i)>=0&&n[e]++}))})),n.indexOf(Math.max(...n))}(),u=wA(c),p=[],d=[],f=[],h=[];t.forEach((t=>{if(!l)return;if(!t.id||""===t.id)return;let e=vA(u,t.id);if(-1===e)return void d.push(t.id);let g=n[e],_=g.id[c],b=mA(g);b?(b.properties.id=t.id,b.properties.has_data=!0,b.properties.value=o?t.value.slice():[],b.properties.value_types=o?em.regions.metadata.value.map((t=>t.type)):[],r&&(b.properties.name=t.name),i&&(b.properties.label=t.label),a&&(b.properties.metadata=t.metadata),s&&t.group&&(b.properties.group=t.group),h.push(_),p.push(b)):f.push(_)})),d.length>0&&Flourish.warn("Region(s) without matching geometry: "+d.join(", "));e.map_include_all_region_geometry&&Oj(em,"regions_geometry","geometry")&&n.forEach((t=>{let e=t.id[c];if(h.indexOf(e)>=0)return;if(f.indexOf(e)>=0)return;let n=mA(t);if(!n)return void(e&&f.push(e));let r=n.properties;r.has_data=!1,r.value=[],r.value_types=[],p.push(n)}));f.length>0&&Flourish.warn("Invalid region geometry: "+f.join(", "));let g=of({type:"FeatureCollection",features:p}),_={type:"FeatureCollection",features:g.features.map((function(t,e){let n={type:"Feature",geometry:null,properties:t.properties};return n.properties.source=gA,n.properties.index=e,n.properties.unprojected_feature=t,n})),properties:{unprojected_feature_collection:g,source:gA,has_name_binding:r,has_label_binding:i,has_value_binding:o,has_metadata_binding:a}};return _}(),n=function(t){let e=rt();return t.features.forEach((function(t){e.set(t.properties.index,t)})),e}(t);return{collection:t,map:n}}();HA=o.collection,QA=o.map}(t||n||r||i)&&($A=function(){const t=new Map;return HA.features.forEach((function(e){const n=e.properties.group;n&&(t.has(n)||t.set(n,[]),t.get(n).push(e.properties.unprojected_feature))})),Array.from(t.values()).map((function(t){const n=function(t,e){var n=function(t){var e=1/0,n=1/0,r=-1/0,i=-1/0;function o(t){null!=t&&zA.call(a,t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(o)},Point:function(t){s(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(s)},LineString:function(t){l(t.arcs)},MultiLineString:function(t){t.arcs.forEach(l)},Polygon:function(t){t.arcs.forEach(l)},MultiPolygon:function(t){t.arcs.forEach(c)}};function s(t){var o=t[0],a=t[1];o<e&&(e=o),o>r&&(r=o),a<n&&(n=a),a>i&&(i=a)}function l(t){t.forEach(s)}function c(t){t.forEach(l)}for(var u in t)o(t[u]);return r>=e&&i>=n?[e,n,r,i]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=LA(t[e]);return n}(t)),r=e>0&&n&&function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=o-r?(n-1)/(o-r):1,l=a-i?(n-1)/(a-i):1;function c(t){return[Math.round((t[0]-r)*s),Math.round((t[1]-i)*l)]}function u(t,e){for(var n,o,a,c,u,p=-1,d=0,f=t.length,h=new Array(f);++p<f;)n=t[p],c=Math.round((n[0]-r)*s),u=Math.round((n[1]-i)*l),c===o&&u===a||(h[d++]=[o=c,a=u]);for(h.length=d;d<e;)d=h.push([h[0][0],h[0][1]]);return h}function p(t){return u(t,2)}function d(t){return u(t,4)}function f(t){return t.map(d)}function h(t){null!=t&&zA.call(g,t.type)&&g[t.type](t)}var g={GeometryCollection:function(t){t.geometries.forEach(h)},Point:function(t){t.coordinates=c(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(c)},LineString:function(t){t.arcs=p(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(p)},Polygon:function(t){t.arcs=f(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(f)}};for(var _ in t)h(t[_]);return{scale:[1/s,1/l],translate:[r,i]}}(t,n,e),i=function(t){var e,n,r,i,o=t.coordinates,a=t.lines,s=t.rings,l=a.length+s.length;for(delete t.lines,delete t.rings,r=0,i=a.length;r<i;++r)for(e=a[r];e=e.next;)++l;for(r=0,i=s.length;r<i;++r)for(n=s[r];n=n.next;)++l;var c=NA(2*l*1.4,TA,AA),u=t.arcs=[];for(r=0,i=a.length;r<i;++r){e=a[r];do{p(e)}while(e=e.next)}for(r=0,i=s.length;r<i;++r)if((n=s[r]).next)do{p(n)}while(n=n.next);else d(n);function p(t){var e,n,r,i,a,s,l,p;if(r=c.get(e=o[t[0]]))for(l=0,p=r.length;l<p;++l)if(f(i=r[l],t))return t[0]=i[0],void(t[1]=i[1]);if(a=c.get(n=o[t[1]]))for(l=0,p=a.length;l<p;++l)if(h(s=a[l],t))return t[1]=s[0],void(t[0]=s[1]);r?r.push(t):c.set(e,[t]),a?a.push(t):c.set(n,[t]),u.push(t)}function d(t){var e,n,r,i,a;if(n=c.get(e=o[t[0]]))for(i=0,a=n.length;i<a;++i){if(g(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(_(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=c.get(e=o[t[0]+b(t)]))for(i=0,a=n.length;i<a;++i){if(g(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(_(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):c.set(e,[t]),u.push(t)}function f(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!AA(o[n],o[r]))return!1;return!0}function h(t,e){var n=t[0],r=e[0],i=t[1],a=e[1];if(n-i!=r-a)return!1;for(;n<=i;++n,--a)if(!AA(o[n],o[a]))return!1;return!0}function g(t,e){var n=t[0],r=e[0],i=t[1]-n;if(i!==e[1]-r)return!1;for(var a=b(t),s=b(e),l=0;l<i;++l)if(!AA(o[n+(l+a)%i],o[r+(l+s)%i]))return!1;return!0}function _(t,e){var n=t[0],r=e[0],i=t[1],a=e[1],s=i-n;if(s!==a-r)return!1;for(var l=b(t),c=s-b(e),u=0;u<s;++u)if(!AA(o[n+(u+l)%s],o[a-(u+c)%s]))return!1;return!0}function b(t){for(var e=t[0],n=t[1],r=e,i=r,a=o[r];++r<n;){var s=o[r];(s[0]<a[0]||s[0]===a[0]&&s[1]<a[1])&&(i=r,a=s)}return i-e}return t}(function(t){var e,n,r,i=function(t){var e,n,r,i,o=t.coordinates,a=t.lines,s=t.rings,l=w(),c=new Int32Array(o.length),u=new Int32Array(o.length),p=new Int32Array(o.length),d=new Int8Array(o.length),f=0;for(e=0,n=o.length;e<n;++e)c[e]=u[e]=p[e]=-1;for(e=0,n=a.length;e<n;++e){var h=a[e],g=h[0],_=h[1];for(r=l[g],i=l[++g],++f,d[r]=1;++g<=_;)v(e,r,r=i,i=l[g]);++f,d[i]=1}for(e=0,n=o.length;e<n;++e)c[e]=-1;for(e=0,n=s.length;e<n;++e){var b=s[e],m=b[0]+1,y=b[1];for(v(e,l[y-1],r=l[m-1],i=l[m]);++m<=y;)v(e,r,r=i,i=l[m])}function v(t,e,n,r){if(c[n]!==t){c[n]=t;var i=u[n];if(i>=0){var o=p[n];i===e&&o===r||i===r&&o===e||(++f,d[n]=1)}else u[n]=e,p[n]=r}}function w(){for(var t=NA(1.4*o.length,x,M,Int32Array,-1,Int32Array),e=new Int32Array(o.length),n=0,r=o.length;n<r;++n)e[n]=t.maybeSet(n,n);return e}function x(t){return TA(o[t])}function M(t,e){return AA(o[t],o[e])}c=u=p=null;var k,j=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=i;function l(r){for(var s=e(r)&a,l=o[s],c=0;l!=i;){if(n(l,r))return!0;if(++c>=t)throw new Error("full hashset");l=o[s=s+1&a]}return o[s]=r,!0}function c(r){for(var s=e(r)&a,l=o[s],c=0;l!=i;){if(n(l,r))return!0;if(++c>=t)break;l=o[s=s+1&a]}return!1}function u(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}return{add:l,has:c,values:u}}(1.4*f,TA,AA);for(e=0,n=o.length;e<n;++e)d[k=l[e]]&&j.add(o[k]);return j}(t),o=t.coordinates,a=t.lines,s=t.rings;for(n=0,r=a.length;n<r;++n)for(var l=a[n],c=l[0],u=l[1];++c<u;)i.has(o[c])&&(e={0:c,1:l[1]},l[1]=c,l=l.next=e);for(n=0,r=s.length;n<r;++n)for(var p=s[n],d=p[0],f=d,h=p[1],g=i.has(o[d]);++f<h;)i.has(o[f])&&(g?(e={0:f,1:p[1]},p[1]=f,p=p.next=e):(EA(o,d,h,h-f),o[h]=o[d],g=!0,f=d));return t}(function(t){var e=-1,n=[],r=[],i=[];function o(t){t&&zA.call(a,t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(o)},LineString:function(t){t.arcs=s(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(s)},Polygon:function(t){t.arcs=t.arcs.map(l)},MultiPolygon:function(t){t.arcs=t.arcs.map(c)}};function s(t){for(var r=0,o=t.length;r<o;++r)i[++e]=t[r];var a={0:e-o+1,1:e};return n.push(a),a}function l(t){for(var n=0,o=t.length;n<o;++n)i[++e]=t[n];var a={0:e-o+1,1:e};return r.push(a),a}function c(t){return t.map(l)}for(var u in t)o(t[u]);return{type:"Topology",coordinates:i,lines:n,rings:r,objects:t}}(t))),o=i.coordinates,a=NA(1.4*i.arcs.length,FA,UA);function s(t){t&&zA.call(l,t.type)&&l[t.type](t)}t=i.objects,i.bbox=n,i.arcs=i.arcs.map((function(t,e){return a.set(t,e),o.slice(t[0],t[1]+1)})),delete i.coordinates,o=null;var l={GeometryCollection:function(t){t.geometries.forEach(s)},LineString:function(t){t.arcs=c(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(c)},Polygon:function(t){t.arcs=t.arcs.map(c)},MultiPolygon:function(t){t.arcs=t.arcs.map(u)}};function c(t){var e=[];do{var n=a.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function u(t){return t.map(c)}for(var p in t)s(t[p]);r&&(i.transform=r,i.arcs=function(t){var e=-1,n=t.length;for(;++e<n;){for(var r,i,o=t[e],a=0,s=1,l=o.length,c=o[0],u=c[0],p=c[1];++a<l;)r=(c=o[a])[0],i=c[1],r===u&&i===p||(o[s++]=[r-u,i-p],u=r,p=i);1===s&&(o[s++]=[0,0]),o.length=s}return t}(i.arcs));return i}({group:{type:"FeatureCollection",features:t}},Math.pow(10,e.group_quantization_precision));return function(t){return RA(t,GA.apply(this,arguments))}(n,n.objects.group.geometries)}))}());if(aI("points_data",em.points)){var a=function(){var t=function(){var t=[];if(!Oj(em,"points","lon")||!Oj(em,"points","lat"))return{type:"FeatureCollection",features:[],properties:{name:null,label:null,has_color_binding:null,has_value_binding:null,max_values:[]}};var n=Oj(em,"points","name"),r=Oj(em,"points","label"),i=Oj(em,"points","color"),o=Oj(em,"points","value"),a=Oj(em,"points","metadata"),s=0,l=em.points.column_names.value.map((function(){return o?0:null}));em.points.forEach((function(c,u){var p=c.lon,d=c.lat,f=i?c.color:null;if(isNaN(p)||isNaN(d)||""===f)s++;else{var h=[];o&&(h=c.value.map(((t,n)=>!Number.isFinite(t)||"circle"===e.point_symbol_type&&t<0?(s++,t):("arrow"===e.point_symbol_type&&Math.abs(t)>l[n]?l[n]=Math.abs(t):t>l[n]&&(l[n]=t),t))));var g=n?c.name:null,_=r?c.label:null,b=a?c.metadata:null;t.push({type:"Feature",geometry:{type:"Point",coordinates:null},properties:{unprojected_feature:{type:"Feature",geometry:{type:"Point",coordinates:[p,d]}},name:g,label:_,color:f,lon:p,lat:d,value:h,metadata:b,source:Yj,index:u}})}}));var c={type:"FeatureCollection",features:t,properties:{has_name_binding:n,has_label_binding:r,has_color_binding:i,has_value_binding:o,max_values:l,source:Yj}};s&&(1===s?console.warn("1 points ignored because of invalid entry"):console.warn(s+" points ignored because of invalid entry"));return c}(),n=function(t){var e=rt();return t.features.forEach((function(t){e.set(t.properties.index,t)})),e}(t);return{collection:t,map:n}}();WA=a.collection,qA=a.map}aI("lines_data",em.lines||[])&&(VA=jA());return aI()}();var r=function(){if(Wv!==e.legend_categorical_points_interaction&&Object.keys(e.filter).length)$v=!0,e.filter={},Wv=e.legend_categorical_points_interaction;else{var t=Object.keys(e.filter).sort().join(Qv);qv!==t&&($v=!0,qv=t)}return!!$v&&($v=!1,!0)}();!function(){var t=em.regions.column_names.value||[],n=t.length>1&&e.map_show;xD.options(t).visible(n);var r=em.points.column_names.value||[],i=r.length>1&&e.point_show;MD.options(r).visible(i),zD.update(),ND.update(),AD.update(),ID.update(),CD.update()}(),n.choropleth=dk(),n.points=ak(r),n.lines=bk(),Qk(n.data>0),uk(),_D.update(),bD.update(),document.getElementById("fl-layout-legend").style.overflow=null,n.projection=qy(),t.zoom_end||(n.zoom=function(t){if(!e.zoom_on)return;var n=void 0!==sj&&e.projection!==sj;sj=e.projection;var r=void 0!==lj&&e.fit!==lj;lj=e.fit;var i=!bj&&t.data;bj=!1;var o=uj!==e.longitude&&void 0!==uj||cj!==e.latitude&&void 0!==cj;cj=e.latitude,uj=e.longitude,(i||n||r||o||!function(){return null!==e.focus&&null!==Fy([e.focus.lon,e.focus.lat])}())&&(e.focus=xj(tv));Mj(qk),Mj(Vk);var a=xj(fj),s=(l=e.focus,c=a,!(Math.abs(l.zoom-c.zoom)<yj&&Math.abs(l.lon-c.lon)<yj&&Math.abs(l.lat-c.lat)<yj));var l,c;if(_j("width",Uy),_j("height",By),_j("zoom_on",e.zoom_on),_j("mode",e.zoom_scaling_mode),_j()||s){var u=function(t){var e=Fy([t.lon,t.lat]);if(null===e)return tv;var n=tv.translate(Uy/2-t.zoom*e[0],By/2-t.zoom*e[1]).scale(t.zoom);return n}(e.focus),p=t.projection||!s||uv()?0:1e3*e.zoom_animation_duration;return aj.transition().duration(p).call(Vk.transform,u),!0}return!1}(n)),(n.data||n.projection||n.points)&&tj(),Ak(n,t),Lk(n,t),function(){if((Wk=Wk||_D.getSection("primary").querySelector("div")).style.marginTop=null,Wk.style.marginBottom=null,Flourish.fixed_height){var t=_D.getPrimaryHeight()-By;if(t>0){var e=t/2;Wk.style.marginTop=e+"px",Wk.style.marginBottom=e+"px"}}else _D.setHeight(By)}(),ej(n,"update",t),TM(),_D.getSection("primary").classList.add("has-updated")}var rj,ij,oj,aj,sj,lj,cj,uj,pj,dj=!1,fj=tv,hj=1,gj=0,_j=tm(),bj=!0,mj=1500,yj=1e-5;function vj(t){return"linear"===e.zoom_scaling_mode?1:"sqrt"===e.zoom_scaling_mode?1/Math.sqrt(t):1/t}function wj(){hj=vj(fj.k)}function xj(t){var e=Fy.invert([(Uy/2-t.x)/t.k,(By/2-t.y)/t.k]);return{zoom:t.k,lon:e[0],lat:e[1]}}function Mj(t){t.extent([[0,0],[Uy,By]]).translateExtent([[0,0],[Uy,By]])}for(var kj=[{base:"A",letters:"Aâ’¶ï¼¡Ã€ÃÃ‚áº¦áº¤áºªáº¨ÃƒÄ€Ä‚áº°áº®áº´áº²È¦Ç Ã„Çžáº¢Ã…ÇºÇÈ€È‚áº áº¬áº¶á¸€Ä„Èºâ±¯"},{base:"AA",letters:"êœ²"},{base:"AE",letters:"Ã†Ç¼Ç¢"},{base:"AO",letters:"êœ´"},{base:"AU",letters:"êœ¶"},{base:"AV",letters:"êœ¸êœº"},{base:"AY",letters:"êœ¼"},{base:"B",letters:"Bâ’·ï¼¢á¸‚á¸„á¸†ÉƒÆ‚Æ"},{base:"C",letters:"Câ’¸ï¼£Ä†ÄˆÄŠÄŒÃ‡á¸ˆÆ‡È»êœ¾"},{base:"D",letters:"Dâ’¹ï¼¤á¸ŠÄŽá¸Œá¸á¸’á¸ŽÄÆ‹ÆŠÆ‰ê¹Ã"},{base:"DZ",letters:"Ç±Ç„"},{base:"Dz",letters:"Ç²Ç…"},{base:"E",letters:"Eâ’ºï¼¥ÃˆÃ‰ÃŠá»€áº¾á»„á»‚áº¼Ä’á¸”á¸–Ä”Ä–Ã‹áººÄšÈ„È†áº¸á»†È¨á¸œÄ˜á¸˜á¸šÆÆŽ"},{base:"F",letters:"Fâ’»ï¼¦á¸žÆ‘ê»"},{base:"G",letters:"Gâ’¼ï¼§Ç´Äœá¸ ÄžÄ Ç¦Ä¢Ç¤Æ“êž ê½ê¾"},{base:"H",letters:"Hâ’½ï¼¨Ä¤á¸¢á¸¦Èžá¸¤á¸¨á¸ªÄ¦â±§â±µêž"},{base:"I",letters:"Iâ’¾ï¼©ÃŒÃÃŽÄ¨ÄªÄ¬Ä°Ãá¸®á»ˆÇÈˆÈŠá»ŠÄ®á¸¬Æ—"},{base:"J",letters:"Jâ’¿ï¼ªÄ´Éˆ"},{base:"K",letters:"Kâ“€ï¼«á¸°Ç¨á¸²Ä¶á¸´Æ˜â±©ê€ê‚ê„êž¢"},{base:"L",letters:"Lâ“ï¼¬Ä¿Ä¹Ä½á¸¶á¸¸Ä»á¸¼á¸ºÅÈ½â±¢â± êˆê†êž€"},{base:"LJ",letters:"Ç‡"},{base:"Lj",letters:"Çˆ"},{base:"M",letters:"Mâ“‚ï¼­á¸¾á¹€á¹‚â±®Æœ"},{base:"N",letters:"Nâ“ƒï¼®Ç¸ÅƒÃ‘á¹„Å‡á¹†Å…á¹Šá¹ˆÈ Æêžêž¤"},{base:"NJ",letters:"ÇŠ"},{base:"Nj",letters:"Ç‹"},{base:"O",letters:"Oâ“„ï¼¯Ã’Ã“Ã”á»’á»á»–á»”Ã•á¹ŒÈ¬á¹ŽÅŒá¹á¹’ÅŽÈ®È°Ã–Èªá»ŽÅÇ‘ÈŒÈŽÆ á»œá»šá» á»žá»¢á»Œá»˜ÇªÇ¬Ã˜Ç¾Æ†ÆŸêŠêŒ"},{base:"OI",letters:"Æ¢"},{base:"OO",letters:"êŽ"},{base:"OU",letters:"È¢"},{base:"OE",letters:"ÂŒÅ’"},{base:"oe",letters:"ÂœÅ“"},{base:"P",letters:"Pâ“…ï¼°á¹”á¹–Æ¤â±£êê’ê”"},{base:"Q",letters:"Qâ“†ï¼±ê–ê˜ÉŠ"},{base:"R",letters:"Râ“‡ï¼²Å”á¹˜Å˜ÈÈ’á¹šá¹œÅ–á¹žÉŒâ±¤êšêž¦êž‚"},{base:"S",letters:"Sâ“ˆï¼³áºžÅšá¹¤Åœá¹ Å á¹¦á¹¢á¹¨È˜Åžâ±¾êž¨êž„"},{base:"T",letters:"Tâ“‰ï¼´á¹ªÅ¤á¹¬ÈšÅ¢á¹°á¹®Å¦Æ¬Æ®È¾êž†"},{base:"TZ",letters:"êœ¨"},{base:"U",letters:"Uâ“Šï¼µÃ™ÃšÃ›Å¨á¹¸Åªá¹ºÅ¬ÃœÇ›Ç—Ç•Ç™á»¦Å®Å°Ç“È”È–Æ¯á»ªá»¨á»®á»¬á»°á»¤á¹²Å²á¹¶á¹´É„"},{base:"V",letters:"Vâ“‹ï¼¶á¹¼á¹¾Æ²êžÉ…"},{base:"VY",letters:"ê "},{base:"W",letters:"Wâ“Œï¼·áº€áº‚Å´áº†áº„áºˆâ±²"},{base:"X",letters:"Xâ“ï¼¸áºŠáºŒ"},{base:"Y",letters:"Yâ“Žï¼¹á»²ÃÅ¶á»¸È²áºŽÅ¸á»¶á»´Æ³ÉŽá»¾"},{base:"Z",letters:"Zâ“ï¼ºÅ¹áºÅ»Å½áº’áº”ÆµÈ¤â±¿â±«ê¢"},{base:"a",letters:"aâ“ï½áºšÃ Ã¡Ã¢áº§áº¥áº«áº©Ã£ÄÄƒáº±áº¯áºµáº³È§Ç¡Ã¤ÇŸáº£Ã¥Ç»ÇŽÈÈƒáº¡áº­áº·á¸Ä…â±¥É"},{base:"aa",letters:"êœ³"},{base:"ae",letters:"Ã¦Ç½Ç£"},{base:"ao",letters:"êœµ"},{base:"au",letters:"êœ·"},{base:"av",letters:"êœ¹êœ»"},{base:"ay",letters:"êœ½"},{base:"b",letters:"bâ“‘ï½‚á¸ƒá¸…á¸‡Æ€ÆƒÉ“"},{base:"c",letters:"câ“’ï½ƒÄ‡Ä‰Ä‹ÄÃ§á¸‰ÆˆÈ¼êœ¿â†„"},{base:"d",letters:"dâ““ï½„á¸‹Äá¸á¸‘á¸“á¸Ä‘ÆŒÉ–É—êº"},{base:"dz",letters:"Ç³Ç†"},{base:"e",letters:"eâ“”ï½…Ã¨Ã©Ãªá»áº¿á»…á»ƒáº½Ä“á¸•á¸—Ä•Ä—Ã«áº»Ä›È…È‡áº¹á»‡È©á¸Ä™á¸™á¸›É‡É›Ç"},{base:"f",letters:"fâ“•ï½†á¸ŸÆ’ê¼"},{base:"g",letters:"gâ“–ï½‡ÇµÄá¸¡ÄŸÄ¡Ç§Ä£Ç¥É êž¡áµ¹ê¿"},{base:"h",letters:"hâ“—ï½ˆÄ¥á¸£á¸§ÈŸá¸¥á¸©á¸«áº–Ä§â±¨â±¶É¥"},{base:"hv",letters:"Æ•"},{base:"i",letters:"iâ“˜ï½‰Ã¬Ã­Ã®Ä©Ä«Ä­Ã¯á¸¯á»‰ÇÈ‰È‹á»‹Ä¯á¸­É¨Ä±"},{base:"j",letters:"jâ“™ï½ŠÄµÇ°É‰"},{base:"k",letters:"kâ“šï½‹á¸±Ç©á¸³Ä·á¸µÆ™â±ªêêƒê…êž£"},{base:"l",letters:"lâ“›ï½ŒÅ€ÄºÄ¾á¸·á¸¹Ä¼á¸½á¸»Å¿Å‚ÆšÉ«â±¡ê‰êžê‡"},{base:"lj",letters:"Ç‰"},{base:"m",letters:"mâ“œï½á¸¿á¹á¹ƒÉ±É¯"},{base:"n",letters:"nâ“ï½ŽÇ¹Å„Ã±á¹…Åˆá¹‡Å†á¹‹á¹‰ÆžÉ²Å‰êž‘êž¥"},{base:"nj",letters:"ÇŒ"},{base:"o",letters:"oâ“žï½Ã²Ã³Ã´á»“á»‘á»—á»•Ãµá¹È­á¹Åá¹‘á¹“ÅÈ¯È±Ã¶È«á»Å‘Ç’ÈÈÆ¡á»á»›á»¡á»Ÿá»£á»á»™Ç«Ç­Ã¸Ç¿É”ê‹êÉµ"},{base:"oi",letters:"Æ£"},{base:"ou",letters:"È£"},{base:"oo",letters:"ê"},{base:"p",letters:"pâ“Ÿï½á¹•á¹—Æ¥áµ½ê‘ê“ê•"},{base:"q",letters:"qâ“ ï½‘É‹ê—ê™"},{base:"r",letters:"râ“¡ï½’Å•á¹™Å™È‘È“á¹›á¹Å—á¹ŸÉÉ½ê›êž§êžƒ"},{base:"s",letters:"sâ“¢ï½“ÃŸÅ›á¹¥Åá¹¡Å¡á¹§á¹£á¹©È™ÅŸÈ¿êž©êž…áº›"},{base:"t",letters:"tâ“£ï½”á¹«áº—Å¥á¹­È›Å£á¹±á¹¯Å§Æ­Êˆâ±¦êž‡"},{base:"tz",letters:"êœ©"},{base:"u",letters:"uâ“¤ï½•Ã¹ÃºÃ»Å©á¹¹Å«á¹»Å­Ã¼ÇœÇ˜Ç–Çšá»§Å¯Å±Ç”È•È—Æ°á»«á»©á»¯á»­á»±á»¥á¹³Å³á¹·á¹µÊ‰"},{base:"v",letters:"vâ“¥ï½–á¹½á¹¿Ê‹êŸÊŒ"},{base:"vy",letters:"ê¡"},{base:"w",letters:"wâ“¦ï½—áºáºƒÅµáº‡áº…áº˜áº‰â±³"},{base:"x",letters:"xâ“§ï½˜áº‹áº"},{base:"y",letters:"yâ“¨ï½™á»³Ã½Å·á»¹È³áºÃ¿á»·áº™á»µÆ´Éá»¿"},{base:"z",letters:"zâ“©ï½šÅºáº‘Å¼Å¾áº“áº•Æ¶È¥É€â±¬ê£"}],jj={},zj=0;zj<kj.length;zj++)for(var Nj=kj[zj].letters,Aj=0;Aj<Nj.length;Aj++)jj[Nj[Aj]]=kj[zj].base;function Ij(t,e){return!(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)&&t.every((function(t,n){return t===e[n]}))}function Cj(t,e){var n=v(t);return n&&Number.isFinite(e)&&(n.opacity=e),n?n.toString():null}function Dj(t){return function(t){return t.replace(/[^\u0020-\u007E]/g,(function(t){return jj[t]||t}))}(t).toLowerCase().replace(/&/g,"and").replace(/[^\p{Letter}\p{Number}]/gu,"")}function Tj(t){return t*fj.k+fj.x}function Ej(t){return t*fj.k+fj.y}function Sj(t){return!!t&&(!(Tj(t[0][0])>Uy)&&(!(Tj(t[1][0])<0)&&(!(Ej(t[0][1])>By)&&Ej(t[1][1])>0)))}function Lj(t,e){return t.map((t=>[t[0]+e[0],t[1]+e[1]]))}function Oj(t,e,n){var r=t[e].column_names[n];return void 0!==r&&(!Array.isArray(r)||!!r.length)}function Pj(t){return t.map((function(t){return{...t,text:t.text.toUpperCase()}}))}var Yj="points";var Fj="object"==typeof global&&global&&global.Object===Object&&global,Uj="object"==typeof self&&self&&self.Object===Object&&self,Bj=Fj||Uj||Function("return this")(),Rj=Bj.Symbol,Zj=Object.prototype,Gj=Zj.hasOwnProperty,Hj=Zj.toString,Qj=Rj?Rj.toStringTag:void 0;var $j=Object.prototype.toString;var Wj=Rj?Rj.toStringTag:void 0;function qj(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Wj&&Wj in Object(t)?function(t){var e=Gj.call(t,Qj),n=t[Qj];try{t[Qj]=void 0;var r=!0}catch(t){}var i=Hj.call(t);return r&&(e?t[Qj]=n:delete t[Qj]),i}(t):function(t){return $j.call(t)}(t)}function Vj(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Xj(t){if(!Vj(t))return!1;var e=qj(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Jj,Kj=Bj["__core-js_shared__"],tz=(Jj=/[^.]+$/.exec(Kj&&Kj.keys&&Kj.keys.IE_PROTO||""))?"Symbol(src)_1."+Jj:"";var ez=Function.prototype.toString;function nz(t){if(null!=t){try{return ez.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var rz=/^\[object .+?Constructor\]$/,iz=Function.prototype,oz=Object.prototype,az=iz.toString,sz=oz.hasOwnProperty,lz=RegExp("^"+az.call(sz).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cz(t){return!(!Vj(t)||(e=t,tz&&tz in e))&&(Xj(t)?lz:rz).test(nz(t));var e}function uz(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return cz(n)?n:void 0}var pz=function(){try{var t=uz(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function dz(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}var fz=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[++r];if(!1===e(i[s],s,i))break}return t};function hz(t){return null!=t&&"object"==typeof t}function gz(t){return hz(t)&&"[object Arguments]"==qj(t)}var _z=Object.prototype,bz=_z.hasOwnProperty,mz=_z.propertyIsEnumerable,yz=gz(function(){return arguments}())?gz:function(t){return hz(t)&&bz.call(t,"callee")&&!mz.call(t,"callee")},vz=Array.isArray;var wz="object"==typeof t&&t&&!t.nodeType&&t,xz=wz&&"object"==typeof module&&module&&!module.nodeType&&module,Mz=xz&&xz.exports===wz?Bj.Buffer:void 0,kz=(Mz?Mz.isBuffer:void 0)||function(){return!1},jz=/^(?:0|[1-9]\d*)$/;function zz(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&jz.test(t))&&t>-1&&t%1==0&&t<e}function Nz(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var Az={};Az["[object Float32Array]"]=Az["[object Float64Array]"]=Az["[object Int8Array]"]=Az["[object Int16Array]"]=Az["[object Int32Array]"]=Az["[object Uint8Array]"]=Az["[object Uint8ClampedArray]"]=Az["[object Uint16Array]"]=Az["[object Uint32Array]"]=!0,Az["[object Arguments]"]=Az["[object Array]"]=Az["[object ArrayBuffer]"]=Az["[object Boolean]"]=Az["[object DataView]"]=Az["[object Date]"]=Az["[object Error]"]=Az["[object Function]"]=Az["[object Map]"]=Az["[object Number]"]=Az["[object Object]"]=Az["[object RegExp]"]=Az["[object Set]"]=Az["[object String]"]=Az["[object WeakMap]"]=!1;var Iz,Cz="object"==typeof t&&t&&!t.nodeType&&t,Dz=Cz&&"object"==typeof module&&module&&!module.nodeType&&module,Tz=Dz&&Dz.exports===Cz&&Fj.process,Ez=function(){try{var t=Dz&&Dz.require&&Dz.require("util").types;return t||Tz&&Tz.binding&&Tz.binding("util")}catch(t){}}(),Sz=Ez&&Ez.isTypedArray,Lz=Sz?(Iz=Sz,function(t){return Iz(t)}):function(t){return hz(t)&&Nz(t.length)&&!!Az[qj(t)]},Oz=Object.prototype.hasOwnProperty;function Pz(t,e){var n=vz(t),r=!n&&yz(t),i=!n&&!r&&kz(t),o=!n&&!r&&!i&&Lz(t),a=n||r||i||o,s=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=s.length;for(var c in t)!Oz.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zz(c,l))||s.push(c);return s}var Yz=Object.prototype;var Fz=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),Uz=Object.prototype.hasOwnProperty;function Bz(t){if(!function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Yz)}(t))return Fz(t);var e=[];for(var n in Object(t))Uz.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Rz(t){return null!=t&&Nz(t.length)&&!Xj(t)}function Zz(t){return Rz(t)?Pz(t):Bz(t)}var Gz,Hz=(Gz=function(t,e){return t&&fz(t,e,Zz)},function(t,e){if(null==t)return t;if(!Rz(t))return Gz(t,e);for(var n=t.length,r=-1,i=Object(t);++r<n&&!1!==e(i[r],r,i););return t});function Qz(t,e,n,r){return Hz(t,(function(t,i,o){e(r,t,n(t),o)})),r}function $z(t,e){return t===e||t!=t&&e!=e}function Wz(t,e){for(var n=t.length;n--;)if($z(t[n][0],e))return n;return-1}var qz=Array.prototype.splice;function Vz(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vz.prototype.clear=function(){this.__data__=[],this.size=0},Vz.prototype.delete=function(t){var e=this.__data__,n=Wz(e,t);return!(n<0)&&(n==e.length-1?e.pop():qz.call(e,n,1),--this.size,!0)},Vz.prototype.get=function(t){var e=this.__data__,n=Wz(e,t);return n<0?void 0:e[n][1]},Vz.prototype.has=function(t){return Wz(this.__data__,t)>-1},Vz.prototype.set=function(t,e){var n=this.__data__,r=Wz(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Xz=uz(Bj,"Map"),Jz=uz(Object,"create");var Kz=Object.prototype.hasOwnProperty;var tN=Object.prototype.hasOwnProperty;function eN(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nN(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function rN(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}eN.prototype.clear=function(){this.__data__=Jz?Jz(null):{},this.size=0},eN.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},eN.prototype.get=function(t){var e=this.__data__;if(Jz){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Kz.call(e,t)?e[t]:void 0},eN.prototype.has=function(t){var e=this.__data__;return Jz?void 0!==e[t]:tN.call(e,t)},eN.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Jz&&void 0===e?"__lodash_hash_undefined__":e,this},rN.prototype.clear=function(){this.size=0,this.__data__={hash:new eN,map:new(Xz||Vz),string:new eN}},rN.prototype.delete=function(t){var e=nN(this,t).delete(t);return this.size-=e?1:0,e},rN.prototype.get=function(t){return nN(this,t).get(t)},rN.prototype.has=function(t){return nN(this,t).has(t)},rN.prototype.set=function(t,e){var n=nN(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function iN(t){var e=this.__data__=new Vz(t);this.size=e.size}iN.prototype.clear=function(){this.__data__=new Vz,this.size=0},iN.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},iN.prototype.get=function(t){return this.__data__.get(t)},iN.prototype.has=function(t){return this.__data__.has(t)},iN.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Vz){var r=n.__data__;if(!Xz||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rN(r)}return n.set(t,e),this.size=n.size,this};function oN(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new rN;++e<n;)this.add(t[e])}function aN(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}oN.prototype.add=oN.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},oN.prototype.has=function(t){return this.__data__.has(t)};function sN(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var p=-1,d=!0,f=2&n?new oN:void 0;for(o.set(t,e),o.set(e,t);++p<s;){var h=t[p],g=e[p];if(r)var _=a?r(g,h,p,e,t,o):r(h,g,p,t,e,o);if(void 0!==_){if(_)continue;d=!1;break}if(f){if(!aN(e,(function(t,e){if(a=e,!f.has(a)&&(h===t||i(h,t,n,r,o)))return f.push(e);var a}))){d=!1;break}}else if(h!==g&&!i(h,g,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}var lN=Bj.Uint8Array;function cN(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function uN(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var pN=Rj?Rj.prototype:void 0,dN=pN?pN.valueOf:void 0;var fN=Object.prototype.propertyIsEnumerable,hN=Object.getOwnPropertySymbols,gN=hN?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(hN(t),(function(e){return fN.call(t,e)})))}:function(){return[]};function _N(t){return function(t,e,n){var r=e(t);return vz(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Zz,gN)}var bN=Object.prototype.hasOwnProperty;var mN=uz(Bj,"DataView"),yN=uz(Bj,"Promise"),vN=uz(Bj,"Set"),wN=uz(Bj,"WeakMap"),xN="[object Map]",MN="[object Promise]",kN="[object Set]",jN="[object WeakMap]",zN="[object DataView]",NN=nz(mN),AN=nz(Xz),IN=nz(yN),CN=nz(vN),DN=nz(wN),TN=qj;(mN&&TN(new mN(new ArrayBuffer(1)))!=zN||Xz&&TN(new Xz)!=xN||yN&&TN(yN.resolve())!=MN||vN&&TN(new vN)!=kN||wN&&TN(new wN)!=jN)&&(TN=function(t){var e=qj(t),n="[object Object]"==e?t.constructor:void 0,r=n?nz(n):"";if(r)switch(r){case NN:return zN;case AN:return xN;case IN:return MN;case CN:return kN;case DN:return jN}return e});var EN="[object Arguments]",SN="[object Array]",LN="[object Object]",ON=Object.prototype.hasOwnProperty;function PN(t,e,n,r,i,o){var a=vz(t),s=vz(e),l=a?SN:TN(t),c=s?SN:TN(e),u=(l=l==EN?LN:l)==LN,p=(c=c==EN?LN:c)==LN,d=l==c;if(d&&kz(t)){if(!kz(e))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new iN),a||Lz(t)?sN(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new lN(t),new lN(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $z(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=cN;case"[object Set]":var l=1&r;if(s||(s=uN),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var u=sN(s(t),s(e),r,i,o,a);return a.delete(t),u;case"[object Symbol]":if(dN)return dN.call(t)==dN.call(e)}return!1}(t,e,l,n,r,i,o);if(!(1&n)){var f=u&&ON.call(t,"__wrapped__"),h=p&&ON.call(e,"__wrapped__");if(f||h){var g=f?t.value():t,_=h?e.value():e;return o||(o=new iN),i(g,_,n,r,o)}}return!!d&&(o||(o=new iN),function(t,e,n,r,i,o){var a=1&n,s=_N(t),l=s.length;if(l!=_N(e).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in e:bN.call(e,u)))return!1}var p=o.get(t),d=o.get(e);if(p&&d)return p==e&&d==t;var f=!0;o.set(t,e),o.set(e,t);for(var h=a;++c<l;){var g=t[u=s[c]],_=e[u];if(r)var b=a?r(_,g,u,e,t,o):r(g,_,u,t,e,o);if(!(void 0===b?g===_||i(g,_,n,r,o):b)){f=!1;break}h||(h="constructor"==u)}if(f&&!h){var m=t.constructor,y=e.constructor;m==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o))}function YN(t,e,n,r,i){return t===e||(null==t||null==e||!hz(t)&&!hz(e)?t!=t&&e!=e:PN(t,e,n,r,YN,i))}function FN(t){return t==t&&!Vj(t)}function UN(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function BN(t){var e=function(t){for(var e=Zz(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,FN(i)]}return e}(t);return 1==e.length&&e[0][2]?UN(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var i=n.length,o=i;if(null==t)return!o;for(t=Object(t);i--;){var a=n[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var s=(a=n[i])[0],l=t[s],c=a[1];if(a[2]){if(void 0===l&&!(s in t))return!1}else if(!YN(c,l,3,r,new iN))return!1}return!0}(n,0,e)}}function RN(t){return"symbol"==typeof t||hz(t)&&"[object Symbol]"==qj(t)}var ZN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,GN=/^\w*$/;function HN(t,e){if(vz(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!RN(t))||(GN.test(t)||!ZN.test(t)||null!=e&&t in Object(e))}function QN(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(QN.Cache||rN),n}QN.Cache=rN;var $N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WN=/\\(\\)?/g,qN=function(t){var e=QN(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace($N,(function(t,n,r,i){e.push(r?i.replace(WN,"$1"):n||t)})),e}));var VN=Rj?Rj.prototype:void 0,XN=VN?VN.toString:void 0;function JN(t){if("string"==typeof t)return t;if(vz(t))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(t,JN)+"";if(RN(t))return XN?XN.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function KN(t,e){return vz(t)?t:HN(t,e)?[t]:qN(function(t){return null==t?"":JN(t)}(t))}function tA(t){if("string"==typeof t||RN(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function eA(t,e){for(var n=0,r=(e=KN(e,t)).length;null!=t&&n<r;)t=t[tA(e[n++])];return n&&n==r?t:void 0}function nA(t,e){return null!=t&&e in Object(t)}function rA(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=KN(e,t)).length,o=!1;++r<i;){var a=tA(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Nz(i)&&zz(a,i)&&(vz(t)||yz(t))}(t,e,nA)}function iA(t,e){return HN(t)&&FN(e)?UN(tA(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:eA(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?rA(n,t):YN(e,r,3)}}function oA(t){return t}function aA(t){return HN(t)?(e=tA(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return eA(e,t)}}(t);var e}var sA,lA,cA=Object.prototype.hasOwnProperty,uA=(sA=function(t,e,n){cA.call(t,n)?++t[n]:function(t,e,n){"__proto__"==e&&pz?pz(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}(t,n,1)},function(t,e){var n=vz(t)?dz:Qz,r=lA?lA():{};return n(t,sA,function(t){return"function"==typeof t?t:null==t?oA:"object"==typeof t?vz(t)?iA(t[0],t[1]):BN(t):aA(t)}(e),r)}),pA=function t(e,n){var r,i=e&&e.type;if("FeatureCollection"===i)for(r=0;r<e.features.length;r++)t(e.features[r],n);else if("GeometryCollection"===i)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],n);else if("Feature"===i)t(e.geometry,n);else if("Polygon"===i)dA(e.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<e.coordinates.length;r++)dA(e.coordinates[r],n);return e};function dA(t,e){if(0!==t.length){fA(t[0],e);for(var n=1;n<t.length;n++)fA(t[n],!e)}}function fA(t,e){for(var n=0,r=0,i=0,o=t.length,a=o-1;i<o;a=i++){var s=(t[i][0]-t[a][0])*(t[a][1]+t[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!e&&t.reverse()}function hA(t){if(!(e=t)||"object"!=typeof e)throw new TypeError("feature must be an object");var e;return pA(t,!0)}let gA="regions",_A=function(t){return t&&t[0]&&t[0].length>4?t:null},bA=function(t){return t.reduce((function(t,e){return _A(e)&&t.push(e),t}),[])};function mA(t){if(!t||!t.geometry)return;let e,n;try{e=JSON.parse(t.geometry),n=e.type}catch(e){return void console.warn("Feature skipped because JSON.parse failed.",t,e)}if("Polygon"!==n&&"MultiPolygon"!==n)return;if(!Array.isArray(e.coordinates))return;let r=("Polygon"===n?_A:bA)(e.coordinates);return r&&r.length?(e.coordinates=r,hA({type:"Feature",geometry:e,properties:{}})):void 0}function yA(t,e){let n=uA(t,(t=>void 0===e?t.id:t.id[e]));delete n[""];let r=Object.entries(n).filter((t=>t[1]>1)).map((t=>t[0]));return r}function vA(t,e){for(let n=0;n<t.length;n++){if(t[n].indexOf(e)>=0)return n}return-1}function wA(t){return-1===t||em.regions_geometry.length>0&&t>=em.regions_geometry[0].id.length?[]:em.regions_geometry.map((e=>"string"===em.regions_geometry.metadata.id[t].type?e.id[t].split(";"):[e.id[t]]))}const xA=["LineString","MultiLineString","Polygon","MultiPolygon"];var MA=function(t){return t&&t[0].length>4?t:null},kA=function(t){return t.reduce((function(t,e){return MA(e)&&t.push(e),t}),[])};function jA(){const t=function(){if(em.lines)return em.lines;const t=[];return t.column_names={},t}(),e=[],n=void 0!==t.column_names.series;t.forEach((function(t){const r=function(t){if(!t||!t.geometry)return;let e,n;try{e=JSON.parse(t.geometry),n=e.type}catch(e){return void console.warn("Feature skipped because JSON.parse failed.",t,e)}if(!xA.includes(n))return;if(!Array.isArray(e.coordinates))return;if("LineString"===n||"MultiLineString"===n)return{type:"Feature",geometry:e,properties:{}};let r=("Polygon"===n?MA:kA)(e.coordinates);return r&&r.length?(e.coordinates=r,hA({type:"Feature",geometry:e,properties:{}})):void 0}(t);if(!r)return;const i=r.properties;n&&(i.series=t.series),e.push(r)}));const r=t.length-e.length;r&&(1===r?console.warn("1 line ignored because of invalid entry"):console.warn(r+" lines ignored because of invalid entry"));const i={unprojected_feature_collection:of({type:"FeatureCollection",features:e}),has_series_binding:n},o={type:"FeatureCollection",features:i.unprojected_feature_collection.features.map((function(t){const e=t.properties.series;return delete t.properties,{type:"Feature",geometry:null,properties:{unprojected_feature:t,series:e}}})),properties:i};return o}var zA=Object.prototype.hasOwnProperty;function NA(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),l=t-1,c=0;c<t;++c)a[c]=i;return{set:function(r,o){for(var c=e(r)&l,u=a[c],p=0;u!=i;){if(n(u,r))return s[c]=o;if(++p>=t)throw new Error("full hashmap");u=a[c=c+1&l]}return a[c]=r,s[c]=o,o},maybeSet:function(r,o){for(var c=e(r)&l,u=a[c],p=0;u!=i;){if(n(u,r))return s[c];if(++p>=t)throw new Error("full hashmap");u=a[c=c+1&l]}return a[c]=r,s[c]=o,o},get:function(r,o){for(var c=e(r)&l,u=a[c],p=0;u!=i;){if(n(u,r))return s[c];if(++p>=t)break;u=a[c=c+1&l]}return o},keys:function(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=i&&t.push(r)}return t}}}function AA(t,e){return t[0]===e[0]&&t[1]===e[1]}var IA=new ArrayBuffer(16),CA=new Float64Array(IA),DA=new Uint32Array(IA);function TA(t){CA[0]=t[0],CA[1]=t[1];var e=DA[0]^DA[1];return 2147483647&(e=e<<5^e>>7^DA[2]^DA[3])}function EA(t,e,n,r){SA(t,e,n),SA(t,e,e+r),SA(t,e+r,n)}function SA(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function LA(t){return null==t?{type:null}:("FeatureCollection"===t.type?OA:"Feature"===t.type?PA:YA)(t)}function OA(t){var e={type:"GeometryCollection",geometries:t.features.map(PA)};return null!=t.bbox&&(e.bbox=t.bbox),e}function PA(t){var e,n=YA(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function YA(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(YA)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function FA(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function UA(t,e){var n,r=t[0],i=t[1],o=e[0],a=e[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}function BA(t){return t}function RA(t,e){var n=function(t){if(null==t)return BA;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var l=2,c=t.length,u=new Array(c);for(u[0]=(e+=t[0])*r+o,u[1]=(n+=t[1])*i+a;l<c;)u[l]=t[l],++l;return u}}(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,a)}function o(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function s(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(s)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(e)}function ZA(t,e){var n={},r={},i={},o=[],a=-1;function s(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)})),e.forEach((function(e){var n,o,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,i]:[i,n]}(e),s=a[0],l=a[1];if(n=i[s])if(delete i[n.end],n.push(e),n.end=l,o=r[l]){delete r[o.start];var c=o===n?n:n.concat(o);r[c.start=n.start]=i[c.end=o.end]=c}else r[n.start]=i[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(e),n.start=s,o=i[s]){delete i[o.end];var u=o===n?n:o.concat(n);r[u.start=o.start]=i[u.end=n.end]=u}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=s]=i[n.end=l]=n})),s(i,r),s(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o}function GA(t,e){var n={},r=[],i=[];function o(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),r.push(t)}function a(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(RA(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":o(e.arcs);break;case"MultiPolygon":e.arcs.forEach(o)}})),r.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,i.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),r.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:i.map((function(e){var r,i=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&i.push(t)}))}))})),(r=(i=ZA(t,i)).length)>1)for(var o,s,l=1,c=a(i[0]);l<r;++l)(o=a(i[l]))>c&&(s=i[0],i[0]=i[l],i[l]=s,c=o);return i})).filter((function(t){return t.length>0}))}}var HA,QA,$A,WA,qA,VA,XA,JA,KA,tI,eI,nI,rI,iI,oI,aI=tm();var sI=["bottom","top","right","left","bottomLeft","topLeft","bottomRight","topRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"];function lI(t){return{type:"Feature",geometry:{type:"Polygon",coordinates:t}}}function cI(t,n){var r=hv();if("zoom"==n||DM.isEditing())return JA.popup.hide(),void KA.popup.hide();if("clickout"==n||!r||!r.geometry)return JA.clickout(),KA.clickout(),void $M(null);var i=r.properties,o=i.source;if(XA="points"==o?KA:JA,nI=document.querySelector("#flourish-popup-"+XA.popup.unique_id+" .flourish-popup-content"),iI=PM.left,oI=PM.top,e.sticky_hover&&"update"==n&&(n="click"),dj&&"popup"==XA.mode())XA.clickout();else{var a;tI||(XA.update([0,0]),tI=document.querySelector("#flourish-popup-"+XA.popup.unique_id+" .flourish-popup-svg g path"),nI=document.querySelector("#flourish-popup-"+XA.popup.unique_id+" .flourish-popup-content"),rI=.4*tI.getBoundingClientRect().height,XA.clickout(),eI={bottom:{x:0,y:rI},top:{x:0,y:-rI},left:{x:-rI,y:0},right:{x:rI,y:0},bottomLeft:{x:-rI,y:rI},topLeft:{x:-rI,y:-rI},bottomRight:{x:rI,y:rI},topRight:{x:rI,y:-rI}}),"points"===o?(a=function(t){var e,n=t.geometry,r=t.properties,i=iI+Tj(n.coordinates[0]),o=oI+Ej(n.coordinates[1]),a=(r.scaling||1)*fj.k*hj;for(var s in e={},r.popup_points){var l=r.popup_points[s];e[s]={x:i+l.x*a,y:o+l.y*a}}return{popup_points:e}}(r),"click"==n?JA.clickout():"mouseover"==n&&JA.mouseout()):(a=function(t,e){var n,r=Bu();if("Polygon"===t.geometry.type)n=t;else if(e&&t.properties.unprojected_feature.geometry.coordinates.some((function(t){var r=lI(t);if(Fc(r,Fy.invert([e.x,e.y])))return n=Ed(r,Fy),!0})),!e||!n){var i=0;n=t.geometry.coordinates.map(lI).reduce((function(t,e){var n=r.area(e);return n>i&&(i=n,t=e),t}),null)}var o=Bu().bounds(n),a=Tj(o[0][0]),s=Tj(o[1][0]),l=Ej(o[0][1]),c=Ej(o[1][1]),u=(a+s)/2,p=(l+c)/2;return{popup_points:{bottom:{x:iI+u,y:oI+l},top:{x:iI+u,y:oI+c},left:{x:iI+s,y:oI+p},right:{x:iI+a,y:oI+p},bottomLeft:{x:iI+s,y:oI+l},topLeft:{x:iI+s,y:oI+c},bottomRight:{x:iI+a,y:oI+l},topRight:{x:iI+a,y:oI+c},middle:{x:iI+u,y:oI+p}},polygon:n}}(r,t),"click"==n?KA.clickout():"mouseover"==n&&KA.mouseout());var s,l="points"===o?function(){var t={},n=MD.index(),r=em.points.metadata,i={...em.points.column_names},o=hv().properties,a=!1,s=KA.mode();"both"==s?a=e.point_popup.panel_is_custom||e.point_popup.popup_is_custom:"none"!=s&&(a=e.point_popup[s+"_is_custom"]),a||(delete i.lat,delete i.lon),t.value=r.value.map((t=>yD(t.output_format_id))),t.metadata=r.metadata.map((t=>{let e={output_format_id:t.output_format_id};return"number"===t.type&&(e=yD(t.output_format_id)),e}));var l={...o},c=(t,e)=>e===n;if(em.points.column_names.value.length>0)if(a){i.current_value="VALUE",l.current_value=o.value[n];var u=r.value[n].output_format_id;t.current_value=yD(u),i.current_metric="METRIC",l.current_metric=em.points.column_names.value[n]}else l.value=l.value.filter(c),i.value=i.value.filter(c),t.value=t.value.filter(c);return KA.setColumnNames(i).setFormatters(t),l}():function(t){var n={},r=xD.index(),i=em.regions.metadata,o={...em.regions.column_names},a=hv().properties,s=!1,l=JA.mode();"both"==l?(e.choropleth_popup.panel_is_custom&&"click"==t||e.choropleth_popup.popup_is_custom&&"mouseover"==t)&&(s=!0):"none"!=l&&(s=e.choropleth_popup[l+"_is_custom"]),(o&&!a.group||!s&&$A.length<2)&&delete o.group,s||(delete o.id,delete o.label,0===o.metadata.length&&delete o.metadata),n.value=i.value.map((t=>"number"===t.type?mD(t.output_format_id):t=>t)),n.metadata=i.metadata.map((t=>{let e={output_format_id:t.output_format_id};return"number"===t.type&&(e=mD(t.output_format_id)),e}));var c={...a},u=(t,e)=>e===r;if(s||(c.value=c.value.filter(u),o.value=o.value.filter(u),n.value=n.value.filter(u)),s&&em.regions.column_names.value.length>0){o.current_value="VALUE",c.current_value=a.value[r];var p=i.value[r],d=p.output_format_id;n.current_value="number"===p.type?mD(d):t=>t,o.current_metric="METRIC",c.current_metric=em.regions.column_names.value[r]}return JA.setColumnNames(o).setFormatters(n),c}(n),c=i.hide_popup_pointer,u=sI.some((function(t){var e=t.replace("Flexible",""),r=c&&eI?eI[e]:{x:0,y:0},i=a.popup_points[e];return"click"==n?XA.popupDirections([t]).click([i.x+r.x,i.y+r.y],l,!0):"mouseover"==n&&XA.popupDirections([t]).mouseover([i.x+r.x,i.y+r.y],l),"panel"==XA.mode()||"both"==XA.mode()&&"click"==n||((s=nI.getBoundingClientRect()).left>iI&&s.top>oI&&s.right<PM.right&&s.bottom<PM.bottom||void 0)}));if(!u){var p=a.popup_points.middle;"click"==n&&XA.popupDirections(sI.concat("bottom")).click([p.x,p.y],l,e.sticky_hover),"mouseover"==n&&XA.popupDirections(sI.concat("bottom")).mouseover([p.x,p.y],l,e.sticky_hover)}}}var uI=Object.freeze({categorical_type:"palette",categorical_palette:["#135ae1","#2197ff","#9852d9","#f54e8b","#fa6502","#f2b90f","#058896","#09aa64","#de2c35","#a7abaf","#808080"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"FlourishBlues",sequential_custom_min:"#F5F7FF",sequential_custom_max:"#002196",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#1AA7EE",diverging_custom_mid:"#F7F7F7",diverging_custom_max:"#FF6283",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),pI=360/((1+Math.sqrt(5))/2),dI="#FF0000";function fI(t,e,n){return function(r,i){Array.isArray(r)||(r=r?[r]:[dI]),i=void 0!==i?i:pI;var o=r.map((function(e){return t(e)})).filter((function(t){return!isNaN(t[e])&&!isNaN(t[n])}));o.length||(o=[t(dI)]);var a,s=o.length,l=o.reduce((function(t,n){return t+n[e]}),0)/s,c=o.reduce((function(t,e){return t+e[n]}),0)/s,u=s;do{a=o[--u].h}while(isNaN(a)&&u>0);var p=0;return function(){var e=++p*i;return v(t((a+e)%360,l,c)).hex()}}}var hI={hcl:fI(J,"c","l"),hsl:fI(E,"s","l")};function gI(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function _I(t){return C_(t[t.length-1])}var bI=_I(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(gI)),mI=_I(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(gI)),yI=_I(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(gI)),vI=_I(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(gI)),wI=_I(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(gI)),xI=_I(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(gI)),MI=_I(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(gI)),kI=_I(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(gI)),jI=_I(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(gI)),zI=_I(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(gI)),NI=_I(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(gI)),AI=_I(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(gI)),II=_I(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(gI)),CI=_I(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(gI)),DI=_I(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(gI)),TI=_I(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(gI)),EI=_I(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(gI)),SI=_I(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(gI)),LI=_I(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(gI)),OI=_I(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(gI)),PI=_I(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(gI)),YI=ib(w_(300,.5,0),w_(-240,.5,1)),FI=ib(w_(-100,.75,.35),w_(80,1.5,.8)),UI=ib(w_(260,.75,.35),w_(80,1.5,.8));function BI(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}w_();var RI=BI(gI("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ZI=BI(gI("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),GI=BI(gI("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),HI=BI(gI("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function QI(t,e){return t-e}function $I(t,e){var n=e[0],r=e[e.length-1],i=Uv().domain([n,r]),o=Math.floor(t.bin_count);return i.range(oc(o)),i.thresholds()}function WI(t,e,n){var r;return r="fixed"==t.bin_mode?$I(t,e):"quantile"==t.bin_mode?function(t,e,n){var r=Fv().domain(n),i=Math.floor(t.bin_count);return r.range(oc(i)),r.quantiles()}(t,0,n):function(t){return t.bin_thresholds.split(";").map(parseFloat).filter((function(t){return!isNaN(t)&&null!==t})).sort(QI)}(t),r}function qI(t,e,n,r,i){for(var o=1+e;o<=t+e;o++)i.push(r(n(o)))}function VI(t,e,n){var r=e.length,i=Tv(),o=[];if(1===r)o.push(n(.5));else if(2===t.length)i.domain([1,r]).range([0,1]),qI(r,0,i,n,o);else if(2===r)o.push(n(0)),o.push(n(1));else{var a,s,l=t[1],c=function(t,e){var n;return t.forEach((function(t,r){Math.abs(t-e)<.001&&(n=r)})),n}(e,l);c?(a=c,s=r-c-1,i.domain([1,a+1]).range([0,.5]),qI(a,0,i,n,o),o.push(n(.5)),i.domain([1,s+1]).range([.5,1]),qI(s,1,i,n,o)):(a=function(t,e){var n=0;return t.forEach((function(t){t<e&&n++})),n}(e,l),s=r-a,i.domain([1,a+1]).range([0,.5]),qI(a,0,i,n,o),i.domain([1,s+1]).range([.5,1]),qI(s,1,i,n,o))}return o}function XI(t,e,n,r){var i,o=WI(t,e,n),a=function(t,e,n){var r=[];if(0===e.length)return[.5*(t+n)];r.push(.5*(t+e[0]));for(var i=0;i<e.length-1;i++)r.push(.5*(e[i]+e[i+1]));return r.push(.5*(n+e[e.length-1])),r}(e[0],o,e[e.length-1]),s=VI(e,a,r);(i="quantile"==t.bin_mode?Fv().domain(n):Bv().domain(o)).range(s);var l=function(t){return isNaN(t)||null===t?null:i(t)};return l.domain=Object.freeze(e),l.thresholds=Object.freeze(o),l.centers=Object.freeze(a),l}function JI(t){var e=Array.isArray(t)?function(t){for(var e,n,r,i=t.length,o=-1;++o<i;)if(null!=(e=t[o])&&e>=e)for(n=r=e;++o<i;)null!=(e=t[o])&&(n>e&&(n=e),r<e&&(r=e));return[n,r]}(t):[0,1];return e}const KI=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),tC=Object.freeze(["rgb(245, 247, 255)","rgb(242, 245, 254)","rgb(239, 243, 254)","rgb(237, 242, 254)","rgb(234, 240, 254)","rgb(231, 239, 254)","rgb(228, 237, 254)","rgb(225, 236, 254)","rgb(222, 234, 254)","rgb(219, 233, 254)","rgb(216, 231, 254)","rgb(213, 230, 254)","rgb(210, 228, 254)","rgb(207, 227, 254)","rgb(204, 225, 254)","rgb(200, 224, 253)","rgb(198, 222, 253)","rgb(195, 221, 253)","rgb(192, 219, 253)","rgb(189, 217, 253)","rgb(186, 216, 253)","rgb(183, 214, 253)","rgb(180, 212, 253)","rgb(177, 211, 253)","rgb(174, 209, 253)","rgb(171, 207, 253)","rgb(168, 206, 253)","rgb(165, 204, 253)","rgb(162, 202, 253)","rgb(159, 201, 253)","rgb(156, 199, 253)","rgb(152, 197, 253)","rgb(149, 195, 253)","rgb(146, 193, 253)","rgb(143, 192, 253)","rgb(140, 190, 253)","rgb(137, 188, 253)","rgb(134, 186, 253)","rgb(130, 184, 253)","rgb(127, 183, 253)","rgb(124, 181, 253)","rgb(121, 179, 253)","rgb(117, 177, 253)","rgb(114, 175, 253)","rgb(111, 173, 253)","rgb(107, 171, 253)","rgb(104, 169, 253)","rgb(100, 167, 253)","rgb(97, 165, 253)","rgb(93, 163, 253)","rgb(90, 161, 252)","rgb(87, 159, 251)","rgb(84, 157, 250)","rgb(81, 155, 248)","rgb(78, 153, 247)","rgb(75, 151, 245)","rgb(72, 149, 244)","rgb(68, 147, 243)","rgb(65, 145, 241)","rgb(61, 143, 240)","rgb(58, 141, 239)","rgb(55, 139, 237)","rgb(51, 136, 236)","rgb(48, 134, 235)","rgb(44, 132, 234)","rgb(41, 130, 233)","rgb(37, 127, 231)","rgb(32, 125, 230)","rgb(28, 123, 229)","rgb(24, 120, 228)","rgb(23, 117, 228)","rgb(21, 114, 227)","rgb(20, 111, 227)","rgb(19, 108, 226)","rgb(18, 105, 226)","rgb(17, 102, 225)","rgb(17, 99, 225)","rgb(17, 96, 225)","rgb(17, 93, 223)","rgb(16, 90, 220)","rgb(16, 88, 217)","rgb(15, 85, 214)","rgb(14, 82, 211)","rgb(13, 80, 208)","rgb(12, 77, 205)","rgb(12, 74, 202)","rgb(10, 71, 198)","rgb(9, 69, 195)","rgb(7, 66, 191)","rgb(6, 63, 187)","rgb(5, 61, 184)","rgb(4, 58, 180)","rgb(3, 55, 176)","rgb(2, 52, 172)","rgb(1, 49, 168)","rgb(1, 46, 164)","rgb(0, 43, 160)","rgb(0, 40, 157)","rgb(0, 36, 153)","rgb(0, 33, 150)"]),eC=Object.freeze(["rgb(224, 255, 236)","rgb(220, 253, 233)","rgb(216, 252, 230)","rgb(213, 251, 227)","rgb(209, 250, 225)","rgb(206, 249, 222)","rgb(202, 247, 219)","rgb(198, 246, 216)","rgb(195, 245, 213)","rgb(191, 244, 210)","rgb(187, 242, 207)","rgb(184, 241, 204)","rgb(180, 240, 201)","rgb(176, 238, 198)","rgb(173, 237, 195)","rgb(169, 236, 192)","rgb(165, 234, 188)","rgb(161, 233, 186)","rgb(157, 232, 183)","rgb(153, 230, 180)","rgb(149, 229, 178)","rgb(145, 228, 175)","rgb(141, 226, 172)","rgb(137, 225, 169)","rgb(132, 223, 167)","rgb(128, 222, 164)","rgb(123, 221, 161)","rgb(119, 219, 158)","rgb(114, 218, 156)","rgb(111, 216, 153)","rgb(107, 214, 151)","rgb(104, 212, 148)","rgb(101, 210, 146)","rgb(97, 209, 143)","rgb(94, 207, 141)","rgb(90, 205, 138)","rgb(87, 203, 136)","rgb(83, 201, 133)","rgb(79, 199, 131)","rgb(76, 198, 128)","rgb(73, 196, 126)","rgb(70, 194, 124)","rgb(66, 191, 122)","rgb(63, 189, 120)","rgb(59, 187, 118)","rgb(56, 185, 116)","rgb(52, 183, 114)","rgb(48, 181, 111)","rgb(43, 179, 109)","rgb(39, 177, 107)","rgb(37, 175, 105)","rgb(34, 172, 103)","rgb(32, 170, 100)","rgb(30, 168, 98)","rgb(27, 166, 96)","rgb(24, 163, 94)","rgb(21, 161, 92)","rgb(18, 159, 89)","rgb(14, 156, 87)","rgb(11, 154, 85)","rgb(11, 151, 82)","rgb(11, 149, 79)","rgb(11, 146, 77)","rgb(11, 144, 74)","rgb(11, 141, 72)","rgb(11, 139, 69)","rgb(11, 136, 66)","rgb(11, 134, 64)","rgb(11, 131, 61)","rgb(11, 128, 59)","rgb(10, 126, 56)","rgb(10, 123, 54)","rgb(10, 120, 51)","rgb(10, 118, 49)","rgb(9, 115, 46)","rgb(9, 112, 44)","rgb(8, 109, 41)","rgb(8, 107, 39)","rgb(7, 104, 36)","rgb(7, 101, 34)","rgb(6, 98, 31)","rgb(6, 95, 28)","rgb(5, 93, 25)","rgb(5, 90, 23)","rgb(5, 87, 21)","rgb(6, 84, 20)","rgb(6, 80, 18)","rgb(6, 77, 17)","rgb(6, 74, 15)","rgb(6, 71, 14)","rgb(5, 68, 12)","rgb(5, 65, 10)","rgb(4, 61, 8)","rgb(4, 58, 7)","rgb(3, 55, 5)","rgb(2, 52, 4)","rgb(1, 48, 2)","rgb(1, 45, 1)","rgb(0, 41, 0)","rgb(0, 38, 0)"]),nC=Object.freeze(["rgb(248, 247, 248)","rgb(245, 245, 246)","rgb(243, 243, 244)","rgb(241, 241, 242)","rgb(239, 239, 240)","rgb(237, 237, 238)","rgb(234, 235, 236)","rgb(232, 232, 234)","rgb(230, 230, 232)","rgb(228, 228, 231)","rgb(226, 226, 229)","rgb(223, 224, 227)","rgb(221, 222, 225)","rgb(219, 220, 223)","rgb(217, 218, 221)","rgb(214, 216, 219)","rgb(212, 214, 217)","rgb(210, 212, 215)","rgb(208, 210, 213)","rgb(206, 208, 211)","rgb(203, 206, 209)","rgb(201, 204, 207)","rgb(199, 202, 205)","rgb(197, 199, 202)","rgb(195, 197, 200)","rgb(192, 195, 198)","rgb(190, 193, 196)","rgb(188, 191, 194)","rgb(186, 189, 192)","rgb(184, 187, 190)","rgb(181, 184, 188)","rgb(179, 182, 186)","rgb(177, 180, 184)","rgb(175, 178, 182)","rgb(172, 175, 179)","rgb(170, 173, 177)","rgb(168, 171, 175)","rgb(166, 169, 172)","rgb(164, 166, 170)","rgb(162, 164, 168)","rgb(160, 162, 165)","rgb(157, 160, 163)","rgb(155, 157, 160)","rgb(153, 155, 158)","rgb(151, 153, 155)","rgb(149, 150, 153)","rgb(146, 148, 151)","rgb(144, 146, 148)","rgb(142, 143, 146)","rgb(140, 141, 143)","rgb(137, 138, 141)","rgb(135, 136, 138)","rgb(133, 134, 135)","rgb(131, 131, 133)","rgb(129, 129, 130)","rgb(127, 126, 127)","rgb(125, 124, 125)","rgb(122, 121, 122)","rgb(120, 119, 120)","rgb(117, 116, 117)","rgb(115, 114, 115)","rgb(112, 111, 112)","rgb(110, 109, 110)","rgb(107, 106, 107)","rgb(105, 104, 105)","rgb(102, 101, 102)","rgb(99, 98, 99)","rgb(97, 96, 97)","rgb(94, 93, 94)","rgb(92, 91, 92)","rgb(89, 88, 89)","rgb(86, 85, 86)","rgb(84, 83, 83)","rgb(81, 80, 80)","rgb(78, 77, 77)","rgb(75, 74, 74)","rgb(73, 72, 72)","rgb(70, 69, 69)","rgb(67, 66, 66)","rgb(64, 63, 63)","rgb(61, 60, 60)","rgb(58, 57, 57)","rgb(55, 54, 54)","rgb(52, 51, 51)","rgb(49, 48, 48)","rgb(45, 45, 45)","rgb(42, 42, 42)","rgb(38, 38, 38)","rgb(35, 35, 35)","rgb(32, 32, 32)","rgb(28, 28, 28)","rgb(25, 25, 25)","rgb(21, 21, 21)","rgb(17, 17, 17)","rgb(13, 13, 13)","rgb(9, 9, 9)","rgb(5, 5, 5)","rgb(2, 2, 2)","rgb(1, 1, 1)","rgb(0, 0, 0)"]),rC=Object.freeze(["rgb(254, 235, 222)","rgb(253, 232, 218)","rgb(253, 230, 215)","rgb(253, 228, 211)","rgb(253, 226, 208)","rgb(253, 224, 204)","rgb(253, 222, 201)","rgb(253, 220, 197)","rgb(253, 218, 194)","rgb(253, 216, 190)","rgb(253, 214, 187)","rgb(252, 211, 183)","rgb(252, 209, 180)","rgb(252, 207, 177)","rgb(252, 205, 173)","rgb(252, 203, 170)","rgb(252, 201, 167)","rgb(251, 198, 163)","rgb(251, 196, 160)","rgb(251, 194, 156)","rgb(251, 191, 153)","rgb(251, 189, 149)","rgb(251, 187, 146)","rgb(251, 184, 141)","rgb(252, 181, 136)","rgb(252, 179, 132)","rgb(253, 176, 127)","rgb(253, 173, 122)","rgb(253, 170, 117)","rgb(254, 168, 112)","rgb(254, 165, 107)","rgb(254, 162, 103)","rgb(254, 159, 98)","rgb(254, 156, 93)","rgb(255, 153, 88)","rgb(255, 151, 84)","rgb(255, 148, 79)","rgb(255, 144, 73)","rgb(255, 141, 68)","rgb(255, 138, 63)","rgb(255, 135, 57)","rgb(255, 132, 52)","rgb(255, 129, 46)","rgb(254, 125, 40)","rgb(253, 123, 38)","rgb(252, 121, 36)","rgb(251, 118, 34)","rgb(249, 116, 32)","rgb(248, 113, 30)","rgb(247, 111, 27)","rgb(245, 108, 25)","rgb(244, 105, 23)","rgb(242, 103, 20)","rgb(241, 100, 18)","rgb(239, 98, 15)","rgb(238, 95, 13)","rgb(236, 93, 10)","rgb(235, 90, 7)","rgb(233, 87, 4)","rgb(231, 85, 2)","rgb(230, 82, 0)","rgb(227, 80, 0)","rgb(225, 78, 0)","rgb(223, 76, 0)","rgb(220, 74, 0)","rgb(218, 72, 0)","rgb(215, 70, 0)","rgb(213, 68, 0)","rgb(210, 66, 0)","rgb(208, 65, 0)","rgb(205, 63, 0)","rgb(203, 61, 0)","rgb(200, 59, 0)","rgb(197, 58, 0)","rgb(195, 56, 0)","rgb(192, 54, 0)","rgb(189, 52, 0)","rgb(186, 50, 0)","rgb(183, 49, 0)","rgb(180, 47, 0)","rgb(177, 46, 0)","rgb(174, 45, 0)","rgb(171, 44, 0)","rgb(168, 42, 0)","rgb(164, 41, 0)","rgb(161, 40, 1)","rgb(158, 39, 1)","rgb(154, 38, 2)","rgb(151, 37, 3)","rgb(147, 36, 3)","rgb(144, 34, 4)","rgb(140, 33, 4)","rgb(137, 32, 4)","rgb(133, 31, 4)","rgb(130, 30, 5)","rgb(126, 28, 6)","rgb(123, 27, 6)","rgb(119, 26, 7)","rgb(115, 25, 7)","rgb(112, 24, 8)"]),iC=Object.freeze(["rgb(255, 245, 250)","rgb(254, 242, 249)","rgb(254, 239, 248)","rgb(254, 237, 247)","rgb(254, 234, 246)","rgb(253, 232, 245)","rgb(253, 229, 244)","rgb(253, 226, 243)","rgb(253, 224, 241)","rgb(253, 221, 240)","rgb(253, 218, 239)","rgb(253, 216, 238)","rgb(253, 213, 236)","rgb(254, 210, 235)","rgb(254, 207, 233)","rgb(254, 204, 232)","rgb(254, 201, 230)","rgb(254, 198, 229)","rgb(254, 195, 227)","rgb(254, 192, 225)","rgb(254, 189, 224)","rgb(254, 186, 222)","rgb(254, 183, 220)","rgb(254, 180, 218)","rgb(255, 177, 216)","rgb(255, 174, 214)","rgb(255, 171, 211)","rgb(254, 168, 209)","rgb(254, 165, 207)","rgb(254, 162, 204)","rgb(254, 158, 202)","rgb(254, 155, 199)","rgb(254, 152, 196)","rgb(254, 149, 194)","rgb(254, 146, 191)","rgb(253, 142, 188)","rgb(253, 139, 186)","rgb(253, 135, 183)","rgb(253, 131, 180)","rgb(253, 128, 178)","rgb(253, 124, 175)","rgb(252, 120, 172)","rgb(252, 117, 169)","rgb(252, 113, 166)","rgb(251, 109, 163)","rgb(250, 106, 160)","rgb(249, 102, 157)","rgb(248, 98, 155)","rgb(248, 94, 152)","rgb(247, 91, 149)","rgb(246, 87, 146)","rgb(244, 83, 143)","rgb(243, 79, 140)","rgb(242, 75, 137)","rgb(239, 72, 135)","rgb(237, 70, 134)","rgb(235, 67, 132)","rgb(232, 65, 130)","rgb(230, 62, 129)","rgb(227, 59, 127)","rgb(224, 56, 125)","rgb(222, 53, 124)","rgb(219, 50, 122)","rgb(217, 48, 119)","rgb(214, 46, 116)","rgb(211, 43, 113)","rgb(208, 41, 110)","rgb(205, 39, 107)","rgb(202, 36, 104)","rgb(199, 34, 101)","rgb(197, 31, 98)","rgb(194, 29, 95)","rgb(190, 26, 91)","rgb(187, 24, 88)","rgb(184, 21, 85)","rgb(181, 18, 82)","rgb(178, 15, 78)","rgb(174, 12, 75)","rgb(171, 8, 72)","rgb(168, 4, 69)","rgb(164, 2, 65)","rgb(160, 2, 62)","rgb(156, 2, 58)","rgb(152, 2, 55)","rgb(148, 1, 51)","rgb(144, 1, 48)","rgb(140, 1, 45)","rgb(136, 1, 42)","rgb(132, 1, 39)","rgb(128, 1, 36)","rgb(123, 1, 33)","rgb(119, 0, 31)","rgb(114, 0, 28)","rgb(110, 0, 26)","rgb(105, 0, 23)","rgb(101, 0, 21)","rgb(96, 0, 18)","rgb(91, 0, 16)","rgb(86, 0, 14)","rgb(82, 0, 12)"]),oC=Object.freeze(["rgb(253, 245, 254)","rgb(251, 242, 253)","rgb(250, 240, 253)","rgb(249, 238, 253)","rgb(248, 236, 253)","rgb(246, 234, 253)","rgb(245, 231, 253)","rgb(244, 229, 253)","rgb(242, 227, 253)","rgb(241, 225, 252)","rgb(240, 223, 252)","rgb(239, 220, 252)","rgb(237, 218, 252)","rgb(236, 216, 252)","rgb(235, 213, 252)","rgb(234, 211, 251)","rgb(233, 209, 251)","rgb(231, 206, 251)","rgb(230, 204, 251)","rgb(229, 202, 251)","rgb(228, 199, 250)","rgb(227, 197, 250)","rgb(225, 195, 250)","rgb(224, 192, 250)","rgb(223, 190, 250)","rgb(222, 187, 250)","rgb(221, 185, 249)","rgb(219, 182, 249)","rgb(218, 180, 249)","rgb(217, 177, 249)","rgb(216, 175, 249)","rgb(214, 172, 249)","rgb(213, 170, 249)","rgb(212, 167, 249)","rgb(211, 164, 249)","rgb(209, 162, 249)","rgb(208, 159, 249)","rgb(207, 156, 249)","rgb(206, 154, 249)","rgb(204, 151, 249)","rgb(203, 148, 249)","rgb(202, 145, 249)","rgb(200, 142, 249)","rgb(199, 140, 248)","rgb(197, 138, 247)","rgb(195, 136, 246)","rgb(193, 133, 245)","rgb(191, 131, 244)","rgb(189, 129, 242)","rgb(187, 126, 241)","rgb(185, 124, 240)","rgb(183, 122, 238)","rgb(182, 119, 237)","rgb(180, 117, 235)","rgb(178, 114, 234)","rgb(176, 112, 233)","rgb(174, 109, 231)","rgb(172, 107, 230)","rgb(170, 104, 229)","rgb(168, 102, 227)","rgb(166, 99, 226)","rgb(164, 97, 224)","rgb(162, 94, 223)","rgb(160, 91, 221)","rgb(158, 89, 220)","rgb(156, 86, 219)","rgb(154, 83, 217)","rgb(152, 81, 216)","rgb(149, 79, 213)","rgb(146, 77, 210)","rgb(143, 75, 208)","rgb(141, 73, 205)","rgb(138, 71, 202)","rgb(135, 69, 199)","rgb(132, 67, 197)","rgb(130, 65, 194)","rgb(127, 63, 191)","rgb(124, 61, 188)","rgb(122, 58, 185)","rgb(119, 56, 183)","rgb(117, 53, 180)","rgb(114, 50, 178)","rgb(112, 47, 175)","rgb(109, 44, 173)","rgb(107, 41, 170)","rgb(104, 38, 167)","rgb(102, 35, 164)","rgb(99, 32, 161)","rgb(96, 29, 157)","rgb(93, 26, 153)","rgb(90, 24, 149)","rgb(88, 22, 144)","rgb(85, 20, 139)","rgb(81, 17, 134)","rgb(78, 14, 129)","rgb(75, 12, 125)","rgb(72, 8, 120)","rgb(69, 5, 115)","rgb(66, 2, 110)","rgb(63, 0, 106)"]),aC=Object.freeze(["rgb(219, 252, 255)","rgb(215, 250, 253)","rgb(211, 249, 252)","rgb(208, 248, 251)","rgb(204, 246, 250)","rgb(200, 245, 249)","rgb(196, 244, 248)","rgb(193, 243, 247)","rgb(189, 241, 246)","rgb(185, 240, 245)","rgb(181, 239, 244)","rgb(177, 237, 243)","rgb(173, 236, 242)","rgb(169, 235, 241)","rgb(164, 234, 240)","rgb(160, 232, 239)","rgb(156, 231, 238)","rgb(152, 229, 237)","rgb(149, 228, 236)","rgb(145, 226, 234)","rgb(142, 225, 233)","rgb(138, 223, 232)","rgb(135, 221, 231)","rgb(131, 220, 230)","rgb(128, 218, 229)","rgb(124, 216, 228)","rgb(120, 215, 227)","rgb(116, 213, 226)","rgb(112, 211, 224)","rgb(110, 210, 223)","rgb(108, 208, 221)","rgb(106, 206, 219)","rgb(104, 204, 217)","rgb(102, 202, 216)","rgb(100, 200, 214)","rgb(98, 198, 212)","rgb(96, 196, 210)","rgb(93, 194, 208)","rgb(91, 192, 207)","rgb(89, 190, 205)","rgb(87, 188, 203)","rgb(85, 186, 201)","rgb(82, 184, 199)","rgb(80, 182, 197)","rgb(78, 180, 195)","rgb(75, 178, 193)","rgb(73, 176, 191)","rgb(71, 174, 189)","rgb(68, 172, 187)","rgb(66, 170, 185)","rgb(63, 168, 183)","rgb(60, 166, 180)","rgb(58, 163, 178)","rgb(55, 161, 176)","rgb(52, 159, 174)","rgb(49, 157, 172)","rgb(45, 155, 169)","rgb(42, 153, 167)","rgb(38, 151, 165)","rgb(35, 149, 163)","rgb(33, 147, 161)","rgb(30, 144, 158)","rgb(28, 142, 156)","rgb(26, 140, 154)","rgb(23, 137, 151)","rgb(20, 135, 149)","rgb(17, 133, 147)","rgb(14, 130, 144)","rgb(10, 128, 142)","rgb(8, 126, 140)","rgb(7, 123, 137)","rgb(6, 121, 135)","rgb(6, 118, 132)","rgb(5, 116, 130)","rgb(4, 113, 127)","rgb(3, 111, 125)","rgb(2, 108, 122)","rgb(2, 105, 119)","rgb(2, 103, 117)","rgb(2, 100, 114)","rgb(2, 97, 112)","rgb(2, 95, 109)","rgb(2, 92, 106)","rgb(2, 89, 103)","rgb(2, 87, 101)","rgb(2, 84, 98)","rgb(1, 81, 95)","rgb(1, 78, 92)","rgb(1, 75, 90)","rgb(0, 73, 87)","rgb(0, 70, 84)","rgb(0, 67, 81)","rgb(0, 64, 77)","rgb(0, 61, 73)","rgb(0, 58, 70)","rgb(0, 55, 66)","rgb(0, 52, 62)","rgb(0, 49, 59)","rgb(0, 46, 55)","rgb(0, 43, 51)"]),sC=Object.freeze(["rgb(255, 247, 246)","rgb(254, 244, 243)","rgb(255, 242, 240)","rgb(255, 239, 238)","rgb(255, 237, 235)","rgb(255, 235, 232)","rgb(255, 232, 229)","rgb(255, 230, 227)","rgb(255, 227, 224)","rgb(255, 225, 221)","rgb(255, 222, 218)","rgb(255, 220, 215)","rgb(255, 217, 213)","rgb(255, 215, 210)","rgb(255, 212, 207)","rgb(255, 210, 203)","rgb(255, 207, 200)","rgb(255, 204, 197)","rgb(255, 202, 194)","rgb(255, 199, 191)","rgb(255, 197, 188)","rgb(255, 194, 185)","rgb(255, 191, 182)","rgb(255, 189, 179)","rgb(255, 186, 175)","rgb(255, 183, 172)","rgb(255, 180, 169)","rgb(255, 177, 166)","rgb(255, 174, 162)","rgb(255, 171, 159)","rgb(255, 168, 156)","rgb(255, 165, 153)","rgb(255, 162, 149)","rgb(255, 159, 146)","rgb(255, 156, 143)","rgb(255, 153, 140)","rgb(255, 149, 136)","rgb(255, 146, 133)","rgb(255, 142, 130)","rgb(255, 139, 127)","rgb(255, 135, 124)","rgb(255, 132, 120)","rgb(255, 128, 117)","rgb(255, 125, 114)","rgb(254, 121, 111)","rgb(254, 117, 108)","rgb(253, 114, 105)","rgb(252, 110, 102)","rgb(252, 107, 99)","rgb(251, 103, 96)","rgb(250, 99, 93)","rgb(249, 95, 91)","rgb(248, 92, 88)","rgb(247, 88, 85)","rgb(246, 85, 82)","rgb(244, 81, 80)","rgb(242, 78, 77)","rgb(240, 75, 75)","rgb(239, 72, 72)","rgb(237, 68, 70)","rgb(235, 65, 67)","rgb(233, 61, 65)","rgb(231, 57, 62)","rgb(229, 55, 60)","rgb(226, 52, 58)","rgb(223, 49, 56)","rgb(221, 46, 53)","rgb(218, 44, 51)","rgb(215, 41, 49)","rgb(213, 38, 47)","rgb(210, 35, 45)","rgb(207, 31, 43)","rgb(204, 28, 40)","rgb(201, 26, 38)","rgb(198, 23, 36)","rgb(195, 20, 34)","rgb(191, 17, 32)","rgb(188, 14, 30)","rgb(185, 10, 27)","rgb(181, 6, 25)","rgb(178, 2, 23)","rgb(174, 1, 21)","rgb(170, 1, 18)","rgb(166, 1, 16)","rgb(162, 1, 13)","rgb(158, 1, 11)","rgb(154, 0, 8)","rgb(150, 0, 6)","rgb(146, 0, 4)","rgb(142, 0, 3)","rgb(138, 0, 2)","rgb(133, 0, 2)","rgb(129, 0, 1)","rgb(125, 0, 1)","rgb(120, 0, 0)","rgb(116, 0, 0)","rgb(111, 0, 0)","rgb(107, 0, 0)","rgb(102, 0, 0)","rgb(98, 0, 0)"]),lC=Object.freeze(["rgb(255, 249, 224)","rgb(254, 247, 218)","rgb(253, 245, 212)","rgb(252, 243, 206)","rgb(251, 241, 200)","rgb(251, 239, 194)","rgb(250, 237, 188)","rgb(250, 235, 182)","rgb(250, 233, 176)","rgb(249, 231, 170)","rgb(249, 229, 163)","rgb(249, 227, 157)","rgb(249, 225, 151)","rgb(248, 222, 145)","rgb(248, 220, 139)","rgb(247, 218, 132)","rgb(247, 216, 126)","rgb(247, 214, 120)","rgb(246, 211, 113)","rgb(246, 209, 107)","rgb(245, 207, 100)","rgb(245, 204, 93)","rgb(245, 202, 87)","rgb(244, 200, 80)","rgb(244, 197, 73)","rgb(243, 195, 68)","rgb(241, 193, 64)","rgb(240, 191, 59)","rgb(239, 189, 55)","rgb(237, 187, 50)","rgb(236, 184, 46)","rgb(234, 182, 40)","rgb(233, 180, 35)","rgb(231, 178, 29)","rgb(230, 176, 22)","rgb(229, 174, 13)","rgb(226, 172, 12)","rgb(224, 170, 12)","rgb(222, 168, 11)","rgb(219, 166, 11)","rgb(217, 164, 10)","rgb(215, 163, 9)","rgb(212, 161, 9)","rgb(210, 159, 8)","rgb(208, 157, 8)","rgb(205, 155, 7)","rgb(203, 153, 6)","rgb(200, 151, 6)","rgb(198, 150, 6)","rgb(195, 148, 6)","rgb(193, 146, 6)","rgb(190, 144, 6)","rgb(187, 142, 6)","rgb(185, 141, 5)","rgb(182, 139, 5)","rgb(180, 137, 5)","rgb(177, 135, 5)","rgb(175, 133, 5)","rgb(172, 131, 5)","rgb(170, 129, 5)","rgb(168, 127, 5)","rgb(165, 125, 5)","rgb(163, 123, 6)","rgb(160, 121, 6)","rgb(158, 119, 6)","rgb(156, 116, 6)","rgb(153, 114, 6)","rgb(150, 112, 6)","rgb(148, 110, 6)","rgb(145, 108, 6)","rgb(143, 106, 6)","rgb(140, 104, 6)","rgb(137, 102, 6)","rgb(135, 100, 6)","rgb(132, 98, 6)","rgb(129, 96, 5)","rgb(126, 94, 5)","rgb(123, 92, 4)","rgb(120, 90, 4)","rgb(117, 88, 3)","rgb(114, 86, 3)","rgb(111, 84, 2)","rgb(108, 81, 2)","rgb(105, 79, 1)","rgb(102, 77, 1)","rgb(99, 75, 1)","rgb(96, 73, 1)","rgb(93, 70, 0)","rgb(90, 68, 0)","rgb(87, 66, 0)","rgb(84, 63, 0)","rgb(81, 61, 0)","rgb(78, 58, 0)","rgb(75, 56, 0)","rgb(72, 53, 0)","rgb(69, 51, 0)","rgb(66, 48, 0)","rgb(62, 46, 0)","rgb(59, 43, 0)","rgb(56, 41, 0)"]);var cC=Object.freeze({BuGn:zI,BuPu:NI,Carrots:C_(KI),Cool:UI,CubehelixDefault:YI,FlourishBlues:C_(tC),FlourishGreens:C_(eC),FlourishGreys:C_(nC),FlourishOranges:C_(rC),FlourishPinks:C_(iC),FlourishPurples:C_(oC),FlourishReds:C_(sC),FlourishTeals:C_(aC),FlourishYellows:C_(lC),GnBu:AI,Inferno:GI,Magma:ZI,OrRd:II,Plasma:HI,PuBu:DI,PuBuGn:CI,PuRd:TI,RdPu:EI,Viridis:RI,Warm:FI,YlGn:LI,YlGnBu:SI,YlOrBr:OI,YlOrRd:PI}),uC={hcl:nb,hsl:tb,lab:eb,rgb:A_};function pC(t,e){var n=t.sequential_custom_domain?[t.sequential_domain_min,t.sequential_domain_max]:JI(e),r=function(e){var n=cC[t.sequential_palette]||function(t){var e=t.sequential_color_space,n=t.sequential_custom_min,r=t.sequential_custom_max;return uC[e](n,r)}(t);return t.sequential_reverse?n(1-e):n(e)};if(t.binning)return XI(t,n,e,r);var i=Zv(r).domain(n),o=function(t){return isNaN(t)||null===t?null:i(t)};return o.domain=Object.freeze(n),o}var dC=Object.freeze({BrBG:bI,PiYG:yI,PRGn:mI,PuOr:vI,RdBu:wI,RdGy:xI,RdYlBu:MI,RdYlGn:kI,Spectral:jI}),fC={hcl:nb,hsl:tb,lab:eb,rgb:A_};function hC(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,i=t.diverging_custom_max;return function(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}(fC[e],[n,r,i])}function gC(t){var e=null;for(var n in uI)void 0===t[n]&&(t[n]=uI[n]);var r=null,i=function(t){return e&&e(t)||r};return{getColor:i,updateColorScale:function(n){return"number"!=typeof n[0]?e=function(t,e){var n={},r=at(e).values(),i=t.categorical_palette,o=i.length;if(t.categorical_extend){var a=uI.rotation_angle,s=hI.hcl(i,a);r.forEach((function(t,e){n[t]=e<o?i[e]:s()}))}else r.forEach((function(t,e){n[t]=i[e%o]}));t.categorical_custom_palette.split("\n").filter(Boolean).forEach((function(t){var e=t.lastIndexOf(":");if(-1!==e){var r=t.slice(0,e).trim(),i=t.slice(e+1).trim();r&&i&&(n[r]=i)}}));var l=function(t){return n[t]};return l.domain=r.slice(),l.colors=r.map((function(t){return n[t]})),l.items=r.map((function(t){return{label:t,color:n[t]}})),l}(t,n):"sequential"===t.numeric_type?e=pC(t,n):"diverging"===t.numeric_type&&(e=function(t,e){var n=JI(e),r=n[0]<0&&n[1]>0?0:(n[0]+n[1])/2,i=[n[0],r,n[1]];t.diverging_custom_domain&&(i=[t.diverging_domain_min,t.diverging_domain_mid,t.diverging_domain_max]);var o=function(e){var n=dC[t.diverging_palette]||hC(t);return t.diverging_reverse?n(1-e):n(e)};if(t.binning)return XI(t,i,e,o);var a=Gv(o).domain(i),s=function(t){return isNaN(t)||null===t?null:a(t)};return s.domain=Object.freeze(i),s.midpoint=t.diverging_custom_domain?t.diverging_domain_mid:r,s}(t,n)),i.thresholds=e.thresholds,i.centers=e.centers,i.midpoint=e.midpoint,i.domain=e.domain,i.colors=e.colors,i.items=e.items,this},fallback:function(t){return void 0===t?r:(r="default"===t?null:t,this)}}}var _C=!1;function bC(){if(!_C&&"undefined"!=typeof document){var t,e=((t=new Qb).select(".fl-controls-container").style("display","inline-block").style("line-height","1em"),t.select(".fl-controls-title").style("display","inline-block").style("margin-inline-end","0.5rem"),t.select(".fl-controls-container, .fl-controls-container *").style("box-sizing","border-box"),t.select(".slider-holder").style("margin-bottom","20px"),t.select(".fl-controls-slider, .slider-play").style("pointer-events","all").style("display","inline-block").style("vertical-align","middle"),t.select(".slider-play svg").style("height","100%").style("width","100%").style("display","block").style("cursor"," pointer",""),t.select(".fl-controls-slider svg").style("display","block"),t.select(".slider-play:hover").style("opacity","0.6"),t.select(".fl-control-slider").style("width","100%").style("bottom","0").style("align-items","center"),t.select(".fl-control").style("position","relative"),t.select(".fl-control.hidden").style("display","none"),t.select(".fl-control .button").style("display","inline-flex").style("align-items","center").style("background","#eee").style("padding","0 0.5em").style("margin-right","0.25em").style("margin-bottom","0.25em").style("line-height","1em").style("box-sizing","border-box"),t.select(".fl-control.grouped:not(.hidden)").style("display","inline-table").style("table-layout","fixed").select(".button").style("display","table-cell").style("vertical-align","middle").style("margin","0").style("text-align","center"),t.select(".fl-control .button.selected").style("background","#ddd"),t.select(".fl-control-dropdown").style("line-height","1em").style("position","relative"),t.select(".fl-control-dropdown::after").style("display","block").style("content","''").style("width","10px").style("height","10px").style("background","transparent").style("position","absolute").style("right","5px").style("left","auto").style("top","50%").style("pointer-events","none").style("transform","translateY(calc(-50% + 3px))").style("border-left","5px solid transparent").style("border-right","5px solid transparent").style("border-top","5px solid").style("box-sizing","border-box"),t.select(".is-rtl .fl-control-dropdown::after").style("left","5px").style("right","auto"),t.select(".fl-control-dropdown select").style("-webkit-appearance","none").style("width","100%"),t.print()),n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.className="flourish-controls",n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)),_C=!0}}var mC,yC=function(){var t=document.createElement("canvas").getContext("2d");return function(e,n){return t.font=n||"10px sans-serif",t.measureText(e).width}}();function vC(t,e,n){var r,i,o,a,s,l={},c=Lh(n).append("div").attr("class","fl-control fl-control-slider").style("flex","1"),u=c.append("div").attr("class","slider-play").attr("role","button").attr("aria-label","play-button").attr("cursor","pointer").attr("tabindex",0),p=c.append("div").attr("class","fl-controls-slider").style("display","none").style("align-items","center"),d=null;const f=p.append("input").attr("type","range").attr("id","slider-range").attr("name","slider-range").attr("value",0),h=p.append("label").attr("class","slider-label").attr("for","slider-range");var g=function(){clearTimeout(d),d=null},_=function(e){var n=o[e];n.options_index!==t.index()&&(t.index(n.options_index),t.trigger("change"))},b=function(){g(),c.classed("playing",!1),u.html(r).attr("aria-label","play-button"),t._isPlaying_(!1),s=!1},m=function(){var n=t.getSortedIndex(),r=a[n],i=t.n_options-1,o=n<i?n+1:0;d=setTimeout((function(){_(o),e.slider_loop||o<i?m():b()}),r)},y=function(){c.classed("playing",!0),u.html(i).attr("aria-label","pause-button"),m(),t._isPlaying_(!0),s=!0};u.on("click",(function(){null===d?y():b()})).on("keyup",(function(){"Space"!==kh.code&&"Enter"!==kh.code||(kh.preventDefault(),null===d?y():b())}));var v=function(t){const n=Math.min(Math.ceil(t),mC(e.slider_max_label_width))+"px";return h.style("width",n).style("flex-shrink",0),c.style("display","inline-flex"),f.style("width",mC(e.slider_width)+"px"),r='<svg aria-hidden="true" width="25px" height="30px" viewBox="0 0 25 30"> <polygon stroke="none" points="25 15 0 30 0 0"></polygon> </svg>',i='<svg aria-hidden="true" width="26px" height="30px" viewBox="0 0 26 30"> <g stroke="none" stroke-width="1"quarter><rect x="2" y="2" width="9" height="26"></rect> <rect x="15" y="2" width="9" height="26"></rect> </g> </svg>',u.html(d?i:r),l},w=function(){return b(),c.style("display","none"),l};return l.show=v,l.hide=w,l.update=function(n,r){if(p.style("display","flex"),o=n,!t.n_options||"slider"!==e.control_type)return w(),l;var i=window.getComputedStyle(h.node()).fontSize,u=window.getComputedStyle(h.node()).fontFamily,x=window.getComputedStyle(c.node()).fontWeight;let M=0;const k=x+" "+i+" "+u+", sans-serif";o.forEach((function(t){const e=yC(t.display,k);M=Math.max(M,e)})),r?v(M):w();var j=t.n_options,z=e.slider_loop;a=o.map((function(t,n){return 1e3*(e.slider_step_time+(z&&n===j-1?e.slider_restart_pause:0))}));var N=t.getSortedIndex(),A=o[N],I=o[0].display,C=o[o.length-1].display;return f.attr("min",0).attr("max",j-1).attr("step",1).attr("aria-valuenow",A.display).attr("aria-valuemin",I).attr("aria-valuemax",C).on("input",(function(){var t=null!==d;t&&g(),_(this.value),t&&m()})),f.node().value=N,h.html(A.display),t._isPlaying_()&&!s?y():!t._isPlaying_()&&s&&b(),l},l}var wC=Object.freeze({alignment:"start",controls_spacing:1});function xC(t){for(var e in this._state=t,wC)void 0===this._state[e]&&(this._state[e]=wC[e]);return this}xC.prototype.appendTo=function(t){return this._container=Lh(t).append("div").node(),this},xC.prototype.add=function(t){return this._controls=Array.isArray(t)?t:[t],this._controls.forEach((function(t){t&&"function"==typeof t.appendTo?t.appendTo(this._container):console.warn("Please pass valid controls instances to .add()")}),this),this},xC.prototype.update=function(){this._controls.forEach((function(t){t&&"function"==typeof t.update&&t.update()}));var t=this._state.alignment,e="center"==t?t:"flex-"+t,n=window.template||void 0,r=n?n.state.layout:void 0,i=r&&r.read_direction||Lh("body").node().dir||"ltr",o=t;"rtl"===i&&"center"!==t&&(o="start"===t?"end":"start"),Lh(this._container).classed("is-rtl","rtl"==i).style("display","flex").style("flex-wrap","wrap").style("justify-content",e);var a,s,l=Lh(this._container).selectAll(".fl-controls-container"),c=this._state.controls_spacing;switch(o){case"end":a=c+"em",s=0;break;case"center":a=.5*c+"em",s=.5*c+"em";break;default:a=0,s=c+"em"}return l.style("margin-left",a).style("margin-right",s),this};var MC=Object.freeze({control_type:"dropdown",control_title:"",dropdown_width_mode:"auto",dropdown_width_fixed:20,button_group:!0,button_group_width_mode:"auto",button_group_width_fixed:20,slider_width:15,slider_max_label_width:20,slider_handle_height:1,slider_track_height:.2,slider_margin:4.5,slider_play_button:!0,slider_step_time:2,slider_loop:!0,slider_restart_pause:0,sort:!1,_index_:null,_is_playing_:!1});function kC(t){return t}function jC(t){return null==t?"":t.toString()}function zC(t,e){var n={},r=kC,i=jC,o=[],a=!0,s=[],l=[],c=[],u=document.createElement("div");u.setAttribute("class","fl-controls-container");var p=Lh(u).append("div").attr("class","fl-controls-title"),d=function(t,e,n){var r={},i=Lh(n).append("div").attr("class","fl-control fl-control-dropdown").style("display","none");const o=i.append("select").on("change",(function(){const e=o.select("option:checked").datum().options_index;t.index(e),t.trigger("change")}));var a=function(t){var r="100%";"auto"==e.dropdown_width_mode?r=Math.min(t+40,mC(20))+mC(1)+"px":"fixed"==e.dropdown_width_mode&&(r=mC(e.dropdown_width_fixed)+"px"),n.style.width="full"==e.dropdown_width_mode?r:"",i.style("width",r).style("display","full"!==e.dropdown_width_mode?"inline-table":null)},s=function(){i.style("display","none")};return r.show=a,r.hide=s,r.update=function(n,i){var l=window.getComputedStyle(o.node()).fontSize;if(!t.n_options||"dropdown"!==e.control_type)return s(),r;const c=o.selectAll("option").data(n,(t=>t.value));c.exit().remove();var u=c.enter().append("option");c.merge(u).text((t=>t.display)).attr("value",(t=>t.value));let p=0;const d=l+" sans-serif";return"auto"===e.dropdown_width_mode&&c.merge(u).each((function(t){const e=yC(t.display,d);p=Math.max(p,e)})),o.node().value=t.value(),i?a(p):s(),r},r}(n,t,u),f=function(t,e,n){var r={},i=Lh(n).append("div").attr("class","fl-control fl-control-buttons"),o=function(){i.classed("hidden",!1)},a=function(){i.classed("hidden",!0)};return r.show=o,r.hide=a,r.update=function(n,s){if(!t.n_options||"buttons"!==e.control_type)return a(),r;var l=t.index();i.classed("grouped",e.button_group),i.classed("fixed-width","fixed"==e.button_group_width_mode||"full"==e.button_group_width_mode),i.style("width",e.button_group&&"fixed"==e.button_group_width_mode?mC(e.button_group_width_fixed)+"px":"full"==e.button_group_width_mode?"100%":null);var c=function(e){var n=e.options_index;n!==t.index()&&(t.index(n),t.trigger("change"))},u=i.selectAll(".button").data(n,(function(t){return t.display})),p=u.enter().append("div").attr("class","button").style("cursor","pointer").attr("role","button").attr("tabindex",0).on("click",(function(t){c(t)})).on("keyup",(function(t){"Space"!==kh.code&&"Enter"!==kh.code||(kh.preventDefault(),c(t))}));p.append("span").text((function(t){return t.display})),u.merge(p).classed("selected",(function(t){return t.options_index===l})).attr("aria-pressed",(function(t){return t.options_index===l})),u.exit().remove(),s?o():a()},r}(n,t,u),h=vC(n,t,u);for(var g in MC)void 0===t[g]&&(t[g]=MC[g]);var _=t._index_;n.appendTo=function(t){return bC(),Lh(t).node().appendChild(u),n};n.remove=function(){return u.parentElement&&u.parentElement.removeChild(u),n},n.options=function(t){if(void 0===t)return s.slice();if(!Array.isArray(t))return n;var e=(s=t.slice()).length,r=b();return e?(null===r||r>=e)&&b(0):b(null),n},Object.defineProperty(n,"n_options",{get:function(){return s.length}});var b=function(e){return void 0===e?(t._is_playing_||(_=t._index_),_):(null===e||function(t){return s.length&&t>=0&&t<s.length}(e)?(_=e,t._is_playing_||(t._index_=_)):console.warn("Invalid index, ignoring update call"),n)};n.index=b,n.getSortedIndex=function(){var e,n=b();return"unsorted"==t.sort?n:(l.some((function(t,r){if(t.options_index===n)return e=r,!0})),e)},n.value=function(t){if(void 0===t)return s[b()];var e=s.indexOf(t);return-1!==e&&b(e),n},n.on=function(t,e){return"change"===t&&c.push(e.bind(n)),n},n.parse=function(t){return void 0===t?r:(r=null===t?kC:t,n)},n.format=function(t,e){if(void 0===t)return i;if(null===t&&(i=jC),"string"==typeof t)try{i=ma(t)}catch(t){i=jC,console.warn(t.message)}else i=t;return e&&Array.isArray(e)&&(o=e),n},n.visible=function(t){return void 0===t?a:(a=null===t||t,n)},n.update=function(){return function(){var t=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;mC=function(e){return e*t}}(),l=function(t,e,n,r,i){var o=t.map((function(t,e){return{value:t,options_index:e,parsed:n(t),display:i.includes(t)?t:r(t)}}));return e?o.sort((function(t,e){return function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}(t.parsed,e.parsed)})):o}(s,t.sort,r,i,o),function(e){u.style.display=e.length>1?"flex":"none",u.style.width="",u.style.alignItems="center",p.node().innerHTML=t.control_title,p.node().style.display=""===t.control_title?"none":"inline-block",h.update(e,a),d.update(e,a),f.update(e,a)}(l),n},n.trigger=function(t){return"change"===t&&function(){var t=b(),e=s[t];c.forEach((function(n){n(e,t)}))}(),n},n.getNode=function(){return u};return n._isPlaying_=function(e){if(void 0===e)return t._is_playing_;t._is_playing_=!!e,e||b(_)},n}function NC(){return this.declarations=[],this}function AC(t){return this.selector=t,this.styles=[],this}NC.prototype.select=function(t){if(!t)return this;var e=new AC(t);return e.parent=this,this.addDeclaration(e),e},NC.prototype.addDeclaration=function(t){return this.declarations.push(t),this},NC.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},NC.prototype.clear=function(){return this.declarations=[],this},AC.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},AC.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var IC=Object.freeze({font_size:1,font_weight:"bold",height:2});function CC(t,e,n){for(var r in this._state=t,IC)void 0===this._state[r]&&(this._state[r]=IC[r]);return this._layout=n||{},this._styles=new NC,this._selector=e,this._createStylesheet(),this}CC.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},CC.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(".fl-controls-title").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("vertical-align","middle"),this._styles.select(this._selector+".fl-control .button").style("height",this._state.height+"rem").style("padding","0 0.5em"),this._styles.select(this._selector+"-dropdown select").style("height",this._state.height+"rem").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("padding","0 "+.1*this._state.height+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("height",this._state.height+"rem"),this._stylesheet.innerHTML=this._styles.print()};var DC=Object.freeze({background:null,font_color:null,background_selected:"#333333",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function TC(t,e,n){for(var r in this._state=t,DC)void 0===this._state[r]&&(this._state[r]=DC[r]);return this._layout=n||{},this._styles=new NC,this._selector=e,this._createStylesheet(),this}TC.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},TC.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color_enabled&&this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=gt(this._state.border_color||e,this._state.border_transparency),r=window.getComputedStyle(document.body).direction||"ltr";this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0");var i="rtl"===r,o=i?":last-child":":first-child",a=i?":first-child":":last-child";this._styles.select(this._selector+".grouped.fl-control .button"+o).style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button"+a).style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var EC=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function SC(t,e,n){for(var r in this._state=t,EC)void 0===this._state[r]&&(this._state[r]=EC[r]);return this._layout=n||{},this._styles=new NC,this._selector=e,this._createStylesheet(),this}function LC(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}SC.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)},SC.prototype.update=function(){this._styles.clear();const t=this._state.background||"transparent",e=this._state.font_color||this._layout.font_color,n=e||"inherit";let r;r=this._state.border_color?gt(this._state.border_color,this._state.border_transparency):e?gt(e,this._state.border_transparency):"currentColor",this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" select").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("font-family","inherit").style("background-color",t).style("color",n).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+r).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+r:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+":after").style("right","bottom"==this._state.border_style?null:this._state.border_width+5+"px").style("color",n),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",n),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+r).style("background-color",t).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()};var OC=Object.freeze({play_color:null,handle_color:null,font_color:null,track_color:null,handle_height:1,track_height:.2,margin:4.5,play_button:!0});function PC(t,e,n){for(var r in this._state=t,OC)void 0===this._state[r]&&(this._state[r]=OC[r]);return this._layout=n||{},this._styles=new NC,this._selector=e,this._createStylesheet(),this}PC.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-slider",document.head.appendChild(this._stylesheet)},PC.prototype.update=function(){this._styles.clear();var t=this._state.track_color||"#dddddd",e=this._state.font_color||this._layout.font_color||"currentColor",n=this._state.handle_color||this._layout.font_color||"currentColor",r=this._state.play_color||this._layout.font_color||"currentColor",i=Math.round(LC(this._state.handle_height)),o=LC(this._state.track_height);this._styles.select(this._selector+" .fl-controls-slider").style("height",2*i+"px"),this._styles.select(this._selector+" .slider-play").style("fill",r).style("width",i+"px").style("height",i+"px").style("display",this._state.play_button?null:"none"),this._styles.select(this._selector+" .slider-label").style("padding-inline-start","0.3rem").style("box-sizing","content-box").style("color",e),this._styles.select(this._selector+" input[type=range]").style("-webkit-appearance","none").style("color","currentColor").style("background-color","transparent"),this._styles.select(this._selector+" input[type=range]::-webkit-slider-runnable-track").style("-webkit-appearance","none").style("background",t).style("border-radius","100px").style("height",o+"px"),this._styles.select(this._selector+" input[type=range]::-webkit-slider-thumb").style("-webkit-appearance","none").style("width",i+"px").style("height",i+"px").style("border-radius","100px").style("background",n).style("margin-top",-i/2+o/2+"px"),this._styles.select(this._selector+" input[type=range]::-moz-range-track").style("-webkit-appearance","none").style("background",t).style("border-radius","100px").style("height",o+"px"),this._styles.select(this._selector+" input[type=range]::-moz-range-thumb").style("-webkit-appearance","none").style("width",i+"px").style("height",i+"px").style("border-radius","100px").style("border","none").style("background",n),this._stylesheet.innerHTML=this._styles.print()};const YC={solid:[],short:[.5,.5],long:[1,.5],mixed:[1,.5,.5,.5]};function FC(t,e){return function(n,r){return void 0!==r[t]?r[t]:void 0!==n[t]?n[t]:e}}function UC(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol_polygon";var r,i,o,a,s,l,c,u;e=e||{},t.lineJoin="round";var p,d,f,h,g,_,b=function(){var e=Bu().context(t).pointRadius((function(){return(void 0!==r.radius?r.radius:1)*c*hj}));return function(i,o,a){if(o||a){var s=r.path;s?(o&&t.fill(s),a&&t.stroke(s)):i.geometry&&"Point"===i.geometry.type?(t.beginPath(),"circle"===r.symbol_type?e(i):function(e){var i,o,a=e.geometry.coordinates,s=(i=r[n],o=c*hj,i.map((t=>[t[0]*o,t[1]*o])));(s=Lj(s,a)).forEach(((e,n)=>{0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])}))}(i),o&&t.fill(),a&&t.stroke()):(t.beginPath(),e(i),o&&t.fill(),a&&t.stroke())}}}(),m=void 0===e.display||e.display,y=void 0!==e.fill_opacity?e.fill_opacity:1,v=void 0!==e.stroke_width?e.stroke_width:1,w=void 0!==e.stroke_opacity?e.stroke_opacity:1,x=e.scaling||1,M=e.stroke_dash||"solid",k=function(e,n){if(!e)return null;if("object"!=typeof e)return e;var r=void 0===e.scale||e.scale?x:1,i=(void 0!==e.opacity?e.opacity:1)*n,o={first_color:Cj(e.first_color||"#dddddd",i),second_color:Cj(e.second_color||"#eeeeee",i),square_size:r*(e.square_size||5)};return function(t,e){var n=Math.max(e.square_size,1),r=2*n,i=document.createElement("canvas");i.width=r,i.height=r;var o=i.getContext("2d");return o.fillStyle=e.first_color,o.strokeStyle=e.first_color,o.fillRect(0,0,n,n),o.strokeRect(0,0,n,n),o.fillRect(n,n,n,n),o.strokeRect(n,n,n,n),o.fillStyle=e.second_color,o.strokeStyle=e.second_color,o.fillRect(0,n,n,n),o.strokeRect(0,n,n,n),o.fillRect(n,0,n,n),o.strokeRect(n,0,n,n),t.createPattern(i,"repeat")}(t,o)},j=k(e.fill_color,y),z=k(e.stroke_color,w),N=FC("display",m),A=FC("fill_color",j),I=FC("fill_opacity",y),C=FC("stroke_color",z),D=FC("stroke_opacity",w),T=FC("stroke_width",v),E=FC("scaling",x),S=FC("stroke_dash",M),L=function(){p===i&&d===o||(p=i,d=o,t.fillStyle="string"==typeof p?Cj(p,d):p)},O=function(){f===a&&h===s||(f=a,h=s,t.strokeStyle=Cj(f,h)),g!==l&&(g=l,t.lineWidth=g),_!==u&&(_=u,t.setLineDash(YC[_].map((t=>t*c))))};return function(t,e){if(r=t.properties||{},N(r,e=e||{})){i=A(r,e),o=I(r,e),a=C(r,e),s=D(r,e),c=E(r,e),u=S(r,e),l=Math.max(e.min_stroke_width||0,c*T(r,e))*hj;var n=!(!i||!o),p=!!(a&&l&&s);n&&L(),p&&O(),b(t,n,p)}}}function BC(t){return function(n){t.fillStyle=n.fill,t.textAlign=n.text_align||"center",t.textBaseline=n.text_baseline||"middle",t.lineJoin="round";var r=n.specified_font_size/fj.k;t.font=(n.bold?"bold ":"")+r+"px "+e.layout.body_font.name;let[i,o]=n.position;n.x_radius_offset&&(i+=n.x_radius_offset*hj),n.x_padding&&(i+=n.x_padding/fj.k),n.y_padding&&(o+=n.y_padding/fj.k),n.stroke_color&&(t.strokeStyle=n.stroke_color,t.lineWidth=.2*r,t.strokeText(n.text,i,o)),t.lineWidth=0,t.fillText(n.text,i,o)}}var RC="0.2em";function ZC(t){if(t.appendChild(this._container.node()),!document.querySelector("#legend-styles")){var e=document.createElement("style"),n=new Qb;n.select(".fl-legend-container.interactive .fl-legend-item").style("cursor","pointer"),n.select(".fl-legend-container.interactive .fl-legend-item:hover").style("opacity",.75),n.select(".fl-legend-container.interactive .fl-legend-item:focus-visible").style("border-radius","4px").style("outline","2.5px solid #4d90fe").style("outline-offset","-2.25px"),n.select(".fl-legend-sr-only").style("position","absolute").style("width","1px").style("height","1px").style("padding","0").style("margin","-1px").style("overflow","hidden").style("clip","rect(0, 0, 0, 0)").style("white-space","nowrap").style("border","0"),e.id="legend-styles",e.type="text/css",e.innerHTML=n.print(),document.head.appendChild(e)}return this}function GC(t){return this._formatFunction=t,this}function HC(){return this._container}function QC(t){return void 0===t?this._visible:(this._visible=t,this)}function $C(t){return void 0===t?this._auto_title:(this._auto_title=t,this)}function WC(){var t=this,e="auto"==t._state.title_mode?t.autoTitle():t._state.title;this._container.select(".fl-legend-title").text(e).style("display",(function(){return e.trim()?void 0===t._state.orientation||"horizontal"==t._state.orientation?"inline-block":"block":"none"})).style("padding-inline-start",0).style("padding-inline-end",RC)}function qC(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}function VC(t){if(0===t)return 0;var e=Math.floor(function(t){return Math.log(t)/Math.LN10}(t)),n=t/Math.pow(10,e),r=Math.floor(n)*Math.pow(10,e);if(e<0){var i=-e;r=i<=100?parseFloat(r.toFixed(i)):0}return r}var XC=0,JC=Object.freeze({show_legend:!0,title_mode:"auto",title:"",max_width:100,swatch_width:.75,swatch_height:1,swatch_radius:3,swatch_outline:!1,swatch_outline_color:null,legend_items_padding:.5,icon_height:1,icon_color:"#777777",icon_fill_opacity:1,icon_stroke_opacity:1,order_override:"",orientation:"horizontal"});function KC(t){for(var e in this._state=t,JC)void 0===this._state[e]&&(this._state[e]=JC[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_items=[],this._filtered_items=[],this._eventListeners=[],this._id="fl-legend-discrete-color-"+XC,this._visible=!0,this._auto_title="",this._last_clicked_item=null,this._container=Lh(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id),this._container.append("p").attr("class","fl-legend-title"),XC++,this}KC.prototype.appendTo=ZC,KC.prototype.format=GC,KC.prototype.getContainer=HC,KC.prototype.visible=QC,KC.prototype.allowSingleEntry=function(t){return void 0===t?this._allow_single_entry:(this._allow_single_entry=t,this)},KC.prototype.autoTitle=$C,KC.prototype._updateTitle=WC,KC.prototype.data=function(t,e){return this._colorFunction=e,t||e?(e?Array.isArray(t)?this._legend_items=t.slice().map((function(t,n){var r="object"==typeof t?t?.label||"":t;return r?{label:r,color:e(r),index:n}:null})).filter((function(t){return null!==t})):this._legend_items=[]:this._legend_items=Array.isArray(t)?t.slice():[],this):this._legend_items.slice()},KC.prototype.filtered=function(t){return t?(this._filtered_items=Array.isArray(t)?t.slice():[],this):this._filtered_items.slice()},KC.prototype._isFilteredItem=function(t){return this._filtered_items.includes(t.label)},KC.prototype.on=function(t,e){if(!this._container)return this;if(e&&this._eventListeners.indexOf(t)<0?this._eventListeners.push(t):e||this._eventListeners.splice(this._eventListeners.indexOf[t],1),this._container.classed("interactive",this._isInteractive()),e){const n=()=>{if("keydown"===kh.type&&"Enter"!==kh.key&&" "!==kh.key)return;const t=kh.target,n=t.parentNode,r=t.classList.contains("fl-legend-item")?t:n.classList.contains("fl-legend-item")?n:null;if(r){const t=Lh(r).datum();this._last_clicked_item=t,r.matches(":focus-visible")&&setTimeout((()=>{r.blur(),r.focus()}),100),e.call(r,t,t.index)}};this._container.on(t,n),"click"==t&&this._container.on("keydown",n)}else this._container.on(t,null),"click"==t&&this._container.on("keydown",null);return this},KC.prototype.update=function(){const t=this._allow_single_entry?1:2,e=this._state.show_legend&&this._visible&&this._legend_items.length>=t;return this._container.style("display",e?"":"none"),e?(this._updateTitle(),this._updateLegend(),this):this},KC.prototype._isInteractive=function(){return this._eventListeners.length>0},KC.prototype._updateAnnouncements=function(){const t=this._isInteractive(),e=this._last_clicked_item,n=e&&this._isFilteredItem(e),r=this._legend_items.length,i=this._legend_items.filter((t=>!this._isFilteredItem(t))).length;this._container.attr("aria-label",t&&r>0?this._state.screenreader_instructions||"Select the legend items to toggle visibility of data series.":null);const o=`There are ${i} of ${r} series visible.`;let a;if(t&&i!==r)if(0===i)a="All series are hidden.";else if(1===i){a=`${this._legend_items.find((t=>!this._isFilteredItem(t))).label} series is visible. All other series are hidden.`}else a=e?`${e.label} series now ${n?"hidden":"visible"}. ${o}`:o;else a="All series are visible.";Lh("#fl-legend-announcement").text(a).attr("aria-live","assertive")},KC.prototype._updateLegend=function(){const t=this,e=this._formatFunction,n=this._isInteractive();var r;this._updateAnnouncements(),this._container.style("max-width",qC(this._state.max_width)+"px").style("display","inline-flex").style("flex-wrap","wrap").style("align-items","horizontal"==this._state.orientation?"center":"start").style("align-content","horizontal"==this._state.orientation?"center":null).style("flex-direction","horizontal"==this._state.orientation?null:"column").style("max-height",.5*window.innerHeight+"px").style("overflow-y","auto").attr("role","group"),r=this._state.order_override.trim()?function(t,e){for(var n={},r=e.split(/\s*\n\s*/),i=0;i<r.length;i++)n[r[i]]=i;for(var o=[],a=0;a<t.length;a++){var s=t[a],l=n[s.label];void 0!==l&&(o[l]=s)}return o.filter((function(t){return void 0!==t}))}(this._legend_items,this._state.order_override):this._legend_items;var i=this._container.selectAll(".fl-legend-item").data(r),o=i.enter().append("div").attr("class","fl-legend-item");o.append("div").attr("class","fl-legend-swatch");let a=o.append("div").attr("class","fl-legend-icon-container");a.append("svg").attr("class","fl-legend-icon fl-ignore-svg-download").append("path"),a.append("img").attr("class","fl-legend-icon"),a.append("div").attr("class","fl-legend-icon"),o.append("p").attr("class","fl-legend-label");var s=i.merge(o);s.style("display","horizontal"==this._state.orientation?"inline-flex":"flex").style("flex-direction",(function(t){return t.reverse?"row-reverse":"row"})).style("opacity",(function(e){return t._isFilteredItem(e)?.2:""})).style("align-items","center").style("padding-inline-end","horizontal"==this._state.orientation?this._state.legend_items_padding+"rem":0).style("padding-inline-start",0).attr("tabindex",n?"0":null).attr("role",n?"button":null).attr("aria-pressed",(function(e){return n?(!t._isFilteredItem(e)).toString():null})).attr("aria-label",(function(e){return n?`Toggle ${e.label} series visibility, currently ${t._isFilteredItem(e)?"hidden":"visible"}`:null})),s.select(".fl-legend-swatch").style("height",this._state.swatch_height+"rem").style("width",this._state.swatch_width+"rem").style("border-radius",this._state.swatch_radius+"px").style("background-color",(function(t){return t.color})).style("border",(()=>this._state.swatch_outline?this._state.swatch_outline_color?`1px solid ${this._state.swatch_outline_color}`:"1px solid":"none")).style("box-sizing",this._state.swatch_outline?"border-box":"content-box").style("flex-shrink","0").style("display",(function(t){return t.icon?"none":null}));const l=s.filter((t=>t.icon));return l.each((function(e){let n=Math.ceil(qC(t._state.icon_height)),r="auto";if(e.icon.width){let n=e.icon.width,i=e.icon.height,o=e.outline?i*e.stroke_thickness:0;n+=o,i+=o;let a=n/i,s=qC(t._state.icon_height*a);r=Math.ceil(s)}let i=.25*t._state.text_size+"rem";Lh(this).selectAll(".fl-legend-icon").attr("height",n).attr("width",r).style("margin-right",i)})),s.select(".fl-legend-icon-container").style("display",(function(t){return t.icon?null:"none"})),l.each((function(t){Lh(this).select("svg.fl-legend-icon").style("display",t.icon.path_string?"inline":"none"),Lh(this).select("img.fl-legend-icon").style("display",t.icon.url?"inline":"none"),Lh(this).select("div.fl-legend-icon").style("display",t.icon.html?"inline-block":"none")})),l.filter((t=>t.icon.url)).select("img.fl-legend-icon").attr("src",(t=>t.icon.url)),l.filter((t=>t.icon.html)).select("div.fl-legend-icon").html((t=>t.icon.html)).style("font-size",`${Math.ceil(qC(this._state.icon_height))}px`).style("color",(function(e){return e.outline?"none":e.fill||e.color||t._state.icon_color})),l.filter((t=>t.icon.path_string)).select("svg.fl-legend-icon path").attr("d",(function(t){return t.icon?t.icon.path_string:null})).attr("transform",(function(e){if(!e.icon)return null;var n=e.icon.height,r=e.outline?n*e.stroke_thickness:0;n+=r;var i="scale("+qC(t._state.icon_height)/n+")";return i+="translate("+.5*r+","+.5*r+")"})).style("fill",(function(e){return e.outline?"none":e.fill||e.color||t._state.icon_color})).style("fill-opacity",(function(e){return e.outline?0:e.fill_opacity||t._state.icon_fill_opacity})).style("stroke",(function(e){return e.outline||e.stroke?e.stroke||e.color||t._state.icon_color:"none"})).style("stroke-width",(function(t){if(!t.outline&&!t.stroke_width)return 0;var e=t.icon.height*t.stroke_thickness;return t.stroke_width||e})).style("stroke-opacity",(function(e){return e.outline||e.stroke_opacity?e.stroke_opacity||t._state.icon_stroke_opacity:0})),s.select(".fl-legend-label").text((function(t){return e?e(t.label):t.label})).style("margin",0).style("user-select","none").style("-webkit-user-select","none").style("padding-inline-end",0).style("padding-inline-start",RC),i.exit().remove(),this._legend_item_els=s,this},KC.prototype.prepareScreenshotSVG=function(){this._state.show_legend&&this._visible&&this._legend_items.length&&st("#fl-layout-wrapper",this._id+"-svg-screenshot-container").addTextElements(".fl-legend-title").addSwatchElements(".fl-legend-swatch",".fl-legend-label").addTextElements(".fl-legend-label")},KC.prototype.clearScreenshotSVG=function(){const t=document.getElementById(this._id+"-svg-screenshot-container");t&&t.remove()};var tD,eD=0,nD=window.devicePixelRatio||1,rD=Object.freeze({show_legend:!0,title_mode:"auto",title:"",color_band_width:8,color_band_height:1,color_band_radius:3,binned_label_mode:"thresholds",binned_label_custom:"",legend_min:null,legend_max:null,additional_min_label:"",additional_max_label:""});function iD(t){for(var e in this._state=t,rD)void 0===this._state[e]&&(this._state[e]=rD[e]);this._colorFunction=void 0,this._formatFunction=void 0,this._legend_domain=[],this._id="fl-legend-continuous-color-"+eD,this._visible=!0,this._marker_value=null,this._auto_title="",this._container=Lh(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id).style("display","none"),this._container.append("p").classed("fl-legend-title",!0);var n=this._container.append("div").classed("min label",!0);n.append("tspan").classed("custom-label",!0),n.append("tspan").classed("number",!0),this._container.append("div").classed("color-range-container",!0),this._container.select(".color-range-container").append("canvas").classed("color-range",!0),this._container.select(".color-range-container").append("canvas").classed("color-range-labels",!0);var r=this._container.append("div").classed("max label",!0);return r.append("tspan").classed("number",!0),r.append("tspan").classed("custom-label",!0),eD++,this}function oD(t){var e=-1/0,n=1/0;for(var r in t)e=Math.max(e,t[r]),n=Math.min(n,t[r]);return function(t){return t>=n&&t<=e}}iD.prototype.appendTo=ZC,iD.prototype.format=GC,iD.prototype.getContainer=HC,iD.prototype.visible=QC,iD.prototype.autoTitle=$C,iD.prototype._updateTitle=WC,iD.prototype.data=function(t,e){if(!t&&!e)return this._legend_domain.slice();var n=Array.isArray(t)?t.slice():[];return this._legend_domain=function(t,e){var n=t.sort(Kl),r=n[0],i=n[n.length-1],o=n.length>2?n[1]:null;null===e.legend_min&&null===e.legend_max||(null!==e.legend_min&&null!==e.legend_max?e.legend_min<e.legend_max&&(r=e.legend_min,i=e.legend_max):null!==e.legend_min?i<(r=e.legend_min)&&(i=r+2):r>(i=e.legend_max)&&(r=i-2)),null!==o&&(r>o||i<o)&&(o=null);var a=[r];return null!==o&&a.push(o),a.push(i),a.min=r,a.max=i,a.mid=o,a}(n,this._state),this._colorFunction=e,this},iD.prototype.markerValue=function(t){return void 0===t?this._marker_value:(this._marker_value=t,this)},iD.prototype.update=function(t){var e=this._state.show_legend&&this._visible&&this._legend_domain.length>0;return this._container.style("display",e?"":"none"),e?(this._updateTitle(),this._updateLegend(t),this):this},iD.prototype._updateLegend=function(t){var e=this._legend_domain;tD=document.body.getAttribute("dir"),this._scale_type="continuous",this._colorFunction.thresholds?this._scale_type="binned":e.length>2&&(this._scale_type="diverging");var n=this._state,r=qC(n.color_band_width),i=qC(n.color_band_height),o=r;this._container.style("display","inline-flex").style("align-items","continuous"==this._scale_type?"center":"flex-start"),this._container.select(".color-range-container").style("display","inline-block");var a=this._container.select(".color-range").attr("width",r*nD).attr("height",i*nD).style("border-radius",n.color_band_radius+"px").style("width",r+"px").style("height",i+"px").style("display","block");this._container.select(".color-range-labels").attr("width",o*nD).style("width",o+"px").style("display","continuous"==this._scale_type?"none":"block").node().getContext("2d").scale(nD,nD);var s=a.node().getContext("2d");function l(t){var n=e.max-e.min,i=t/r;return"rtl"==tD?e.max-i*n:e.min+i*n}s.scale(nD,nD);for(var c=0;c<r;c++){var u=this._colorFunction(l(c));s.fillStyle=u,s.strokeStyle=u,s.fillRect(c,0,1,i),s.strokeRect(c,0,1,i)}if(null!==this._marker_value){var p=Tv().domain([e.min,e.max]).range([0,r])(this.markerValue()),d=i;s.save(),s.strokeStyle="#FFFFFF",s.lineWidth=3,s.beginPath(),s.moveTo(p,0),s.lineTo(p,d),s.stroke(),s.strokeStyle="#000000",s.lineWidth=1,s.beginPath(),s.moveTo(p,0),s.lineTo(p,d),s.stroke(),s.restore()}this._updateLegendLabels(t)},iD.prototype._updateLegendLabels=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e=this._container.select(".color-range-labels"),n=this._formatFunction,r=this._legend_domain,i=this._state,o=this._container.select(".min.label").style("display","inline-flex").style("align-items","center").style("vertical-align","middle").style("user-select","none").style("line-height","1.25em").style("padding-inline-start",0).style("padding-inline-end",RC);o.select(".number").style("display","continuous"==this._scale_type?null:"none").text((function(){return n?n(r.min):r.min})),o.select(".custom-label").text((function(){return i.additional_min_label+" "})).style("text-align","center").style("padding-inline-end",RC);var a=this._container.select(".max.label").style("display","inline-flex").style("align-items","center").style("vertical-align","middle").style("user-select","none").style("line-height","1.25em").style("padding-inline-start",RC).style("padding-inline-end",0);a.select(".number").style("display","continuous"==this._scale_type?null:"none").text((function(){return n?n(r.max):r.max})),a.select(".custom-label").text((function(){return" "+i.additional_max_label})).style("text-align","center").style("padding-inline-start",RC);var s,l,c,u,p,d=[],f=0,h=0;if("diverging"===this._scale_type?d=this._getDivergingLabels():"binned"===this._scale_type&&(d=this._getBinnedLabels()),d.length){var g=e.node().getContext("2d");g.textAlign="center",g.textBaseline="top",g.font=t.weight+" "+qC(t.size)+"px "+t.family;var _=(s=[],l=qC(i.color_band_width),c=oD([0,l]),u="rtl"==tD?[r.max,r.min]:[r.min,r.max],p=Tv().domain(u).range([0,l]),function(t){var e=p(t);if(c(e)){for(var r=n?n(t):t,i=g.measureText(r).width/2+1,o=e-i,a=e+i,u=0,d=s.length,_=0;_<d&&e>s[_].center;_++)u++;var b=0===u,m=u===d;if((b||!(s[u-1].right>o))&&(m||!(s[u].left<a)))return b&&(f=Math.abs(Math.min(0,o))),m&&(h=Math.max(0,a-l)),s.splice(u,0,{left:o,center:e,right:a}),{text:r,position:e}}}),b=d.map((function(t){return _(t)})),m=qC(i.color_band_width)+f+h,y=Math.ceil(.95*qC(t.size)),v=window.devicePixelRatio||1;e.attr("width",m*v).style("width",m+"px").attr("height",y*v).style("height",y+"px").style("margin-top",RC),Lh(".color-range").style("margin-left",f+"px"),g.scale(v,v),g.textAlign="center",g.textBaseline="top",g.font=t.weight+" "+qC(t.size)+"px "+t.family,g.fillStyle=t.color,b.forEach((function(t){t&&g.fillText(t.text,t.position+f,0)}))}},iD.prototype._getDivergingLabels=function(){var t=this._legend_domain,e=oD(t),n=[];return e(t.min)&&n.push(t.min),e(t.mid)&&n.push(t.mid),e(t.max)&&n.push(t.max),n},iD.prototype._getBinnedLabels=function(){var t,e=this._state,n=this._legend_domain,r=oD(n);if("thresholds"===e.binned_label_mode)t=this._colorFunction.thresholds.slice().filter(r),n.min<t[0]&&t.unshift(n.min),n.max>t[t.length-n.length-1]&&t.unshift(n.max);else if("centers"===e.binned_label_mode)if((t=this._colorFunction.centers.slice().filter(r)).length){var i=this._colorFunction.thresholds,o=i[0],a=i[i.length-1];o>n.min&&t.unshift((n.min+o)/2),a<n.max&&t.unshift((a+n.max)/2)}else t.push((n.min+n.max)/2);else t=e.binned_label_custom.split(";").map(parseFloat);return t},iD.prototype.prepareScreenshotSVG=function(){this._state.show_legend&&this._visible&&this._legend_domain.length&&st("#fl-layout-wrapper",this._id+"-svg-screenshot-container").addTextElements(".fl-legend-title").addGradient(".color-range",this._colorFunction,this._legend_domain).addTextElements(".min.label").addTextElements(".max.label")},iD.prototype.clearScreenshotSVG=function(){const t=document.getElementById(this._id+"-svg-screenshot-container");t&&t.remove()};var aD=0,sD=Object.freeze({show_legend:!0,title_mode:"auto",title:"",clip_height:1,small_symbol_size:.5,shape_fill:"#eeeeee",shape_stroke:"#555555"});function lD(t){for(var e in this._state=t,sD)void 0===this._state[e]&&(this._state[e]=sD[e]);this._scaleFunction=void 0,this._formatFunction=void 0,this._id="fl-legend-continuous-size-"+aD,this._visible=!0,this._auto_title="",this._symbol_type="circle",this._spike_width=10,this._container=Lh(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id).style("display","none").style("align-items","center"),this._container.append("p").attr("class","fl-legend-title"),this._container.append("div").classed("min label",!0);var n=this._container.append("div").classed("symbols",!0);return n.append("canvas").classed("min symbol",!0),n.append("canvas").classed("max symbol",!0),this._container.append("div").classed("max label",!0),aD++,this}lD.prototype.appendTo=ZC,lD.prototype.format=GC,lD.prototype.autoTitle=$C,lD.prototype._updateTitle=WC,lD.prototype.getContainer=HC,lD.prototype.visible=QC,lD.prototype.scale=function(t){return void 0===t?this._scaleFunction:(this._scaleFunction=t,this)},lD.prototype.symbolType=function(t){return void 0===t?this._symbol_type:(this._symbol_type=t,this)},lD.prototype.spikeWidth=function(t){return void 0===t?this._spike_width:(this._spike_width=t,this)},lD.prototype.update=function(){var t=this._state.show_legend&&this._visible,e=Math.ceil(qC(this._state.clip_height));return this._container.style("display",t?"inline-flex":"none").style("align-items","circle"===this._symbol_type?"center":"baseline").style("min-height",e+"px"),t&&this._scaleFunction?(0!==this._scaleFunction.domain()[0]&&console.warn("Non zero domain[0] in ContinuousSizeLegend"),0!==this._scaleFunction.range()[0]&&console.warn("Non zero range[0] in ContinuousSizeLegend"),this._updateTitle(),this._updateLegend(),this):this},lD.prototype._updateSymbolCanvas=function(t,e,n,r){var i=this._container.select(t).style("width",e+"px").style("height",n+"px").attr("width",e*r).attr("height",n*r).node().getContext("2d");return i.scale(r,r),i.clearRect(0,0,e,n),i},lD.prototype._updateCircle=function(t,e,n,r,i,o){var a=this._scaleFunction(e),s=Math.ceil(2*a),l=this._updateSymbolCanvas(t,s,n,r);l.beginPath(),l.fillStyle=o,l.arc(.5*s,.5*n,a,0,2*Math.PI),l.fill(),l.beginPath(),l.fillStyle=i,l.arc(.5*s,.5*n,Math.max(a-1,0),0,2*Math.PI),l.fill()},lD.prototype._updateSpike=function(t,e,n,r,i,o){var a=this._scaleFunction(e),s=Math.ceil(this._spike_width),l=this._updateSymbolCanvas(t,s,n,r),c=Math.atan(.5*s/a),u=1/Math.cos(c),p=1/Math.sin(c);l.beginPath(),l.fillStyle=o,l.moveTo(0,n),l.lineTo(.5*s,n-a),l.lineTo(s,n),l.fill(),l.beginPath(),l.fillStyle=i,l.moveTo(u,n),l.lineTo(.5*s,n-a+p),l.lineTo(s-u,n),l.fill()},lD.prototype._updateLegend=function(){var t=this._scaleFunction.domain(),e=this._scaleFunction.range(),n=this._formatFunction,r=this._state,i=r.shape_fill,o=r.shape_stroke,a=window.devicePixelRatio||1,s=qC(r.clip_height);s=Math.ceil(Math.min(s,2*e[1]));var l=this._symbol_type,c=this._scaleFunction.invert("circle"===l?s/2:s),u=VC(c=Math.min(c,t[1]))||0,p=u*r.small_symbol_size;this._container.style("min-height",s+"px"),this._container.select(".symbols").style("display","flex").style("flex-wrap","nowrap"),this._container.select(".min.symbol").style("margin-right","0.25rem"),this._container.select(".min.label").style("user-select","none").style("line-height","1.25em").text((function(){return n?n(p):p})).style("padding-inline-start",0).style("padding-inline-end",RC),"circle"===l?this._updateCircle(".min.symbol",p,s,a,i,o):"spike"===l&&this._updateSpike(".min.symbol",p,s,a,i,o),"circle"===l?this._updateCircle(".max.symbol",u,s,a,i,o):"spike"===l&&this._updateSpike(".max.symbol",u,s,a,i,o),this._container.select(".max.label").style("user-select","none").style("line-height","1.25em").text((function(){return n?n(u):u})).style("padding-inline-start",RC).style("padding-inline-end",0)},lD.prototype.prepareScreenshotSVG=function(){this._state.show_legend&&this._visible&&st("#fl-layout-wrapper",this._id+"-svg-screenshot-container").addTextElements(".min.label").addCircleElements(".min.symbol").addCircleElements(".max.symbol").addTextElements(".max.label")},lD.prototype.clearScreenshotSVG=function(){const t=document.getElementById(this._id+"-svg-screenshot-container");t&&t.remove()};var cD,uD,pD,dD,fD=Object.freeze({alignment:"start",orientation:"horizontal",text_color:null,title_weight:"bold",text_weight:"normal",text_size:1,screenreader_instructions:""});function hD(t){for(var e in this._state=t,fD)void 0===this._state[e]&&(this._state[e]=fD[e]);return this}function gD(t){return new KC(t)}hD.prototype.appendTo=function(t){return this._container=Lh(t).append("div").classed("fl-legend-wrapper",!0).style("user-select","none").style("-webkit-user-select","none").node(),Lh(this._container).insert("p",":first-child").attr("class","fl-legend-announcement fl-legend-sr-only").attr("id","fl-legend-announcement"),this},hD.prototype.add=function(t){this._legends=Array.isArray(t)?t:[t];var e=this;return this._legends.forEach((function(t){t&&"function"==typeof t.appendTo?t.appendTo(e._container):console.warn("Please pass in valid legend instances into .add()")})),this},hD.prototype.update=function(){var t=window.template||void 0,e=t?t.state.layout:void 0;uD=this._state.text_color||t&&e&&e.font_color||"#333333",pD=e?e.body_font.name:window.getComputedStyle(document.body).fontFamily,cD=this._state.text_size,dD=this._state.text_weight;var n={family:pD,weight:dD,size:cD,color:uD};this._legends.forEach((function(t){t&&"function"==typeof t.update&&t.update(n)}));var r="horizontal"===this._state.orientation,i=this._state.alignment,o="center"==i?i:"flex-"+i;return Lh(this._container).style("justify-content",r?o:null).style("align-items",r?null:o).style("display","flex").style("flex-direction",r?"row":"column"),Lh(this._container).selectAll(".fl-legend-container").style("padding-inline-end",(function(){return r?"0.5rem":0})).style("padding-bottom",(function(){return r?0:"0.25rem"})).style("justify-content",o),Lh(this._container).selectAll(".fl-legend-title").style("color",this._state.text_color).style("font-weight",this._state.title_weight).style("font-size",cD+"rem").style("margin-right",.25*cD+"rem").style("line-height","1.25em").style("margin-top",0).style("margin-bottom",0).style("text-align",i),Lh(this._container).selectAll(".fl-legend-item").style("display","inline-flex").style("text-align",i),Lh(this._container).selectAll(".fl-legend-label").style("color",this._state.text_color).style("font-weight",this._state.text_weight).style("font-size",cD+"rem"),Lh(this._container).selectAll(".label").style("color",this._state.text_color).style("font-weight",this._state.text_weight).style("font-size",cD+"rem"),this};var _D=function(t){for(var e in Ga=t,Za)void 0===Ga[e]&&(Ga[e]=Za[e]);return(bt=document.createElement("style")).id="flourish-page-styles",bt.type="text/css",document.head.appendChild(bt),Wa.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",Wa.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),$a.forEach((function(t,e){Wa[t]=Xa(t,e)})),ts("header").appendChild(function(){(jt=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return zt=document.createElement("h2"),Nt=document.createElement("h3"),At=document.createElement("p"),(It=document.createElement("div")).className="clearfix",(Ct=document.createElement("div")).className="flourish-header-logo-container",jt.appendChild(Ct),jt.appendChild(t),t.appendChild(zt),t.appendChild(Nt),jt.appendChild(At),jt.appendChild(It),jt}()),ts("footer").appendChild(La()),Wa.primary.outer.style.overflow="hidden",function(){var t=Wa.primary.outer;t.style.position="relative",(Qa=document.createElement("div")).id="fl-layout-overlay";var e=Qa.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",Qa.appendChild(n),t.appendChild(Qa)}(),{update:Ua,getWrapper:Ja,getSidebar:Ka,getSection:ts,getOuterWidth:es,getInnerWidth:ns,getOuterHeight:rs,getInnerHeight:is,getPrimaryHeight:os,getPrimaryWidth:as,getDefaultPrimaryHeight:cs,getPrimaryScreenReadability:ss,setHeight:ds,showOverlay:fs,remToPx:St,getOverlay:hs,awaitFonts:Ha,prepareScreenshotSVG:_s,clearScreenshotSVG:bs}}(e.layout);JA=Kb(e.choropleth_popup).titleKey("name").onPanelClose((function(){e.sticky_hover=!1,$M(null)})),KA=Kb(e.point_popup).titleKey("name").subtitleKey("color").onPanelClose((function(){e.sticky_hover=!1,$M(null)}));var bD=function(t,e){var n;t||(t=document.body),e||(e={});var r={reload_enabled:!1,reload_time:60,message_font_size:.85,message_prefix:"Refreshing in ",message_suffix:" seconds",message_show:!0,message_color:"#777777",message_interaction:"Paused during interaction",progress_show:!0,progress_height:.25,progress_width:2,progress_color:"#dddddd",progress_color_inner:"#999999",interaction_pause_duration:2};for(var i in r)e.hasOwnProperty[i]||(e[i]=r[i]);var o=document.createElement("div");o.className="flourish-reloader",t.appendChild(o);var a={};a.container=o;var s=Flourish.environment,l="live"===s;l&&window.location.search.match(/environment=story_player/)&&(l=!1);var c=l||"editor"===s||"sdk"===s,u=document.createElement("div");u.id="flourish-reloader-message",o.appendChild(u);var p=document.createElement("div");p.id="flourish-reloader-progress",p.style.marginRight="0.5em",p.style.borderRadius="0.33em",p.style.overflow="hidden",o.appendChild(p);var d=document.createElement("div");d.style.height="100%",d.style.width="0%",p.appendChild(d);var f,h,g=!1;return document.body.addEventListener("mousemove",(function(){f&&clearTimeout(f),g=!0,f=setTimeout((function(){g=!1}),1e3*e.interaction_pause_duration)})),a.update=function(){var t=e.reload_enabled&&c;function r(t,n){var r=Math.round(e.reload_time*(1-t));u.innerHTML=e.message_show?n||e.message_prefix+r+e.message_suffix:"",d.style.width=100*t+"%"}o.style.display=t?"block":"none",d.style.background=e.progress_color_inner,u.style.fontSize=e.message_font_size+"rem",u.style.color=e.message_color,p.style.display=e.progress_show?"block":"none",p.style.width=e.progress_width+"rem",p.style.height=e.progress_height+"rem",p.style.background=e.progress_color,t&&(r(0),void 0!==n&&cancelAnimationFrame(n),n=requestAnimationFrame((function i(o){h||(h=o);var a=o-h,s=a/(1e3*e.reload_time),c=s>=1;c&&l?window.location.reload():((c||g)&&(s=0,h+=a),r(s,g?e.message_interaction:void 0),t&&(n=requestAnimationFrame(i)))})))},a}(_D.getSection("footer"),e.reloader),mD=ba(e.map_formatting),yD=ba(e.point_formatting),vD=gC(e.map_colors),wD=gC(e.point_colors),xD=zC(e.region_controls);Lh(xD.getNode()).classed("region-control",!0);var MD=zC(e.point_controls);Lh(MD.getNode()).classed("point-control",!0);var kD,jD,zD=function(t){return new xC(t)}(e.controls_container).appendTo(_D.getSection("controls")).add([xD,MD]),ND=function(t,e,n){return new CC(t,e,n)}(e.controls_style,".fl-control"),AD=function(t,e,n){return new TC(t,e,n)}(e.button_style,".fl-control-buttons"),ID=function(t,e,n){return new SC(t,e,n)}(e.dropdown_style,".fl-control-dropdown"),CD=function(t,e,n){return new PC(t,e,n)}(e.slider_style,".fl-control-slider"),DD=(kD=[],{createHoverLayer:function(){var t,e,n=document.createElement("canvas"),r=n.getContext("2d"),i={canvas:n,ctx:r};return kD.unshift(i),{addFeature:function(n){var r=++t;if(t>16777215)throw new RangeError("Too many items in hover layer");i.lookup_table[r]=n;var o=k((16711680&r)>>16,(65280&r)>>8,255&r).toString();e(n,{fill_color:o,stroke_color:o,fill_opacity:1,stroke_opacity:1}),i.image_data=null},format:function(o){QM(n),i.lookup_table={},i.data=null,t=0,e=UC(r,o,"hover_symbol_polygon")},canvas:n}},getFeatureAtPixel:function(t){var e,n=Math.floor(t.x*Ry),r=Math.floor(t.y*Ry),i=Math.floor(Uy*Ry),o=Math.round(4*(r*i+n));if(kD.some((function(t){if(t.data||(t.data=t.ctx.getImageData(0,0,t.canvas.width,t.canvas.height).data),255===t.data[o+3]){var n=(t.data[o]<<16)+(t.data[o+1]<<8)+t.data[o+2];return e=t.lookup_table[n]}})),!e||!e.geometry||"regions"===e.properties.source&&!e.properties.has_data)return null;var a=e.geometry,s=e.properties;if("Point"===a.type){var l=a.coordinates[0],c=a.coordinates[1];"circle"===s.symbol_type?Math.hypot(l-t.x_untransformed,c-t.y_untransformed)>s.radius*(s.scaling||1)&&(e=null):function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],l=o[0],c=o[1],u=!1,p=0;p<i;++p)n=(o=t[p])[0],(r=o[1])>s!=c>s&&a<(l-n)*(s-r)/(c-r)+n&&(u=!u),l=n,c=r;return u}(Lj(s.hover_symbol_polygon,[l,c]),[t.x_untransformed,t.y_untransformed])||(e=null)}else{var u=Fy.invert([t.x_untransformed,t.y_untransformed]);Fc(s.unprojected_feature,u)||(e=null)}return e?s.source+"-"+s.index:null}}),TD=function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=tm(),i=Bu().context(n);return function(o){var a=o.projection||o.zoom,s=r("color",t.globe_color);return(a||s)&&(QM(e),i.projection(Fy),n.beginPath(),n.fillStyle=r.color,i.context(n),i({type:"Sphere"}),n.fill()),t.globe_show?e:null}}(e),ED=function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=tm(),i=Bu().context(n),o=Rc();return function(a){var s=a.projection||a.zoom;r("color",t.graticule_color),r("width",t.graticule_width*Qy*hj),r("separation_longitude",t.graticule_separation_longitude),r("separation_latitude",t.graticule_separation_latitude),r("opacity",t.graticule_opacity);var l=r();return(s||l)&&(QM(e),i.projection(Fy),o.step([r.separation_longitude,r.separation_latitude]).extent([[-180,-90],[180.000001,90.000001]]),n.globalAlpha=r.opacity,n.strokeStyle=r.color,n.lineWidth=r.width,n.beginPath(),i(o()),n.stroke()),t.graticule_show?e:null}}(e),SD=DD.createHoverLayer(),LD=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),i=tm();return function(o){var a=o.projection||o.choropleth||o.zoom;i("show",t.map_show),i("show_popup","none"!==t.choropleth_popup.mode),i("hide_popup_pointer",!t.choropleth_popup.popup_pointer),i("shadow",t.map_shadow),i("shadow_offset_x",t.map_shadow_offset_x*Qy*Ry),i("shadow_offset_y",-t.map_shadow_offset_y*Qy*Ry),i("shadow_blur",t.map_shadow_blur*Qy*Ry),i("shadow_color",Cj(t.map_shadow_color,t.map_shadow_opacity));var s=i();if(a||s){QM(n);var l=HA.properties;if(e.format(l),!i.show)return null;var c=!t.map_show_stroke,u=UC(r,l),p=c?{stroke_width:1}:{};if(HA.features.forEach((function(t){var n=t.properties;Sj(n.bounds)&&(c&&(p.stroke_color=n.fill_color||null),u(t,p),!dj&&i.show_popup&&(n.hide_popup_pointer=i.hide_popup_pointer,e.addFeature(t)))})),i.shadow){var d=document.createElement("canvas");d.width=n.width,d.height=n.height;var f=d.getContext("2d");f.save(),f.shadowOffsetX=i.shadow_offset_x,f.shadowOffsetY=i.shadow_offset_y,f.shadowColor=i.shadow_color,f.shadowBlur=i.shadow_blur,f.drawImage(n,0,0),f.restore();var h=document.createElement("canvas"),g=h.getContext("2d");QM(h),Bu(Fy,g)({type:"Sphere"}),g.fill(),f.globalCompositeOperation="destination-in",f.drawImage(h,0,0),r.globalCompositeOperation="copy",r.setTransform(1,0,0,1,0,0),r.drawImage(d,0,0)}}return i.show?n:null}}(e,SD),OD=function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=tm();return function(i,o){var a=o.projection||o.choropleth||o.zoom||i.zoom_end;if(r("show_map",t.map_show),r("map_show_labels",t.map_show_labels),r("map_label_opacity",t.map_label_opacity),r("map_label_color",t.map_label_color),r("map_label_outline_color",t.map_label_outline_color),r("map_label_size",t.map_label_size),r("map_label_upper_case",t.map_label_upper_case),r("map_label_bold",t.map_label_bold),r("map_label_priority_list",t.map_label_priority_list),r("map_label_hide_non_prioritized_labels",t.map_hide_non_prioritized_labels),r("map_label_hide_list",t.map_label_hide_list),r("show_points",t.point_show),r("point_show_labels",t.point_show_labels),r("point_label_size",t.point_label_size),r("point_label_upper_case",t.point_label_upper_case),r("point_label_bold",t.point_label_bold),r("point_label_priority_list",t.point_label_priority_list),r("point_label_hide_list",t.point_label_hide_list),r("point_label_hide_non_prioritized_labels",t.point_hide_non_prioritized_labels),r("point_label_hide_overlapping",t.point_label_hide_overlapping),r("font_family",t.layout.body_font.name),!r.show_map||!r.map_show_labels)return null;var s=r();if(a||s){QM(e);var l=BC(n);Tk.forEach((function(t){l(t)}))}return e}}(e),PD=function(t){const e=document.createElement("canvas"),n=e.getContext("2d"),r=tm();return function(i,o){if(r("show_points",t.point_show),r("show_labels",t.point_show_labels),r("label_opacity",t.point_label_opacity),r("label_color",t.point_label_color),r("label_outline_color",t.point_label_outline_color),r("label_size",t.point_label_size),r("label_upper_case",t.point_label_upper_case),r("label_bold",t.point_label_bold),r("label_priority_list",t.point_label_priority_list),r("label_hide_list",t.point_label_hide_list),r("label_hide_non_prioritized_labels",t.point_hide_non_prioritized_labels),r("label_hide_overlapping",t.point_label_hide_overlapping),r("font_family",t.layout.body_font.name),!r.show_points||!r.show_labels)return null;const a=r();if(o.projection||o.points||o.zoom||i.zoom_end||a){QM(e);const t=BC(n);jk.forEach((function(e){t(e)}))}return e}}(e),YD=function(){const t=document.createElement("canvas"),e=t.getContext("2d");return function(n){if(n.data||n.projection||n.lines||n.zoom){QM(t);const n=VA.properties,r=UC(e,n);VA.features.forEach((function(t){Sj(t.properties.bounds)&&r(t)}))}return t}}(),FD=function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=tm();return function(i){var o=i.projection||i.choropleth||i.zoom;r("gqp",t.group_quantization_precision),r("stroke_color",t.group_stroke_color||t.map_stroke),r("stroke_width",t.group_stroke_width),r("stroke_opacity",t.group_stroke_opacity);var a=r();if(o||a){QM(e);const t={stroke_color:r.stroke_color,stroke_width:r.stroke_width,stroke_opacity:r.stroke_opacity,scaling:Qy},i=UC(n,t),o=Bu();$k.forEach((function(t){Sj(o.bounds(t))&&i(t)}))}return e}}(e),UD=function(t){var e,n,r=document.createElement("canvas"),i=r.getContext("2d"),o=tm();return function(a){o("feature",hv()),o("show_popup","none"!==t.choropleth_popup.mode),n=n||HA.properties.source;var s=a.data||a.projection||a.choropleth||a.zoom,l=o(),c=o.feature&&o.feature.properties.source===n;if(s||l)if(QM(r),dj||!c||!o.show_popup&&!t.sticky_hover)e=!1;else{var u=UC(i);u(o.feature,{fill_color:null,stroke_color:t.map_highlight_stroke_outer,stroke_width:t.map_highlight_stroke_width,stroke_opacity:1}),u(o.feature,{fill_color:null,stroke_color:t.map_highlight_stroke_inner,stroke_width:.6*t.map_highlight_stroke_width,stroke_width_min:Math.min(1,t.map_highlight_stroke_width),stroke_opacity:1}),e=!0}return e?r:null}}(e),BD=DD.createHoverLayer(),RD=function(t,e){var n,r=document.createElement("canvas"),i=r.getContext("2d"),o=tm(),a=function(){return o.sort&&WA.properties.has_value_binding?n||(n={type:"Feature Collection",properties:WA.properties,features:WA.features.slice().sort((function(t,e){var n=t.properties,r=e.properties;return r.radius-n.radius||r.lon-n.lon||r.lat-n.lat}))}):WA};return function(s){o("show",t.point_show),o("sort",t.point_sort),o("show_popup","none"!=t.point_popup.mode),o("hide_popup_pointer",!t.point_popup.popup_pointer);var l=s.data||s.projection||s.points||s.zoom;if((s.data||s.points)&&(n=null),o()||l){QM(r);var c=a(),u=c.properties;if(e.format(u),!o.show)return null;var p=UC(i,u);c.features.forEach((function(n){var r=n.properties;r.filter_hide||r.projection_hide||!Sj(r.bounds)||("arrow"===t.point_symbol_type&&1===t.point_opacity&&p(n,{fill_opacity:0,stroke_color:t.point_overlap_stroke_color,stroke_width:t.point_stroke_width+.75,stroke_opacity:t.point_opacity||t.point_stroke_opacity&&t.point_stroke_width?1:0}),p(n,{stroke_color:t.point_stroke_custom?t.point_stroke_color:n.properties.fill_color,stroke_width:t.point_stroke_width,stroke_opacity:t.point_stroke_opacity}),!dj&&o.show_popup&&(n.properties.hide_popup_pointer=o.hide_popup_pointer,e.addFeature(n)))}))}return o.show?r:null}}(e,BD),ZD=function(t){var e,n,r=document.createElement("canvas"),i=r.getContext("2d"),o=tm();return function(a){o("feature",hv()),o("show_popup","none"!=t.point_popup.mode),n=n||WA.properties.source;var s=a.data||a.projection||a.points||a.zoom,l=o(),c=o.feature&&o.feature.properties.source===n;if(s||l)if(QM(r),dj||!c||!o.show_popup&&!t.sticky_hover)e=!1;else{var u=UC(i,{scaling:Qy});u(o.feature,{fill_opacity:t.point_highlight_fill_opacity,fill_color:t.point_highlight_fill_custom?t.point_highlight_fill:o.feature.properties.fill_color,stroke_color:t.point_highlight_stroke_outer,stroke_width:t.point_highlight_stroke_width,stroke_width_min:1/.6,stroke_opacity:1}),u(o.feature,{fill_opacity:0,stroke_color:t.point_highlight_stroke_inner,stroke_width:.6*t.point_highlight_stroke_width,stroke_width_min:1,stroke_opacity:1}),e=!0}return e?r:null}}(e),GD=function(t){return new hD(t)}(e.legend_container),HD=function(t){return new lD(t)}(e.legend_size),QD=gD(e.legend_categorical_points),$D=gD(e.legend_categorical_map),WD=function(t){return new iD(t)}(e.legend_continuous_map),qD=gD(e.legend_arrow);function VD(t,e,n){for(var r in e){var i=e[r];if("object"!=typeof i||null===i||Array.isArray(i))n.indexOf(r)>-1?t[r]=i:Flourish.warn("State property `"+r+"` not whitelisted for use in URL");else{var o=r.length,a=n.filter((function(t){return t.substring(0,o)==r})).map((function(t){return t.substring(o+1)}));VD(t[r],i,a)}}}function XD(t,e){var n=location.hash.substring(1);if(""!=n){var r;try{r=JSON.parse(decodeURIComponent(n))}catch(t){Flourish.warn({message:"Invalid JSON passed to template URL hash",explanation:t})}r&&VD(t,r,e)}}function JD(){clearTimeout(jD),jD=setTimeout(nj,500)}GD.appendTo(_D.getSection("legend")).add([$D,WD,HD,qD,QD]),function(){const t=_D.getSection("primary"),n=_D.getSidebar();DM=new zM(t,n,e.annotations,{getDataFromCursor:EM,getPositionFromData:SM})}();const KD={left:"start",center:"middle",right:"end"};function tT(t,n){t.selectAll("text.outline").data(n).enter().append("text").classed("outline",!0).attr("x",(function(t){return t.position[0]+(t.x_offset||0)+(t.x_padding||0)})).attr("y",(function(t){return t.position[1]+(t.y_padding||0)})).style("display",(function(t){return t.stroke_color?"inline":"none"})).style("font-family",e.layout.body_font.name).style("font-size",(function(t){return t.font_size+"px"})).style("text-anchor",(function(t){return KD[t.text_align]})).style("alignment-baseline",(function(t){return t.text_baseline})).style("stroke-width",(function(t){return t.stroke_color?.2*t.font_size+"px":0})).style("stroke",(function(t){return t.stroke_color})).style("fill","#fff").text((function(t){return t.text})),t.selectAll("text.main").data(n).enter().append("text").classed("main",!0).attr("x",(function(t){return t.position[0]+(t.x_offset||0)+(t.x_padding||0)})).attr("y",(function(t){return t.position[1]+(t.y_padding||0)})).style("font-family",e.layout.body_font.name).style("font-size",(function(t){return t.font_size+"px"})).style("text-anchor",(function(t){return KD[t.text_align]})).style("alignment-baseline",(function(t){return t.text_baseline})).style("fill",(function(t){return t.fill})).style("stroke-width",0).text((function(t){return t.text}))}const eT={solid:[],short:[.5,.5],long:[1,.5],mixed:[1,.5,.5,.5]};function nT(t){var e;if("circle"===t.properties.symbol_type){var n=t.properties.radius*Qy;return e="M-"+n+",0",e+=" a"+n+","+n+" 0 1,0 "+2*n+",0",e+=" a"+n+","+n+" 0 1,0 -"+2*n+",0"}return e=t.properties.symbol_polygon.reduce(((t,e,n)=>t+(0===n?"M":"L")+[e[0]*Qy,e[1]*Qy]),""),e}function rT(t){var n,r=t.append("g").attr("id","globe-layer"),i=t.append("g").attr("id","graticule-layer"),o=t.append("g").attr("id","regions-layer"),a=t.append("g").attr("id","points-labels-layer"),s=t.append("g").attr("id","choropleth-labels-layer"),l=t.append("g").attr("id","lines-layer"),c=t.append("g").attr("id","region-groups-layer"),u=t.append("g").attr("id","points-layer");n=r,e.globe_show&&n.append("path").datum({type:"Sphere"}).attr("d",Bu(Fy)).style("fill",e.globe_color),function(t){if(e.graticule_show){var n=Rc().step([e.graticule_separation_longitude,e.graticule_separation_latitude]).extent([[-180,-90],[180.000001,90.000001]]);t.append("path").datum(n()).attr("d",Bu(Fy)).style("stroke",e.graticule_color).style("stroke-opacity",e.graticule_opacity).style("stroke-width",e.graticule_width*Qy+"px").style("fill","none")}}(i),function(t){e.map_show&&t.selectAll("path").data(HA.features).enter().append("path").attr("d",Bu()).style("fill",(function(t){return t.properties.fill_color})).style("fill-opacity",e.map_fill_opacity).style("stroke",e.map_show_stroke?e.map_stroke:"none").style("stroke-width",e.map_stroke_width*Qy+"px").style("stroke-opacity",e.map_stroke_opacity)}(o),e.point_show_labels&&tT(a,jk),e.map_show_labels&&tT(s,Tk),function(t){t.selectAll("path").data(VA.features).enter().append("path").attr("d",Bu()).style("fill","none").style("stroke",(t=>t.properties.stroke_color)).style("stroke-width",(t=>t.properties.stroke_width*Qy+"px")).style("stroke-opacity",(t=>t.properties.stroke_opacity)).style("stroke-dasharray",(t=>eT[t.properties.stroke_dash].map((t=>t*Qy))))}(l),function(t){t.selectAll("path").data($k).enter().append("path").attr("d",Bu()).style("fill","none").style("stroke",e.group_stroke_color||e.map_stroke).style("stroke-width",e.group_stroke_width*Qy+"px").style("stroke-opacity",e.group_stroke_opacity)}(c),function(t){if(e.point_show){var n=WA.features.filter((function(t){return!t.properties.filter_hide&&!t.properties.projection_hide&&t.geometry}));t.selectAll("path").data(n).enter().append("path").attr("transform",(function(t){return"translate("+t.geometry.coordinates+")"})).attr("d",nT).style("fill",(function(t){return t.properties.fill_color})).style("fill-opacity",e.point_opacity).style("stroke",(function(t){return e.point_stroke_custom?e.point_stroke_color:t.properties.fill_color})).style("stroke-width",e.point_stroke_width*Qy+"px").style("stroke-opacity",e.point_stroke_opacity)}}(u)}return t.data=em,t.draw=function(){var t,n,r,i,o;t=e.url_state,n=e,r=nj,i=(t.enabled,t.whitelist||"").split(/\n/),XD(n,i),window.addEventListener("hashchange",(function(){XD(n,i),r&&r()})),xD.on("change",nj),MD.on("change",nj),(o=Lh(_D.getSection("primary")).append("div").attr("class","search-container")).append("input").attr("type","text").attr("tabindex","0").on("focus",(function(){Lh(this.parentElement).classed("active",!0).classed("expanded",!0),this.value="",this.setAttribute("data-type",""),this.setAttribute("data-value",""),Zk()})).on("blur",(function(){Lh(this.parentElement).classed("active",!1).classed("expanded",e.search_expanded)})).on("keydown",Gk).on("keyup",Zk),o.append("div").attr("class","search-list"),o.append("div").attr("class","search-icon").append("svg").attr("class","fl-ignore-svg-download").attr("width","12px").attr("height","12px").attr("viewBox","0 0 12 12").append("path").attr("d","M4.71428571,0.571428571 C5.35268176,0.571428571 5.96316673,0.695311261 6.54575893,0.943080357 C7.12835113,1.19084945 7.63057825,1.52566753 8.05245536,1.94754464 C8.47433247,2.36942175 8.80915055,2.87164887 9.05691964,3.45424107 C9.30468874,4.03683327 9.42857143,4.64731824 9.42857143,5.28571429 C9.42857143,6.26786205 9.15178848,7.15847815 8.59821429,7.95758929 L10.8950893,10.2544643 C11.0602687,10.4196437 11.1428571,10.6205345 11.1428571,10.8571429 C11.1428571,11.0892869 11.0580366,11.2901777 10.8883929,11.4598214 C10.7187492,11.6294651 10.5178583,11.7142857 10.2857143,11.7142857 C10.0446417,11.7142857 9.8437508,11.6294651 9.68303571,11.4598214 L7.38616071,9.16964286 C6.58704958,9.72321705 5.69643348,10 4.71428571,10 C4.07588967,10 3.4654047,9.87611731 2.8828125,9.62834821 C2.3002203,9.38057912 1.79799318,9.04576104 1.37611607,8.62388393 C0.954238962,8.20200682 0.619420882,7.6997797 0.371651786,7.1171875 C0.12388269,6.5345953 0,5.92411033 0,5.28571429 C0,4.64731824 0.12388269,4.03683327 0.371651786,3.45424107 C0.619420882,2.87164887 0.954238962,2.36942175 1.37611607,1.94754464 C1.79799318,1.52566753 2.3002203,1.19084945 2.8828125,0.943080357 C3.4654047,0.695311261 4.07588967,0.571428571 4.71428571,0.571428571 Z M4.71428571,2.28571429 C3.88838873,2.28571429 3.18192258,2.57923814 2.59486607,3.16629464 C2.00780956,3.75335115 1.71428571,4.4598173 1.71428571,5.28571429 C1.71428571,6.11161127 2.00780956,6.81807742 2.59486607,7.40513393 C3.18192258,7.99219044 3.88838873,8.28571429 4.71428571,8.28571429 C5.5401827,8.28571429 6.24553279,7.9933065 6.83035714,7.40848214 C7.4196458,6.81919348 7.71428571,6.11161127 7.71428571,5.28571429 C7.71428571,4.4598173 7.42076186,3.75335115 6.83370536,3.16629464 C6.24664885,2.57923814 5.5401827,2.28571429 4.71428571,2.28571429 Z").attr("id","search").attr("fill","#000000").attr("stroke","none").attr("stroke-width","1").attr("fill-rule","evenodd"),o.on("mousedown",(function(){Rk(kh.target)})),VM(),window.addEventListener("resize",JD),_D.awaitFonts()},t.screenshot=function(t,n){var r=t.format,i=function(){"svg"===r&&Lh(_D.getSection("primary")).select("div.download").remove()};"svg"===r&&function(){var t=Lh(_D.getSection("primary")),n=t.select("canvas"),r=n.attr("width"),i=n.attr("height");rT(t.append("div").attr("class","download").attr("display","none").append("svg").attr("width",r).attr("height",i).attr("font-family",e.layout.body_font.name))}(),n().then(i,i)},t.state=e,t.update=nj,t}({});
//# sourceMappingURL=template.js.map
</script><canvas style="position: fixed; left: 1000vw;"></canvas><svg style="position: fixed; left: 1000vw;"><text></text></svg><div id="fl-layout-wrapper-outer" style="display: flex;" dir="ltr"><main id="fl-layout-wrapper" style="display: flex; flex-grow: 1; flex-direction: column; box-sizing: border-box; overflow: hidden; color: rgb(51, 51, 51); padding: 0.75rem; border-width: 3px 0px 0px; border-style: solid; border-color: rgb(104, 104, 104) rgb(221, 221, 221) rgb(221, 221, 221);" dir="ltr"><section class="fl-layout-container" id="fl-layout-header-container" style="width: 100%; position: relative; order: 0; display: none;"><div class="fl-layout-inner" id="fl-layout-header" style="width: 100%; position: relative;"><header class="flourish-header" style="text-align: start; margin: 0px;"><div class="flourish-header-logo-container"></div><hgroup><h2 id="flourish-header-title" style="font-family: inherit; font-size: 1.8rem; line-height: 1.2; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; padding-top: 0px;"></h2><h3 id="flourish-header-subtitle" style="font-family: Barlow; font-size: 1.5rem; line-height: 1.2; font-weight: normal; color: rgb(51, 51, 51); margin: 0px; padding-top: 0px;"></h3></hgroup><p id="flourish-header-text" style="font-size: 1.2rem; line-height: 1.2; font-weight: normal; margin: 0px; color: rgb(51, 51, 51); padding-top: 0px;"></p><div class="clearfix" style="clear: both;"></div></header></div></section><section class="fl-layout-container" id="fl-layout-controls-container" style="width: 100%; position: relative; order: 10; display: none;"><div class="fl-layout-inner" id="fl-layout-controls" style="width: 100%; position: relative;"><div style="display: flex; flex-wrap: wrap; justify-content: flex-start;"><div class="fl-controls-container region-control" style="display: none; align-items: center; margin-left: 0px; margin-right: 1em;"><div class="fl-controls-title" style="display: none;"></div><div class="fl-control fl-control-dropdown" style="display: none;"><select><option value="DISTRICT" selected="selected">DISTRICT</option></select></div><div class="fl-control fl-control-buttons hidden"></div><div class="fl-control fl-control-slider" style="flex: 1 1 0%; display: none;"><div class="slider-play" role="button" aria-label="play-button" cursor="pointer" tabindex="0"></div><div class="fl-controls-slider" style="display: flex; align-items: center;"><input type="range" id="slider-range" name="slider-range" value="0"><label class="slider-label" for="slider-range"></label></div></div></div><div class="fl-controls-container point-control" style="display: none; align-items: center; margin-left: 0px; margin-right: 1em;"><div class="fl-controls-title" style="display: none;"></div><div class="fl-control fl-control-dropdown" style="display: none;"><select></select></div><div class="fl-control fl-control-buttons hidden"></div><div class="fl-control fl-control-slider" style="flex: 1 1 0%; display: none;"><div class="slider-play" role="button" aria-label="play-button" cursor="pointer" tabindex="0"></div><div class="fl-controls-slider" style="display: flex; align-items: center;"><input type="range" id="slider-range" name="slider-range" value="0"><label class="slider-label" for="slider-range"></label></div></div></div></div></div></section><section class="fl-layout-container" id="fl-layout-legend-container" style="width: 100%; position: relative; order: 20; display: none;"><div class="fl-layout-inner" id="fl-layout-legend" style="width: 100%; position: relative;"><div class="fl-legend-wrapper" style="user-select: none; align-items: flex-start; display: flex; flex-direction: column;"><p class="fl-legend-announcement fl-legend-sr-only" id="fl-legend-announcement"></p><div class="fl-legend-container" id="fl-legend-discrete-color-1" style="display: none; justify-content: flex-start; padding-inline-end: 0px; padding-bottom: 0.25rem;"><p class="fl-legend-title" style="font-weight: bold; font-size: 1rem; margin-right: 0.25rem; line-height: 1.25em; margin-top: 0px; margin-bottom: 0px; text-align: start;"></p></div><div class="fl-legend-container" id="fl-legend-continuous-color-0" style="justify-content: flex-start; align-items: flex-start; display: none; padding-inline-end: 0px; padding-bottom: 0.25rem;"><p class="fl-legend-title" style="font-weight: bold; font-size: 1rem; margin-right: 0.25rem; line-height: 1.25em; margin-top: 0px; margin-bottom: 0px; text-align: start; display: none; padding-inline: 0px 0.2em;"></p><div class="min label" style="font-weight: normal; font-size: 1rem; display: inline-flex; align-items: center; vertical-align: middle; user-select: none; line-height: 1.25em; padding-inline: 0px 0.2em;"><tspan class="custom-label" style="text-align: center; padding-inline-end: 0.2em;"> </tspan><tspan class="number" style="display: none;">1</tspan></div><div class="color-range-container" style="display: inline-block;"><canvas class="color-range" width="224" height="28" style="border-radius: 3px; width: 112px; height: 14px; display: block; margin-left: 3.45px;"></canvas><canvas class="color-range-labels" width="245.50000047683716" style="width: 122.75px; display: block; height: 14px; margin-top: 0.2em;" height="28"></canvas></div><div class="max label" style="font-weight: normal; font-size: 1rem; display: inline-flex; align-items: center; vertical-align: middle; user-select: none; line-height: 1.25em; padding-inline: 0.2em 0px;"><tspan class="number" style="display: none;">14</tspan><tspan class="custom-label" style="text-align: center; padding-inline-start: 0.2em;"> </tspan></div></div><div class="fl-legend-container" id="fl-legend-continuous-size-0" style="display: none; align-items: center; min-height: 14px; justify-content: flex-start; padding-inline-end: 0px; padding-bottom: 0.25rem;"><p class="fl-legend-title" style="font-weight: bold; font-size: 1rem; margin-right: 0.25rem; line-height: 1.25em; margin-top: 0px; margin-bottom: 0px; text-align: start;"></p><div class="min label" style="font-weight: normal; font-size: 1rem;"></div><div class="symbols"><canvas class="min symbol"></canvas><canvas class="max symbol"></canvas></div><div class="max label" style="font-weight: normal; font-size: 1rem;"></div></div><div class="fl-legend-container" id="fl-legend-discrete-color-2" style="display: none; justify-content: flex-start; padding-inline-end: 0px; padding-bottom: 0.25rem;"><p class="fl-legend-title" style="font-weight: bold; font-size: 1rem; margin-right: 0.25rem; line-height: 1.25em; margin-top: 0px; margin-bottom: 0px; text-align: start;"></p></div><div class="fl-legend-container interactive" id="fl-legend-discrete-color-0" style="display: none; justify-content: flex-start; padding-inline-end: 0px; padding-bottom: 0.25rem;"><p class="fl-legend-title" style="font-weight: bold; font-size: 1rem; margin-right: 0.25rem; line-height: 1.25em; margin-top: 0px; margin-bottom: 0px; text-align: start;"></p></div></div></div></section><section class="fl-layout-container" id="fl-layout-primary-container" style="width: 100%; position: relative; order: 30; display: flex; overflow: hidden;" aria-label="primary visualisation container"><p id="fl-layout-primary-description" style="border: 0px; height: 1px; width: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; clip: rect(0px, 0px, 0px, 0px);"></p><div class="fl-layout-inner has-updated" id="fl-layout-primary" style="width: 100%; position: relative; height: 621.605px;" aria-hidden="true"><svg class="fl-annotations fl-ignore-svg-download" aria-hidden="true"><defs></defs><g class="fl-annotations-cursor inner-outline"><circle r="16"></circle><line x1="-6" x2="6"></line><line y1="-6" y2="6"></line></g><g class="fl-annotations-cursor"><circle r="16"></circle><line x1="-6" x2="6"></line><line y1="-6" y2="6"></line></g></svg><div class="fl-annotations"></div><div class="search-container" style="display: none; width: 12rem;"><input type="text" tabindex="0" placeholder="Search.." style="background-color: rgba(245, 245, 245, 0.8); color: rgb(51, 51, 51); width: 2rem; height: 2rem; padding: 0px 0px 0px calc(-4px + 2rem); border-radius: 4px; font-size: 1.1rem; border: 2px solid rgba(51, 51, 51, 0.1);"><div class="search-list" style="box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 3px; background-color: rgba(245, 245, 245, 0.8); color: rgb(51, 51, 51); border-radius: 3px; font-size: 1.1rem;" data-pale-background="true"></div><div class="search-icon" style="width: 0.8rem; height: 0.8rem; left: 0.6rem; top: 0.6rem;"><svg class="fl-ignore-svg-download" width="12px" height="12px" viewBox="0 0 12 12"><path d="M4.71428571,0.571428571 C5.35268176,0.571428571 5.96316673,0.695311261 6.54575893,0.943080357 C7.12835113,1.19084945 7.63057825,1.52566753 8.05245536,1.94754464 C8.47433247,2.36942175 8.80915055,2.87164887 9.05691964,3.45424107 C9.30468874,4.03683327 9.42857143,4.64731824 9.42857143,5.28571429 C9.42857143,6.26786205 9.15178848,7.15847815 8.59821429,7.95758929 L10.8950893,10.2544643 C11.0602687,10.4196437 11.1428571,10.6205345 11.1428571,10.8571429 C11.1428571,11.0892869 11.0580366,11.2901777 10.8883929,11.4598214 C10.7187492,11.6294651 10.5178583,11.7142857 10.2857143,11.7142857 C10.0446417,11.7142857 9.8437508,11.6294651 9.68303571,11.4598214 L7.38616071,9.16964286 C6.58704958,9.72321705 5.69643348,10 4.71428571,10 C4.07588967,10 3.4654047,9.87611731 2.8828125,9.62834821 C2.3002203,9.38057912 1.79799318,9.04576104 1.37611607,8.62388393 C0.954238962,8.20200682 0.619420882,7.6997797 0.371651786,7.1171875 C0.12388269,6.5345953 0,5.92411033 0,5.28571429 C0,4.64731824 0.12388269,4.03683327 0.371651786,3.45424107 C0.619420882,2.87164887 0.954238962,2.36942175 1.37611607,1.94754464 C1.79799318,1.52566753 2.3002203,1.19084945 2.8828125,0.943080357 C3.4654047,0.695311261 4.07588967,0.571428571 4.71428571,0.571428571 Z M4.71428571,2.28571429 C3.88838873,2.28571429 3.18192258,2.57923814 2.59486607,3.16629464 C2.00780956,3.75335115 1.71428571,4.4598173 1.71428571,5.28571429 C1.71428571,6.11161127 2.00780956,6.81807742 2.59486607,7.40513393 C3.18192258,7.99219044 3.88838873,8.28571429 4.71428571,8.28571429 C5.5401827,8.28571429 6.24553279,7.9933065 6.83035714,7.40848214 C7.4196458,6.81919348 7.71428571,6.11161127 7.71428571,5.28571429 C7.71428571,4.4598173 7.42076186,3.75335115 6.83370536,3.16629464 C6.24664885,2.57923814 5.5401827,2.28571429 4.71428571,2.28571429 Z" id="search" fill="#333333" stroke="none" stroke-width="1" fill-rule="evenodd"></path></svg></div></div><div style="touch-action: pan-y;"><div class="state-zoom-container"></div><canvas width="1546" height="1243" style="width: 773px; height: 621.605px; margin-top: 0px; margin-bottom: 0px;"><div id="accessible-points"><div class="accessible-point" data-id="points-0" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-1" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-2" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-3" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-4" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-5" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-6" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-7" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-8" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-9" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-10" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-11" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-12" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-13" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-14" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-15" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-16" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-17" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-18" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-19" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-20" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-21" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-22" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-23" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-24" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-25" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-26" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-27" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-28" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-29" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-30" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-31" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-32" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-33" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-34" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-35" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-36" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-37" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-38" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-39" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-40" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-41" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-42" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-43" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-44" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-45" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-46" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-47" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-48" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-49" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-50" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-51" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-52" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-53" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-54" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-55" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-56" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-57" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-58" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-59" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-60" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-61" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-62" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-63" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-64" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-65" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-66" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-67" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-68" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-69" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-70" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-71" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-72" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-73" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-74" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-75" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-76" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-77" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-78" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-79" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-80" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-81" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-82" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-83" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-84" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-85" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-86" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-87" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-88" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-89" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-90" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-91" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-92" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-93" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-94" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-95" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-96" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-97" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-98" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-99" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-100" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-101" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-102" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-103" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-104" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-105" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-106" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-107" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-108" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-109" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-110" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-111" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-112" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-113" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-114" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-115" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-116" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-117" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-118" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-119" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-120" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-121" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-122" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-123" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-124" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-125" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-126" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-127" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-128" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-129" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-130" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-131" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-132" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-133" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-134" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-135" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-136" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-137" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-138" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-139" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-140" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-141" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-142" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-143" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-144" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-145" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-146" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-147" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-148" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-149" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-150" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-151" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-152" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-153" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-154" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-155" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-156" role="img" aria-roledescription="data point"></div><div class="accessible-point" data-id="points-157" role="img" aria-roledescription="data point"></div></div><div id="accessible-regions"><div class="accessible-region" data-id="regions-0" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-1" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-2" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-3" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-4" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-5" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-6" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-7" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-8" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-9" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-10" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-11" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-12" role="img" aria-roledescription="data point"></div><div class="accessible-region" data-id="regions-13" role="img" aria-roledescription="data point"></div></div></canvas></div></div><div id="fl-layout-overlay" style="position: absolute; display: none; width: 100%; height: 100%; top: 0px; left: 0px; background-color: rgb(200, 200, 200); z-index: 999999; pointer-events: none;"><p class="fl-layout-overlay-message" style="color: rgb(51, 51, 51); font-size: 1.5rem; padding-left: 15%; padding-right: 15%; width: 100%; box-sizing: border-box; position: absolute; top: 50%; transform: translate(0px, -50%); margin: 0px; text-align: center;"></p></div></section><section class="fl-layout-container" id="fl-layout-footer-container" style="width: 100%; position: relative; order: 40; display: none;"><div class="fl-layout-inner" id="fl-layout-footer" style="width: 100%; position: relative;"><footer class="flourish-footer" style="display: flex; height: 0px; width: 100%; font-family: inherit; font-weight: normal; justify-content: space-between; font-size: 1rem; color: rgb(51, 51, 51); align-items: center;"><div class="flourish-footer-text" id="flourish-footer-text"><p></p></div><div class="flourish-footer-logo-container"></div></footer><div class="flourish-reloader" style="display: none;"><div id="flourish-reloader-message" style="font-size: 0.85rem; color: rgb(119, 119, 119);"></div><div id="flourish-reloader-progress" style="margin-right: 0.5em; border-radius: 0.33em; overflow: hidden; display: block; width: 2rem; height: 0.25rem; background: rgb(221, 221, 221);"><div style="height: 100%; width: 0%; background: rgb(153, 153, 153);"></div></div></div></div></section></main><aside id="fl-layout-sidebar" style="position: relative;"></aside></div><div id="flourish-popup-constrainer" aria-hidden="true" style="overflow: hidden; pointer-events: none; position: absolute; left: 0px; top: 0px; margin: 0px; padding: 0px; width: 794px; height: 970px;"><div class="flourish-popup" id="flourish-popup-1000" style="display: none; padding: 0px; margin: 0px; position: absolute; width: 141px; height: 81px; box-sizing: border-box; left: 608.131px; top: 347.69px;"><svg class="flourish-popup-svg" style="position: absolute; inset: 0px;" width="141" height="81"><filter id="dropshadow-1000" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"></feGaussianBlur><feOffset dx="0" dy="2" result="offsetblur"></feOffset><feComponentTransfer><feFuncA type="linear" slope="0.2"></feFuncA></feComponentTransfer><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter><g filter="url(#dropshadow-1000)" fill="white" stroke="none" style="fill: rgb(255, 255, 255); opacity: 1;"><rect x="25" y="25" rx="0.2rem" width="91" height="31"></rect><path d="M0,0L-10,10,10,10Z" transform="translate(70.5,15)" style="display: none;"></path></g></svg><div class="flourish-popup-content" style="position: absolute; left: 25px; top: 25px; padding: 0px; max-width: 555.8px; pointer-events: none; text-align: start; color: rgb(51, 51, 51); font-size: 1rem; border-radius: 0.2rem;"><div class="flourish-panel-content-inner"><div class="main-content"><ul><li><span class="data-heading">DISTRICT:  </span> 14</li></ul></div></div></div></div><div class="flourish-popup" id="flourish-popup-1001" style="display: none; padding: 0px; margin: 0px; position: absolute; width: 70px; height: 70px; box-sizing: border-box; left: -15px; top: -15px;"><svg class="flourish-popup-svg" style="position: absolute; inset: 0px;" width="70" height="70"><filter id="dropshadow-1001" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"></feGaussianBlur><feOffset dx="0" dy="2" result="offsetblur"></feOffset><feComponentTransfer><feFuncA type="linear" slope="0.2"></feFuncA></feComponentTransfer><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter><g filter="url(#dropshadow-1001)" fill="white" stroke="none"><rect x="25" y="25" rx="5" width="20" height="20"></rect><path d="M0,0L15,10,10,15Z" transform="translate(15,15)"></path></g></svg><div class="flourish-popup-content" style="position: absolute; left: 25px; top: 25px; padding: 10px; max-width: 555.8px;"></div></div></div><div id="flourish-popup-constrainer" style="overflow: hidden; pointer-events: none; position: absolute; left: 0px; top: 0px; margin: 0px; padding: 0px; width: 794px; height: 970px;"><div class="flourish-popup" id="flourish-popup-1" style="display: none; padding: 0px; margin: 0px; position: absolute; width: 78px; height: 78px; box-sizing: border-box; left: -15px; top: -15px;"><svg class="flourish-popup-svg" style="position: absolute; inset: 0px;" width="78" height="78"><filter id="dropshadow-1" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"></feGaussianBlur><feOffset dx="0" dy="2" result="offsetblur"></feOffset><feComponentTransfer><feFuncA type="linear" slope="0.2"></feFuncA></feComponentTransfer><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter><g filter="url(#dropshadow-1)" fill="white" stroke="none" style="fill: rgb(255, 255, 255); opacity: 1;"><rect x="25" y="25" rx="3" width="28" height="28"></rect><path d="M0,0L15,10,10,15Z" transform="translate(15,15)" style="display: block;"></path></g></svg><div class="flourish-popup-content" style="position: absolute; left: 25px; top: 25px; padding: 1rem; max-width: 555.8px; text-align: left;"></div></div></div><script src="a_data_002/embedded.js"></script><script>
window.addEventListener("message", function(event) {

	var a = document.createElement("a");
	a.href = event.origin;
	var origin_okay = (a.hostname == window.location.hostname)
		|| window.location.hostname === "localhost"
		|| (a.hostname.match(/\.flourish\.local$/) && window.location.hostname.match(/\.flourish\.local$/))
		|| (a.hostname.match(/\.flourish\.net$/) && window.location.hostname.match(/\.flourish\.net$/))
		|| (a.hostname.match(/\.flourish\.rocks$/) && window.location.hostname.match(/\.flourish\.rocks$/))
		|| (a.hostname.match(/\.flourish-internal\.com$/) && window.location.hostname.match(/\.flourish-internal\.com$/))
		|| (a.hostname.match(/\.flourish\.studio$/) && window.location.hostname.match(/\.flourish\.studio$/))
		|| (a.hostname == "app.flourish.studio" && window.location.hostname == "flourish-user-templates.com")
		|| (a.hostname == "app.flourish.studio" && window.location.hostname == "flourish-user-preview.com")
		|| (a.hostname == "flourish-user-preview.com" && window.location.hostname == "flourish-user-templates.com")
		|| (
			(a.hostname == "public.flourish.studio" && window.location.hostname == "flo.uri.sh")
			|| (a.hostname == "public.flourish.rocks" && window.location.hostname == "staging-flo.uri.sh")
			|| (a.hostname == "public.dev.flourish.rocks" && window.location.hostname == "dev-flo.uri.sh")
		);

	if (!origin_okay) return;

	var message = event.data;
	var port = event.ports[0];
	if (!port || typeof message !== "object" || message.sender !== "Flourish") return;
	var result = null;
	function assign(target, source) {
		for (var k in source) {
			if (Object.prototype.hasOwnProperty.call(source, k)) target[k] = source[k];
		}
	}
	function deepAssign(target, source, is_destructive) {
		for (var k in source) {
			if (!Object.prototype.hasOwnProperty.call(source, k)) continue;
			if (
				typeof target[k] === "object" && target[k] != null && !Array.isArray(target[k])
				&& typeof source[k] === "object" && source[k] != null && !Array.isArray(source[k])
			) {
				deepAssign(target[k], source[k], is_destructive);
			}
			else target[k] = source[k];
		}
		if (is_destructive) {
			for (var k in target) {
				if (Object.prototype.hasOwnProperty.call(target, k) && !Object.prototype.hasOwnProperty.call(source, k)) delete target[k];
			}
		}
	}
	try {
		var i, a;
		switch(message.method) {
			case "getState":
			result = window.template.state;
			if (message.argument) for (a = message.argument.split("."), i = 0; i < a.length; i++) {
				result = result[a[i]];
			}
			break;

			case "setState":
			deepAssign(window.template.state, message.argument);
			break;

			case "hasData":
			result = !!window.template.data;
			break;

			case "setData":
			assign(window.template.data, message.argument);
			break;

			case "getData":
			result = window.template.data;
			break;

			case "setMetadata":
			if (!window.template.metadata) window.template.metadata = {};
			assign(window.template.metadata, message.argument);
			break;

			case "getMetadata":
			result = window.template.metadata;
			break;

			case "draw":
			window.template.draw();
			break;

			case "update":
			window.template.update();
			break;

			case "snapshot":
			result = window.snapshot(message.argument, port);
			break;

			case "setFixedHeight":
			if (window.Flourish) {
				window.Flourish.fixed_height = message.argument != null;
				window.Flourish.__container_height = message.argument;
				if (window.Flourish.checkHeight) window.Flourish.checkHeight();
			}
			break;

			case "sync":
			var spec = message.argument;
			if (spec.data) {
				assign(window.template.data, spec.data);
			}
			if (spec.metadata) {
				if (!window.template.metadata) window.template.metadata = {};
				assign(window.template.metadata, spec.metadata);
			}
			if (spec.state) {
				deepAssign(window.template.state, spec.state, spec.overwrite_state);
			}
			// only allow draw or update, not both
			if (spec.draw) {
				window.template.draw();
			}
			else if (spec.update) {
				window.template.update();
			}
			result = "success";
			break;
		}

		port.postMessage({result: result});
	}
	catch (e) {
		port.postMessage({error: e.message});
		throw e;
	}
}, false);
!function(){"use strict";window.snapshot=function(e,t){function n(e){return Number.isInteger(e)&&e>0}let r;if(e.quiet||console.log("snapshotting with options",e),e.timeout_ms&&!n(e.timeout_ms))return void A("timeout_ms must be a positive integer");if(e.wait_for_animation_ms&&!n(e.wait_for_animation_ms))return void A("wait_for_animation_ms must be a positive integer");"svg"===e.format&&(e.thumbnail_height||e.thumbnail_width)&&console.warn("Thumbnail cropping is not supported for SVGs. thumbnail_height and thumbnail_width will be ignored.");var o,a=(new Date).getTime(),i={},s=document.location.href.substr(0,document.location.href.lastIndexOf("?")),l=[],c="image/"+e.format;const u=/url\(\s*?['"]?\s*?(\S+?)\s*?["']?\s*?\)/gi,d=new AbortController;e.timeout_ms&&(r=setTimeout(()=>{d.abort("Exceeded configured snapshot timeout")},e.timeout_ms));class f extends Error{constructor(t){super(`Snapshot function exceeded the configured timeout of ${e.timeout_ms}ms. Try reducing the size of embedded images or files.`),this.step=t}}function h(){var t=Array.from(arguments),n=t[0],r=(new Date).getTime()-a,o=[r].concat(t.slice(1));e.quiet||console.log.apply(console,o),i[n+"_ms"]=r}function g(e,t){var n=t||s;return-1!==e.indexOf("://")||0===e.indexOf("//")||(e=0===e.indexOf("../")?n.substr(0,n.lastIndexOf("/",n.length-2))+"/"+e.substr(3):n+e),e}async function m(){const e=await Promise.all([].slice.call(document.styleSheets).map(p));var t=document.createElement("style");t.innerHTML=e.join(""),o.insertBefore(t,o.firstChild),h("inlined_stylesheets","inlined stylesheets")}function p(t){return y(function(n,r){var o,a="",i=[];async function s(e){var t=e.substr(0,e.lastIndexOf("/")+1);try{const n=await w(e,"text");a+=function(e,t){var n,r=/@font-face\s*\{([^}]*)\}/g;for(;null!==(n=r.exec(e));){var o=n[1],a=/font-weight:\s*([^;]+);/g.exec(o)&&/font-weight:\s*([^;]+);/g.exec(o)[1]||"normal",i=/font-style:\s*([^;]+);/g.exec(o)&&/font-style:\s*([^;]+);/g.exec(o)[1]||"normal",s=/unicode-range:\s*([^;]+);/g.exec(o)&&/unicode-range:\s*([^;]+);/g.exec(o)[1]||"U+0-10FFFF";l.push({family:/font-family:\s*([^;]+);/g.exec(o)[1],weight:a,style:i,unicode_range:s,url:c(o,t)})}return e.replace(r,"")}(n,t),a=await async function(e,t){let n;const r=[];for(;null!==(n=u.exec(e));){const[e,o]=n;o&&0!==o.indexOf("data:")&&r.push(new Promise((n,r)=>{v(g(o,t)).then(t=>{n({match:e,dataUrl:t})}).catch(e=>{console.error(e),r()})}))}return(await Promise.allSettled(r)).forEach(t=>{"fulfilled"===t.status&&(e=e.replace(t.value.match,`url('${t.value.dataUrl}')`))}),e}(a,t)}catch(e){console.error(e)}}function c(t,n){for(var r,o,a=/url\(['"]?([^'")]*)['"]?\)/g;null!==(o=a.exec(t));)-1!==o[1].indexOf(e.fontFormat||".woff")&&(r=g(o[1],n));return r}if(t.href)i.push(s(t.href));else if(t.rules){var d;o=t.rules,t.href&&(d=t.href.substr(0,t.href.lastIndexOf("/")+1));for(var f=0;f<o.length;f++){var h=o[f];h.type===CSSRule.IMPORT_RULE?i.push(s(h.href)):h.type===CSSRule.FONT_FACE_RULE?l.push({family:h.style.fontFamily,weight:h.style.fontWeight||"normal",unicode_range:h.style.unicodeRange||"U+0-10FFFF",url:c(h.style.src,d)}):a+=h.cssText}}Promise.all(i).then(function(){n(a)})})}function w(t,n){return new Promise(function(r,o){let a=e.cache_override,i=t;if(!a){a="no-store";try{const e=new URL(t),n=new URLSearchParams(e.search);n.set("_cache_bust",Date.now().toString()),e.search=n.toString(),i=e.toString()}catch(e){}}fetch(i,{cache:a,signal:d.signal}).then(e=>{200===e.status?"blob"===n?e.blob().then(e=>r(e)):e.text().then(e=>r(e)):403===e.status?o("Access forbidden to: "+t):e.status>=400&&e.status<=499&&o(e.status+" error fetching: "+t)}).catch(e=>{console.error("Error sending AJAX request to fetch: "+t,e),o(e)})})}function y(e){return new Promise(function(t,n){d.signal.aborted&&n(new f),d.signal.addEventListener("abort",()=>{n(new f)}),e(t,n)})}function v(e){return y(function(t,n){w(e,"blob").then(function(e){var n=new window.FileReader;n.readAsDataURL(e),n.onloadend=function(){t(n.result)}}).catch(function(e){n(e)})})}function b(e){return y(function(t,n){h("inlining_images","inlining images");const r=function(e){const t=[e,...e.querySelectorAll("[style*=background]")],n=["initial","inherit","unset","revert","revert-layer"];return t.filter(e=>!!e.style?.backgroundImage&&!n.includes(e.style.backgroundImage))}(e),o=e.querySelectorAll("img, svg image");let a=o.length+r.length;i.images_to_process=a,h("processing_images","processing",a,"images"),a||t();const s=[];[...o].forEach(e=>{const t=e.currentSrc||e.src||(e.href?e.href.baseVal:null);t&&0!==t.indexOf("data:")&&s.push(new Promise((n,r)=>{v(g(t)).then(function(t){e.src?e.src=t:e.href&&e.setAttribute("href",t),n()}).catch(function(t){e&&e.parentNode&&e.parentNode.removeChild(e),r(t)})}))}),r.forEach(e=>{const t=[...e.style.backgroundImage.matchAll(u)];s.push(new Promise((n,r)=>{Promise.allSettled(t.map(e=>new Promise((t,n)=>{const r=e[1];0!==r.indexOf("data:")?v(g(r)).then(n=>{t({match:e[0],data:n})}).catch(e=>n(e)):t()}))).then(t=>{t.filter(e=>"fulfilled"===e.status&&e.value).forEach(t=>{e.style.backgroundImage=e.style.backgroundImage.replace(t.value.match,`url(${t.value.data})`)}),n()}).catch(function(e){r(e)})}))}),Promise.allSettled(s).then(()=>{t()})})}function _(t,n,r,o,a){if(o&&a)return function(t,n,r,o,a){let i=t;if(navigator.userAgent.toLowerCase().includes("firefox")){const n=t.naturalWidth,r=t.naturalHeight,o=document.createElement("canvas");o.width=n,o.height=r,e.transparent_background||(o.style.backgroundColor="#fff"),o.getContext("2d",{alpha:!1}).drawImage(t,0,0,n,r),i=o}const s=o*(r||1),l=a*(r||1),c=document.createElement("canvas");c.width=s,c.height=l,e.transparent_background||(c.style.backgroundColor="#fff");const u=c.getContext("2d",{alpha:!1}),d=t.naturalWidth/t.naturalHeight,f=o/a;let h=t.naturalWidth,g=t.naturalHeight;return d>f?h=t.naturalHeight*f:g=t.naturalWidth/f,u.drawImage(i,0,0,h,g,0,0,s,l),c.toDataURL(n||"image/png")}(t,n,r,o,a);const i=t.naturalWidth*(r||1),s=t.naturalHeight*(r||1),l=document.createElement("canvas"),c=l.getContext("2d");return l.width=i,l.height=s,e.transparent_background||(l.style.backgroundColor="#fff"),c.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,i,s),l.toDataURL(n||"image/png")}function x(t){var n=document.createElement("a");document.body.appendChild(n);var r=e.filename||"snapshot-"+(new Date).getTime();e.scale&&1!==e.scale&&(r+="@"+e.scale+"x"),r+="."+e.format,n.download=r,n.href=t,n.click(),window.setTimeout(function(){document.body.removeChild(n)},0)}function S(e){const t=unescape(encodeURIComponent(e));return btoa(t)}function A(e,n){t?t.postMessage({result:{status:"error",error:e}}):(alert("Sorry, there was a problem"),console.error(e)),clearTimeout(r),n&&n(e)}function E(e){return!!d.signal.aborted&&(A((new f).message,e),!0)}Promise.allSettled||(Promise.allSettled=function(e){const t=e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e})).catch(e=>({status:"rejected",reason:e})));return Promise.all(t)});var L="svg"===e.format?function(n){setTimeout(()=>function(n){for(var o,a=[],i=0,s=0,l=1/0,c=1/0,u=document.body.querySelectorAll("svg:not(.fl-ignore-svg-download)"),d=0;d<u.length;d++){var f=u[d];if(!f.classList.contains("flourish-popup-svg")){var h=f.getBoundingClientRect();l=Math.min(l,h.left),c=Math.min(c,h.top)}}for(var g=0;g<u.length;g++){var m=u[g];if(!m.classList.contains("flourish-popup-svg")){var p=m.getBoundingClientRect(),w=p.left-l,y=p.top-c;i=Math.max(e.width||i,w+p.width),s=Math.max(e.height||s,y+p.height),a.push({svg:m,top:y,left:w})}}if(!a.length)return void A("No SVG found to export",n);1==a.length?o=(new XMLSerializer).serializeToString(a[0].svg):(o="<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+Math.ceil(i)+"px' height='"+Math.ceil(s)+"px'>",a.forEach(function(e){var t=e.svg.cloneNode(!0);t.setAttribute("x",e.left),t.setAttribute("y",e.top),o+=(new XMLSerializer).serializeToString(t)}),o+="</svg>");const v={result:{status:"completed"}};if(e.download){var b=URL.createObjectURL(new Blob([o]));x(b),URL.revokeObjectURL(b)}else v.result.data="data:image/svg+xml;base64,"+S(o);t&&t.postMessage(v),clearTimeout(r),n&&n()}(n),0)}:async function(n){if(!E(n))if(document.implementation.hasFeature("www.http://w3.org/TR/SVG11/feature#Extensibility","1.1")){if(o=function(e){const t=e.cloneNode(!0),n="input[type='checkbox'], input[type='radio']",r=t.querySelectorAll(n);e.querySelectorAll(n).forEach((e,t)=>{const n=r[t];e.checked?n.setAttribute("checked","checked"):n.removeAttribute("checked")});const o="input[type='range'], input[type='text'], input[type='number']",a=t.querySelectorAll(o);e.querySelectorAll(o).forEach((e,t)=>{a[t].setAttribute("value",e.value)});const i="select",s=t.querySelectorAll(i);e.querySelectorAll(i).forEach((e,t)=>{const n=s[t];Array.from(e.options).forEach((e,t)=>{e.selected?n.options[t].setAttribute("selected","selected"):n.options[t].removeAttribute("selected")})});const l="textarea",c=t.querySelectorAll(l);return e.querySelectorAll(l).forEach((e,t)=>{c[t].value=e.value}),t}(document.body),h("cloned_document","cloned document"),!E(n)){for(var a=o.querySelectorAll("script,style,link"),s=0;s<a.length;s++)if(a[s].parentNode.removeChild(a[s]),E(n))return;if(h("stripped_scripts_etc","stripped scripts etc"),!E(n)){try{await Promise.all([(u=o,y(function(e,t){for(var n=document.body.querySelectorAll("canvas"),r=u.querySelectorAll("canvas"),o=0;o<r.length;o++){var a=r[o];if(a.height&&a.width){var i=a.getContext("2d");if(a.getContext("webgl")||a.getContext("experimental-webgl"))t("Sorry, this slide includes WebGL which cannot be snapshotted");else{i.drawImage(n[o],0,0);var s=n[o],l=s.getBoundingClientRect(),c=document.createElement("img");c.width=l.width,c.height=l.height,c.src=a.toDataURL("image/png");const e=window.getComputedStyle(s);for(let t of e)e.getPropertyValue(t)&&c.style.setProperty(t,e.getPropertyValue(t));a.parentNode.insertBefore(c,a),a.style.display="none"}}}e()})),m()])}catch(e){if(e instanceof f)return void A(e.message,n);console.error(e)}var u;try{await Promise.all([y(function(e,t){var n=l.length;function r(){--n<=0&&e()}i.fonts_to_inline=l.length,h("inlining_fonts","inlining fonts",l.length),l.length||e(),l.forEach(function(e){e.url?v(e.url).then(function(t){e.dataURL=t,r()}).catch(function(e){r()}):r()})}),b(o)])}catch(e){if(e instanceof f)return void A(e.message,n);console.error(e)}try{const a=await y(function(t,n){h("serializing_xml","serializing xml");const r=window.getComputedStyle(document.documentElement).getPropertyValue("font-size");var a='<svg xmlns="http://www.w3.org/2000/svg" width="'+(e.width||document.body.clientWidth)+'" height="'+(e.height||document.body.clientHeight)+'" style="font-size:'+r+'"><defs><style type="text/css">';l.forEach(function(e){e.dataURL&&(a+="@font-face { font-family:"+e.family+"; font-weight:"+e.weight+"; font-style:"+e.style+"; unicode-range: "+e.unicode_range+"; src:url("+e.dataURL+"); }")}),a+="</style></defs>";var s=e.transparent_background?"":' style="background:#fff"';a+='<foreignObject width="100%" height="100%"'+s+">"+(new XMLSerializer).serializeToString(o)+"</foreignObject></svg>",i.serialized_xml_length=a.length,h("serialized_xml","serialized xml",a.length);var u=new Image;u.onload=function(){h("svg_image_loaded","svg image loaded"),setTimeout(function(){var r;try{const n=_(u,c,e.scale,e.thumbnail_width,e.thumbnail_height);r={status:"completed"},e.download?x(n):(r.data=n,r.logging=i),t(r)}catch(e){n("Sorry, the snapshot could not be generated")}},0)},u.onerror=function(e){const t=(new DOMParser).parseFromString(a,"image/svg+xml").querySelector("parsererror");n(t?"Snapshot could not be generated due to a parsing error. Please check custom HTML fields for errors and try again. Otherwise, there may be an error in the template.":"Snapshot could not be generated, probably because of an error in the template")},u.src="data:image/svg+xml;base64,"+S(a)});t&&t.postMessage({result:a}),h("finished","finished"),clearTimeout(r),n&&n()}catch(e){A(e instanceof f?e.message:e,n)}}}}else A("Sorry, not supported on your browser",n)};if(MutationObserver&&e.wait_for_animation_ms){const t=document.body,n={attributes:!0,childList:!0,subtree:!0};let r;const o=function(e,t,n){let r,o;return function(){const a=this,i=arguments;clearTimeout(r),r=setTimeout(()=>{e.apply(a,i),clearTimeout(o)},t),n&&!o&&(o=setTimeout(()=>{clearTimeout(r),o=null,e.apply(a,i)},n))}}(e=>{requestAnimationFrame(()=>P()),r.disconnect()},200,e.wait_for_animation_ms);r=new MutationObserver(o),r.observe(t,n),o()}else P();async function P(){window.template.screenshot?window.template.screenshot(e,function(){return new Promise(function(e,t){L(function(n){if(n)return t(n);e()})})}):L()}return{status:"started"}}}();
//# sourceMappingURL=snapshot.js.map
</script><div class="font-samples" style="visibility: hidden; overflow: hidden; height: 0px;"></div><div class="flourish-panel" role="dialog" aria-modal="true" tabindex="-1" id="flourish-panel-1" style="position: absolute; z-index: 999999; pointer-events: none; width: 100%; height: 100%; top: 0px; left: 0px; background: rgba(255, 255, 255, 0);"><div class="flourish-panel-inner" style="width: 0px; height: 0px; position: absolute; box-sizing: border-box; background: rgba(255, 255, 255, 0.9); border-radius: 0.2rem; box-shadow: rgba(0, 0, 0, 0.2) 0px 0px 1.5rem;"><svg class="flourish-panel-close fl-ignore-svg-download" viewBox="0 0 40 40" style="width: 1.25rem; height: 1.25rem; position: absolute; right: 1rem; top: 1rem; cursor: pointer; opacity: 0;" tabindex="-1" role="button" aria-label="Close"><path stroke="#333333" stroke-width="0.5rem" stroke-linecap="round" d="M 10,10 L 30,30 M 30,10 L 10,30" style="stroke: rgb(51, 51, 51);"></path></svg><div class="flourish-panel-shadow"></div><div class="flourish-panel-content" style="opacity: 0; overflow-y: auto; height: 100%; padding: 1.2rem; text-align: start; color: rgb(51, 51, 51); font-size: 1.25rem; box-sizing: border-box;"></div></div></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>